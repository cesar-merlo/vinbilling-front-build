!function(){function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return e};var e={},n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,r=Object.create(o.prototype),a=new P(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return _()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var c=y(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var s=g(t,e,n);if("normal"===s.type){if(i=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),r}function g(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var p={};function h(){}function d(){}function u(){}var b={};s(b,r,(function(){return this}));var m=Object.getPrototypeOf,f=m&&m(m(O([])));f&&f!==n&&i.call(f,r)&&(b=f);var v=u.prototype=h.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){var n;this._invoke=function(o,r){function a(){return new e((function(n,a){!function n(o,r,a,c){var s=g(t[o],t,r);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&i.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(s.arg)}(o,r,n,a)}))}return n=n?n.then(a,a):a()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=g(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function O(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=u,s(v,"constructor",u),s(u,"constructor",d),d.displayName=s(u,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,s(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},x(M.prototype),s(M.prototype,a,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,i,o,r){void 0===r&&(r=Promise);var a=new M(l(t,n,i,o),r);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(v),s(v,c,"Generator"),s(v,r,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var c=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(c&&s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"0JFd":function(n,o,r){"use strict";r.r(o),r.d(o,"administrationRoutes",(function(){return zt})),r.d(o,"AdministrationModule",(function(){return Rt}));var a,c=r("ofXK"),s=r("M9IT"),l=r("Dh3D"),g=r("+0xr"),p=r("0IaG"),h=r("fXoL"),d=r("2Vo4"),u=r("lJxs"),b=r("AytR"),m=r("tk/3"),f=((a=function(){function t(n){e(this,t),this.http=n,this.baseUrl=b.a.apiUrl,this.vehicleTemplates=new d.a([]),this.vehicleDamage=new d.a([])}return i(t,[{key:"fetchVehicleTemplates",value:function(){var t=this;return new Promise((function(e,n){t.http.get("".concat(t.baseUrl,"/administration/vehicleTemplate")).subscribe((function(n){var i=n.map((function(t){return{id:t.id,name:t.name,imageUrl:t.imageB64}}));t.vehicleTemplates.next(i),e(n)}),(function(t){n(t)}))}))}},{key:"fetchVehicleDamage",value:function(){var t=this;return new Promise((function(e,n){t.http.get("".concat(t.baseUrl,"/administration/vehicleDamage")).subscribe((function(n){t.vehicleDamage.next(n),e(n)}),(function(t){n(t)}))}))}},{key:"saveVehicleTemplate",value:function(t){var e=this;return this.http.post("".concat(this.baseUrl,"/administration/vehicleTemplate"),t).pipe(Object(u.a)((function(t){return e.fetchVehicleTemplates(),t})))}},{key:"saveVehicleDamage",value:function(t){var e=this;return this.http.post("".concat(this.baseUrl,"/administration/vehicleDamage"),t).pipe(Object(u.a)((function(t){return e.fetchVehicleDamage(),t})))}},{key:"updateVehicleTemplate",value:function(t,e){var n=this;return this.http.put("".concat(this.baseUrl,"/administration/vehicleTemplate/").concat(e),t).pipe(Object(u.a)((function(t){return n.fetchVehicleTemplates(),t})))}},{key:"deleteVehicleTemplate",value:function(t){var e=this;return this.http.delete("".concat(this.baseUrl,"/administration/vehicleTemplate/").concat(t)).pipe(Object(u.a)((function(t){return e.fetchVehicleTemplates(),t})))}},{key:"deleteVehicleDamage",value:function(t){var e=this;return this.http.delete("".concat(this.baseUrl,"/administration/vehicleDamage/").concat(t)).pipe(Object(u.a)((function(t){return e.fetchVehicleDamage(),t})))}},{key:"getMostRecents",value:function(){return this.http.get("".concat(this.baseUrl,"/customers/mostRecents"))}}]),t}()).\u0275fac=function(t){return new(t||a)(h.cc(m.b))},a.\u0275prov=h.Kb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),v=r("38VU"),x=r("3Pt+"),M=r("mrSG"),y=r("jhN1"),C=["wrapper"],w=["sourceImage"];function P(t,e){if(1&t){var n=h.Vb();h.Ub(0,"img",4,5),h.fc("load",(function(){return h.Bc(n),h.jc().imageLoadedInView()})),h.Tb()}if(2&t){var i=h.jc();h.Gc("visibility",i.imageVisible?"visible":"hidden")("transform",i.safeTransformStyle),h.pc("src",i.safeImgDataUrl,h.Cc)}}function O(t,e){if(1&t){var n=h.Vb();h.Sb(0),h.Ub(1,"span",9),h.fc("mousedown",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"topleft")}))("touchstart",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"topleft")})),h.Pb(2,"span",10),h.Tb(),h.Ub(3,"span",11),h.Pb(4,"span",10),h.Tb(),h.Ub(5,"span",12),h.fc("mousedown",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"topright")}))("touchstart",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"topright")})),h.Pb(6,"span",10),h.Tb(),h.Ub(7,"span",13),h.Pb(8,"span",10),h.Tb(),h.Ub(9,"span",14),h.fc("mousedown",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"bottomright")}))("touchstart",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"bottomright")})),h.Pb(10,"span",10),h.Tb(),h.Ub(11,"span",15),h.Pb(12,"span",10),h.Tb(),h.Ub(13,"span",16),h.fc("mousedown",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"bottomleft")}))("touchstart",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"bottomleft")})),h.Pb(14,"span",10),h.Tb(),h.Ub(15,"span",17),h.Pb(16,"span",10),h.Tb(),h.Ub(17,"span",18),h.fc("mousedown",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"top")}))("touchstart",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"top")})),h.Tb(),h.Ub(18,"span",19),h.fc("mousedown",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"right")}))("touchstart",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"right")})),h.Tb(),h.Ub(19,"span",20),h.fc("mousedown",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"bottom")}))("touchstart",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"bottom")})),h.Tb(),h.Ub(20,"span",21),h.fc("mousedown",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"left")}))("touchstart",(function(t){h.Bc(n);var e=h.jc(2);return e.startMove(t,e.moveTypes.Resize,"left")})),h.Tb(),h.Rb()}}function _(t,e){if(1&t){var n=h.Vb();h.Ub(0,"div",6),h.fc("keydown",(function(t){return h.Bc(n),h.jc().keyboardAccess(t)})),h.Ub(1,"div",7),h.fc("mousedown",(function(t){h.Bc(n);var e=h.jc();return e.startMove(t,e.moveTypes.Move)}))("touchstart",(function(t){h.Bc(n);var e=h.jc();return e.startMove(t,e.moveTypes.Move)})),h.Tb(),h.Jc(2,O,21,0,"ng-container",8),h.Tb()}if(2&t){var i=h.jc();h.Gc("top",i.cropper.y1,"px")("left",i.cropper.x1,"px")("width",i.cropper.x2-i.cropper.x1,"px")("height",i.cropper.y2-i.cropper.y1,"px")("margin-left","center"===i.alignImage?i.marginLeft:null)("visibility",i.imageVisible?"visible":"hidden"),h.Gb("ngx-ic-round",i.roundCropper),h.Bb(2),h.pc("ngIf",!i.hideResizeSquares)}}var k,S,A,z,R,I=function(){function t(){e(this,t),this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=void 0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}return i(t,[{key:"setOptions",value:function(t){var e=this;Object.keys(t).filter((function(t){return t in e})).forEach((function(n){return e[n]=t[n]})),this.validateOptions()}},{key:"setOptionsFromChanges",value:function(t){var e=this;Object.keys(t).filter((function(t){return t in e})).forEach((function(n){return e[n]=t[n].currentValue})),this.validateOptions()}},{key:"validateOptions",value:function(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}]),t}(),T={Move:"move",Resize:"resize",Pinch:"pinch"},U=((R=function(){function t(){e(this,t)}return i(t,[{key:"crop",value:function(t,e,n,i){var o=this.getImagePosition(t,e,n,i),r=o.x2-o.x1,a=o.y2-o.y1,c=document.createElement("canvas");c.width=r,c.height=a;var s=c.getContext("2d");if(s){null!=i.backgroundColor&&(s.fillStyle=i.backgroundColor,s.fillRect(0,0,r,a));var l=(i.transform.scale||1)*(i.transform.flipH?-1:1),g=(i.transform.scale||1)*(i.transform.flipV?-1:1),p=e.transformed;s.setTransform(l,0,0,g,p.size.width/2,p.size.height/2),s.translate(-o.x1/l,-o.y1/g),s.rotate((i.transform.rotate||0)*Math.PI/180),s.drawImage(p.image,-p.size.width/2,-p.size.height/2);var h={width:r,height:a,imagePosition:o,cropperPosition:Object.assign({},n)};i.containWithinAspectRatio&&(h.offsetImagePosition=this.getOffsetImagePosition(t,e,n,i));var d=this.getResizeRatio(r,a,i);return 1!==d&&(h.width=Math.round(r*d),h.height=i.maintainAspectRatio?Math.round(h.width/i.aspectRatio):Math.round(a*d),function(t,e,n){var i=t.width,o=t.height,r=i/(e=Math.round(e)),a=o/(n=Math.round(n)),c=Math.ceil(r/2),s=Math.ceil(a/2),l=t.getContext("2d");if(l){for(var g=l.getImageData(0,0,i,o),p=l.createImageData(e,n),h=g.data,d=p.data,u=0;u<n;u++)for(var b=0;b<e;b++){var m=4*(b+u*e),f=u*a,v=0,x=0,M=0,y=0,C=0,w=0,P=0,O=Math.floor(b*r),_=Math.floor(u*a),k=Math.ceil((b+1)*r),S=Math.ceil((u+1)*a);k=Math.min(k,i),S=Math.min(S,o);for(var A=_;A<S;A++)for(var z=Math.abs(f-A)/s,R=b*r,I=z*z,T=O;T<k;T++){var U=Math.abs(R-T)/c,B=Math.sqrt(I+U*U);if(!(B>=1)){var E=4*(T+A*i);P+=(v=2*B*B*B-3*B*B+1)*h[E+3],M+=v,h[E+3]<255&&(v=v*h[E+3]/250),y+=v*h[E],C+=v*h[E+1],w+=v*h[E+2],x+=v}}d[m]=y/x,d[m+1]=C/x,d[m+2]=w/x,d[m+3]=P/M}t.width=e,t.height=n,l.putImageData(p,0,0)}}(c,h.width,h.height)),h.base64=c.toDataURL("image/"+i.format,this.getQuality(i)),h}}},{key:"getImagePosition",value:function(t,e,n,i){var o=e.transformed.size.width/t.nativeElement.offsetWidth,r={x1:Math.round(n.x1*o),y1:Math.round(n.y1*o),x2:Math.round(n.x2*o),y2:Math.round(n.y2*o)};return i.containWithinAspectRatio||(r.x1=Math.max(r.x1,0),r.y1=Math.max(r.y1,0),r.x2=Math.min(r.x2,e.transformed.size.width),r.y2=Math.min(r.y2,e.transformed.size.height)),r}},{key:"getOffsetImagePosition",value:function(t,e,n,i){var o,r,a=e.transformed.size.width/t.nativeElement.offsetWidth;(i.canvasRotation+e.exifTransform.rotate)%2?(o=(e.transformed.size.width-e.original.size.height)/2,r=(e.transformed.size.height-e.original.size.width)/2):(o=(e.transformed.size.width-e.original.size.width)/2,r=(e.transformed.size.height-e.original.size.height)/2);var c={x1:Math.round(n.x1*a)-o,y1:Math.round(n.y1*a)-r,x2:Math.round(n.x2*a)-o,y2:Math.round(n.y2*a)-r};return i.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,e.transformed.size.width),c.y2=Math.min(c.y2,e.transformed.size.height)),c}},{key:"getResizeRatio",value:function(t,e,n){var i=n.resizeToWidth/t,o=n.resizeToHeight/e,r=new Array;n.resizeToWidth>0&&r.push(i),n.resizeToHeight>0&&r.push(o);var a=0===r.length?1:Math.min.apply(Math,r);return a>1&&!n.onlyScaleDown?a:Math.min(a,1)}},{key:"getQuality",value:function(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}]),t}()).\u0275fac=function(t){return new(t||R)},R.\u0275prov=Object(h.Kb)({factory:function(){return new R},token:R,providedIn:"root"}),R),B=((z=function(){function t(){e(this,t)}return i(t,[{key:"resetCropperPosition",value:function(t,e,n){if(null==t?void 0:t.nativeElement){var i=t.nativeElement;if(n.cropperStaticHeight&&n.cropperStaticWidth)e.x1=0,e.x2=i.offsetWidth>n.cropperStaticWidth?n.cropperStaticWidth:i.offsetWidth,e.y1=0,e.y2=i.offsetHeight>n.cropperStaticHeight?n.cropperStaticHeight:i.offsetHeight;else{var o=Math.min(n.cropperScaledMaxWidth,i.offsetWidth),r=Math.min(n.cropperScaledMaxHeight,i.offsetHeight);if(n.maintainAspectRatio)if(i.offsetWidth/n.aspectRatio<i.offsetHeight){e.x1=0,e.x2=o;var a=o/n.aspectRatio;e.y1=(i.offsetHeight-a)/2,e.y2=e.y1+a}else{e.y1=0,e.y2=r;var c=r*n.aspectRatio;e.x1=(i.offsetWidth-c)/2,e.x2=e.x1+c}else e.x1=0,e.x2=o,e.y1=0,e.y2=r}}}},{key:"move",value:function(t,e,n){var i=this.getClientX(t)-e.clientX,o=this.getClientY(t)-e.clientY;n.x1=e.x1+i,n.y1=e.y1+o,n.x2=e.x2+i,n.y2=e.y2+o}},{key:"resize",value:function(t,e,n,i,o){var r=this.getClientX(t)-e.clientX,a=this.getClientY(t)-e.clientY;switch(e.position){case"left":n.x1=Math.min(Math.max(e.x1+r,n.x2-o.cropperScaledMaxWidth),n.x2-o.cropperScaledMinWidth);break;case"topleft":n.x1=Math.min(Math.max(e.x1+r,n.x2-o.cropperScaledMaxWidth),n.x2-o.cropperScaledMinWidth),n.y1=Math.min(Math.max(e.y1+a,n.y2-o.cropperScaledMaxHeight),n.y2-o.cropperScaledMinHeight);break;case"top":n.y1=Math.min(Math.max(e.y1+a,n.y2-o.cropperScaledMaxHeight),n.y2-o.cropperScaledMinHeight);break;case"topright":n.x2=Math.max(Math.min(e.x2+r,n.x1+o.cropperScaledMaxWidth),n.x1+o.cropperScaledMinWidth),n.y1=Math.min(Math.max(e.y1+a,n.y2-o.cropperScaledMaxHeight),n.y2-o.cropperScaledMinHeight);break;case"right":n.x2=Math.max(Math.min(e.x2+r,n.x1+o.cropperScaledMaxWidth),n.x1+o.cropperScaledMinWidth);break;case"bottomright":n.x2=Math.max(Math.min(e.x2+r,n.x1+o.cropperScaledMaxWidth),n.x1+o.cropperScaledMinWidth),n.y2=Math.max(Math.min(e.y2+a,n.y1+o.cropperScaledMaxHeight),n.y1+o.cropperScaledMinHeight);break;case"bottom":n.y2=Math.max(Math.min(e.y2+a,n.y1+o.cropperScaledMaxHeight),n.y1+o.cropperScaledMinHeight);break;case"bottomleft":n.x1=Math.min(Math.max(e.x1+r,n.x2-o.cropperScaledMaxWidth),n.x2-o.cropperScaledMinWidth),n.y2=Math.max(Math.min(e.y2+a,n.y1+o.cropperScaledMaxHeight),n.y1+o.cropperScaledMinHeight);break;case"center":var c=t.scale,s=Math.min(Math.max(o.cropperScaledMinWidth,Math.abs(e.x2-e.x1)*c),o.cropperScaledMaxWidth),l=Math.min(Math.max(o.cropperScaledMinHeight,Math.abs(e.y2-e.y1)*c),o.cropperScaledMaxHeight);n.x1=e.clientX-s/2,n.x2=e.clientX+s/2,n.y1=e.clientY-l/2,n.y2=e.clientY+l/2,n.x1<0?(n.x2-=n.x1,n.x1=0):n.x2>i.width&&(n.x1-=n.x2-i.width,n.x2=i.width),n.y1<0?(n.y2-=n.y1,n.y1=0):n.y2>i.height&&(n.y1-=n.y2-i.height,n.y2=i.height)}o.maintainAspectRatio&&this.checkAspectRatio(e.position,n,i,o)}},{key:"checkAspectRatio",value:function(t,e,n,i){var o=0,r=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*i.aspectRatio,o=Math.max(e.x2-n.width,0),r=Math.max(0-e.y1,0),(o>0||r>0)&&(e.x2-=r*i.aspectRatio>o?r*i.aspectRatio:o,e.y1+=r*i.aspectRatio>o?r:o/i.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*i.aspectRatio,o=Math.max(e.x2-n.width,0),r=Math.max(e.y2-n.height,0),(o>0||r>0)&&(e.x2-=r*i.aspectRatio>o?r*i.aspectRatio:o,e.y2-=r*i.aspectRatio>o?r:o/i.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/i.aspectRatio,o=Math.max(0-e.x1,0),r=Math.max(0-e.y1,0),(o>0||r>0)&&(e.x1+=r*i.aspectRatio>o?r*i.aspectRatio:o,e.y1+=r*i.aspectRatio>o?r:o/i.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/i.aspectRatio,o=Math.max(e.x2-n.width,0),r=Math.max(0-e.y1,0),(o>0||r>0)&&(e.x2-=r*i.aspectRatio>o?r*i.aspectRatio:o,e.y1+=r*i.aspectRatio>o?r:o/i.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/i.aspectRatio,o=Math.max(e.x2-n.width,0),r=Math.max(e.y2-n.height,0),(o>0||r>0)&&(e.x2-=r*i.aspectRatio>o?r*i.aspectRatio:o,e.y2-=r*i.aspectRatio>o?r:o/i.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/i.aspectRatio,o=Math.max(0-e.x1,0),r=Math.max(e.y2-n.height,0),(o>0||r>0)&&(e.x1+=r*i.aspectRatio>o?r*i.aspectRatio:o,e.y2-=r*i.aspectRatio>o?r:o/i.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*i.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/i.aspectRatio;var a=Math.max(0-e.x1,0),c=Math.max(e.x2-n.width,0),s=Math.max(e.y2-n.height,0),l=Math.max(0-e.y1,0);(a>0||c>0||s>0||l>0)&&(e.x1+=s*i.aspectRatio>a?s*i.aspectRatio:a,e.x2-=l*i.aspectRatio>c?l*i.aspectRatio:c,e.y1+=l*i.aspectRatio>c?l:c/i.aspectRatio,e.y2-=s*i.aspectRatio>a?s:a/i.aspectRatio)}}},{key:"getClientX",value:function(t){var e;return(null===(e=t.touches)||void 0===e?void 0:e[0].clientX)||t.clientX||0}},{key:"getClientY",value:function(t){var e;return(null===(e=t.touches)||void 0===e?void 0:e[0].clientY)||t.clientY||0}}]),t}()).\u0275fac=function(t){return new(t||z)},z.\u0275prov=Object(h.Kb)({factory:function(){return new z},token:z,providedIn:"root"}),z),E=((A=function(){function n(){e(this,n),this.autoRotateSupported=new Promise((function(t){var e=new Image;e.onload=function(){t(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="}))}return i(n,[{key:"loadImageFile",value:function(t,e){var n=this;return new Promise((function(i,o){var r=new FileReader;r.onload=function(r){n.loadImage(r.target.result,t.type,e).then(i).catch(o)},r.readAsDataURL(t)}))}},{key:"loadImage",value:function(t,e,n){return this.isValidImageType(e)?this.loadBase64Image(t,n):Promise.reject(new Error("Invalid image type"))}},{key:"isValidImageType",value:function(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}},{key:"loadImageFromURL",value:function(t,e){var n=this;return new Promise((function(i,o){var r=new Image;r.onerror=function(){return o},r.onload=function(){var t=document.createElement("canvas"),o=t.getContext("2d");t.width=r.width,t.height=r.height,o.drawImage(r,0,0),n.loadBase64Image(t.toDataURL(),e).then(i)},r.crossOrigin="anonymous",r.src=t}))}},{key:"loadBase64Image",value:function(t,e){var n=this;return new Promise((function(e,n){var i=new Image;i.onload=function(){return e({originalImage:i,originalBase64:t})},i.onerror=n,i.src=t})).then((function(t){return n.transformImageBase64(t,e)}))}},{key:"transformImageBase64",value:function(e,n){return Object(M.a)(this,void 0,void 0,t().mark((function i(){var o,r;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.autoRotateSupported;case 2:return o=t.sent,t.next=5,function(t){switch("string"==typeof t&&(t=function(t){var e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),n=e.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=e.charCodeAt(o);return i.buffer}(t));if(65496!==e.getUint16(0,!1))return-2;for(var n=e.byteLength,i=2;i<n;){if(e.getUint16(i+2,!1)<=8)return-1;var o=e.getUint16(i,!1);if(i+=2,65505==o){if(1165519206!==e.getUint32(i+=2,!1))return-1;var r=18761==e.getUint16(i+=6,!1);i+=e.getUint32(i+4,r);var a=e.getUint16(i,r);i+=2;for(var c=0;c<a;c++)if(274==e.getUint16(i+12*c,r))return e.getUint16(i+12*c+8,r)}else{if(65280!=(65280&o))break;i+=e.getUint16(i,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(o?-1:e.originalBase64);case 5:return r=t.sent,t.abrupt("return",e.originalImage&&e.originalImage.complete?this.transformLoadedImage({original:{base64:e.originalBase64,image:e.originalImage,size:{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:r},n):Promise.reject(new Error("No image loaded")));case 7:case"end":return t.stop()}}),i,this)})))}},{key:"transformLoadedImage",value:function(e,n){return Object(M.a)(this,void 0,void 0,t().mark((function i(){var o,r,a,c,s,l,g;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.canvasRotation+e.exifTransform.rotate,r={width:e.original.image.naturalWidth,height:e.original.image.naturalHeight},0!==o||e.exifTransform.flip||n.containWithinAspectRatio){t.next=3;break}return t.abrupt("return",{original:{base64:e.original.base64,image:e.original.image,size:Object.assign({},r)},transformed:{base64:e.original.base64,image:e.original.image,size:Object.assign({},r)},exifTransform:e.exifTransform});case 3:return a=this.getTransformedSize(r,e.exifTransform,n),(c=document.createElement("canvas")).width=a.width,c.height=a.height,(s=c.getContext("2d")).setTransform(e.exifTransform.flip?-1:1,0,0,1,c.width/2,c.height/2),s.rotate(Math.PI*(o/2)),s.drawImage(e.original.image,-r.width/2,-r.height/2),l=c.toDataURL(),t.next=10,this.loadImageFromBase64(l);case 10:return g=t.sent,t.abrupt("return",{original:{base64:e.original.base64,image:e.original.image,size:Object.assign({},r)},transformed:{base64:l,image:g,size:{width:g.width,height:g.height}},exifTransform:e.exifTransform});case 12:case"end":return t.stop()}}),i,this)})))}},{key:"loadImageFromBase64",value:function(t){return new Promise((function(e,n){var i=new Image;i.onload=function(){return e(i)},i.onerror=n,i.src=t}))}},{key:"getTransformedSize",value:function(t,e,n){var i=n.canvasRotation+e.rotate;if(n.containWithinAspectRatio){if(i%2){var o=t.height/n.aspectRatio;return{width:Math.max(t.height,t.width*n.aspectRatio),height:Math.max(t.width,o)}}var r=t.width/n.aspectRatio;return{width:Math.max(t.width,t.height*n.aspectRatio),height:Math.max(t.height,r)}}return i%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}]),n}()).\u0275fac=function(t){return new(t||A)},A.\u0275prov=Object(h.Kb)({factory:function(){return new A},token:A,providedIn:"root"}),A),L=((S=function(){function t(n,i,o,r,a){e(this,t),this.cropService=n,this.cropperPositionService=i,this.loadImageService=o,this.sanitizer=r,this.cd=a,this.Hammer=(null===window||void 0===window?void 0:window.Hammer)||null,this.settings=new I,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=T,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new h.o,this.startCropImage=new h.o,this.imageLoaded=new h.o,this.cropperReady=new h.o,this.loadImageFailed=new h.o,this.reset()}return i(t,[{key:"ngOnChanges",value:function(t){var e,n=this;this.onChangesUpdateSettings(t),this.onChangesInputImage(t),(null===(e=this.loadedImage)||void 0===e?void 0:e.original.image.complete)&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then((function(t){return n.setLoadedImage(t)})).catch((function(t){return n.loadImageError(t)})),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(t.maintainAspectRatio||t.aspectRatio)?this.resetCropperPosition():t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()),this.cd.markForCheck()),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}},{key:"onChangesUpdateSettings",value:function(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}},{key:"onChangesInputImage",value:function(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}},{key:"isValidImageChangedEvent",value:function(){var t,e,n;return(null===(n=null===(e=null===(t=this.imageChangedEvent)||void 0===t?void 0:t.target)||void 0===e?void 0:e.files)||void 0===n?void 0:n.length)>0}},{key:"setCssTransform",value:function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}},{key:"ngOnInit",value:function(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}},{key:"reset",value:function(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}},{key:"loadImageFile",value:function(t){var e=this;this.loadImageService.loadImageFile(t,this.settings).then((function(t){return e.setLoadedImage(t)})).catch((function(t){return e.loadImageError(t)}))}},{key:"loadBase64Image",value:function(t){var e=this;this.loadImageService.loadBase64Image(t,this.settings).then((function(t){return e.setLoadedImage(t)})).catch((function(t){return e.loadImageError(t)}))}},{key:"loadImageFromURL",value:function(t){var e=this;this.loadImageService.loadImageFromURL(t,this.settings).then((function(t){return e.setLoadedImage(t)})).catch((function(t){return e.loadImageError(t)}))}},{key:"setLoadedImage",value:function(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}},{key:"loadImageError",value:function(t){console.error(t),this.loadImageFailed.emit()}},{key:"imageLoadedInView",value:function(){var t=this;null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout((function(){return t.checkImageMaxSizeRecursively()})))}},{key:"checkImageMaxSizeRecursively",value:function(){var t=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout((function(){return t.checkImageMaxSizeRecursively()}),50))}},{key:"sourceImageLoaded",value:function(){var t,e;return(null===(e=null===(t=this.sourceImage)||void 0===t?void 0:t.nativeElement)||void 0===e?void 0:e.offsetWidth)>0}},{key:"onResize",value:function(){this.loadedImage&&(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}},{key:"activatePinchGesture",value:function(){if(this.Hammer){var t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else Object(h.X)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}},{key:"resizeCropperPosition",value:function(){var t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}},{key:"resetCropperPosition",value:function(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}},{key:"keyboardAccess",value:function(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}},{key:"changeKeyboardStepSize",value:function(t){var e=+t.key;e>=1&&e<=9&&(this.settings.stepSize=e)}},{key:"keyboardMoveCropper",value:function(t){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var e=t.shiftKey?T.Resize:T.Move,n=t.altKey?function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(t.key):function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(t.key),i=function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};default:return{clientX:-1*e,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,n),this.moveImg(i),this.moveStop()}}},{key:"startMove",value:function(t,e){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(null===(n=this.moveStart)||void 0===n?void 0:n.active)&&(null===(i=this.moveStart)||void 0===i?void 0:i.type)===T.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:o,clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper))}},{key:"startPinch",value:function(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:T.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}},{key:"moveImg",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===T.Move?(this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===T.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"onPinch",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===T.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"setMaxSize",value:function(){if(this.sourceImage){var t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}},{key:"setCropperScaledMinSize",value:function(){var t,e;(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image)?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}},{key:"setCropperScaledMinWidth",value:function(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}},{key:"setCropperScaledMinHeight",value:function(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}},{key:"setCropperScaledMaxSize",value:function(){var t,e;if(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image){var n=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/n:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/n:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}},{key:"checkCropperPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}},{key:"moveStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"pinchStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"doAutoCrop",value:function(){this.autoCrop&&this.crop()}},{key:"crop",value:function(){var t,e;if(null!=(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image)){this.startCropImage.emit();var n=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=n&&this.imageCropped.emit(n),n}return null}}]),t}()).\u0275fac=function(t){return new(t||S)(h.Ob(U),h.Ob(B),h.Ob(E),h.Ob(y.c),h.Ob(h.h))},S.\u0275cmp=h.Ib({type:S,selectors:[["image-cropper"]],viewQuery:function(t,e){var n;1&t&&(h.Fc(C,!0),h.Qc(w,!0)),2&t&&(h.wc(n=h.gc())&&(e.wrapper=n.first),h.wc(n=h.gc())&&(e.sourceImage=n.first))},hostVars:4,hostBindings:function(t,e){1&t&&h.fc("resize",(function(){return e.onResize()}),!1,h.Ac)("mousemove",(function(t){return e.moveImg(t)}),!1,h.zc)("touchmove",(function(t){return e.moveImg(t)}),!1,h.zc)("mouseup",(function(){return e.moveStop()}),!1,h.zc)("touchend",(function(){return e.moveStop()}),!1,h.zc),2&t&&(h.Gc("text-align",e.alignImage),h.Gb("disabled",e.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[h.zb],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(h.Ub(0,"div",null,0),h.Jc(2,P,2,5,"img",1),h.Pb(3,"div",2),h.Jc(4,_,3,15,"div",3),h.Tb()),2&t&&(h.Gc("background",e.imageVisible&&e.backgroundColor),h.Bb(2),h.pc("ngIf",e.safeImgDataUrl),h.Bb(1),h.Gc("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),h.Bb(1),h.pc("ngIf",e.imageVisible))},directives:[c.n],styles:['[_nghost-%COMP%]{display:flex;max-height:100%;max-width:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:relative;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-height:100%;max-width:100%;transform-origin:center}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{left:0;outline:var(--cropper-overlay-color,#fff) solid 100vw;pointer-events:none;position:absolute;top:0;touch-action:none}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{background:transparent;color:#53535c;display:flex;outline:100vw solid hsla(0,0%,100%,.3);outline:var(--cropper-outline-color,hsla(0,0%,100%,.3)) solid 100vw;position:absolute;touch-action:none}@media (orientation:portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{border:1px dashed;bottom:0;color:inherit;content:"";left:0;opacity:.75;pointer-events:none;position:absolute;right:0;top:0;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.5);cursor:move;width:100%}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{display:inline-block;line-height:6px;opacity:.85;padding:8px;position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{background:#53535c;border:1px solid hsla(0,0%,100%,.5);box-sizing:content-box;display:inline-block;height:6px;width:6px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{cursor:nwse-resize;left:-12px;top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{cursor:ns-resize;left:calc(50% - 12px);top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{cursor:nesw-resize;right:-12px;top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{cursor:ew-resize;right:-12px;top:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;cursor:nwse-resize;right:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;cursor:ns-resize;left:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;cursor:nesw-resize;left:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{cursor:ew-resize;left:-12px;top:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{cursor:ns-resize;height:22px;left:11px;top:-11px;width:calc(100% - 22px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{cursor:ew-resize;height:calc(100% - 22px);right:-11px;top:11px;width:22px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;cursor:ns-resize;height:22px;left:11px;width:calc(100% - 22px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{cursor:ew-resize;height:calc(100% - 22px);left:-11px;top:11px;width:22px}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw hsla(0,0%,100%,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,hsla(0,0%,100%,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh hsla(0,0%,100%,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,hsla(0,0%,100%,.3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),S),D=((k=i((function t(){e(this,t)}))).\u0275mod=h.Mb({type:k}),k.\u0275inj=h.Lb({factory:function(t){return new(t||k)},imports:[[c.c]]}),k),j=r("Xa2L");function H(t,e){1&t&&(h.Ub(0,"div",13),h.Pb(1,"mat-spinner",14),h.Tb()),2&t&&(h.Bb(1),h.pc("diameter",50))}function W(t,e){1&t&&(h.Ub(0,"h3"),h.Lc(1,"Add vehicle template"),h.Tb())}function Q(t,e){1&t&&(h.Ub(0,"h3"),h.Lc(1,"Edit vehicle template"),h.Tb())}function F(t,e){if(1&t&&(h.Ub(0,"div",15),h.Pb(1,"img",16),h.Tb()),2&t){var n=h.jc();h.Bb(1),h.pc("src",n.selectedTemplate.imageUrl,h.Cc)}}var V,J=((V=function(){function t(n,i,o,r){var a;e(this,t),this.dialogRef=n,this.data=i,this.administrationService=o,this.notificationService=r,this.subscriptions=[],this.isLoading=!1,this.imageChangedEvent="",this.croppedImage=null,this.templateName="",this.templateNameError=!1,"edit"===this.data.action&&(this.selectedTemplate=this.data.template,this.templateName=null===(a=this.selectedTemplate)||void 0===a?void 0:a.name)}return i(t,[{key:"ngOnInit",value:function(){}},{key:"fileChangeEvent",value:function(t){this.imageChangedEvent=t}},{key:"imageCropped",value:function(t){this.croppedImage=t.base64}},{key:"imageLoaded",value:function(t){}},{key:"cropperReady",value:function(){}},{key:"loadImageFailed",value:function(){}},{key:"onSubmit",value:function(){var t,e,n=this;this.templateNameError=!this.templateName,this.templateName?(null===(t=this.selectedTemplate)||void 0===t?void 0:t.imageUrl)||this.croppedImage?(this.isLoading=!0,("new"===this.data.action?this.administrationService.saveVehicleTemplate({name:this.templateName,imageB64:this.croppedImage}):this.administrationService.updateVehicleTemplate({name:this.templateName,imageB64:null!==(e=this.croppedImage)&&void 0!==e?e:this.selectedTemplate.imageUrl},this.selectedTemplate.id)).subscribe((function(t){n.isLoading=!1,n.dialogRef.close()}),(function(t){var e,i;n.isLoading=!1,(null===(i=null===(e=t.error)||void 0===e?void 0:e.message)||void 0===i?void 0:i.includes("expected `name` to be unique"))?(n.notificationService.error("Name already exists"),n.templateNameError=!0):n.notificationService.error()}))):this.notificationService.error("Image is required"):this.notificationService.error("Template name is required")}},{key:"onCancel",value:function(){this.dialogRef.close()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||V)(h.Ob(p.e),h.Ob(p.a),h.Ob(f),h.Ob(v.a))},V.\u0275cmp=h.Ib({type:V,selectors:[["app-vehicle-template-dialog"]],decls:18,vars:10,consts:[[1,"dialog-content","custom-scroll"],["class","dialog-loader",4,"ngIf"],[4,"ngIf"],[1,"form-group"],[1,"w-100","input-group","pt-2","mb-3"],["type","text","placeholder","Template name...","name","name",1,"form-control",3,"value","change"],["class","w-100 input-group",4,"ngIf"],["type","file","accept","image/png,image/jpeg,image/jpg,image/webp",1,"mb-2",3,"change"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"d-flex","w-100","px-4","pt-3","justify-content-between","mt-3"],[1,"col-5"],["type","button",1,"btn","w-100","btn-outline-secondary",3,"click"],[1,"btn","w-100","btn-success",3,"click"],[1,"dialog-loader"],[3,"diameter"],[1,"w-100","input-group"],[1,"border","mx-auto",2,"min-width","90%",3,"src"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Jc(1,H,2,1,"div",1),h.Jc(2,W,2,0,"h3",2),h.Jc(3,Q,2,0,"h3",2),h.Ub(4,"form",3),h.Ub(5,"div",4),h.Ub(6,"input",5),h.fc("change",(function(t){return e.templateName=t.target.value})),h.Tb(),h.Tb(),h.Jc(7,F,2,1,"div",6),h.Ub(8,"div",4),h.Ub(9,"input",7),h.fc("change",(function(t){return e.fileChangeEvent(t)})),h.Tb(),h.Ub(10,"image-cropper",8),h.fc("imageCropped",(function(t){return e.imageCropped(t)}))("imageLoaded",(function(){return e.imageLoaded()}))("cropperReady",(function(){return e.cropperReady()}))("loadImageFailed",(function(){return e.loadImageFailed()})),h.Tb(),h.Tb(),h.Ub(11,"div",9),h.Ub(12,"div",10),h.Ub(13,"button",11),h.fc("click",(function(){return e.onCancel()})),h.Lc(14,"Cancel"),h.Tb(),h.Tb(),h.Ub(15,"div",10),h.Ub(16,"button",12),h.fc("click",(function(){return e.onSubmit()})),h.Lc(17,"Save"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Bb(1),h.pc("ngIf",e.isLoading),h.Bb(1),h.pc("ngIf","new"===e.data.action),h.Bb(1),h.pc("ngIf","edit"===e.data.action),h.Bb(3),h.Gb("is-invalid",e.templateNameError),h.pc("value",e.templateName),h.Bb(1),h.pc("ngIf",e.selectedTemplate&&!e.croppedImage),h.Bb(3),h.pc("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1.6))},directives:[c.n,x.x,x.p,x.q,L,j.b],styles:[".text-blue-light[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-light-rgb))}.text-blue-main[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-main-rgb))}.text-blue-dark[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-dark-rgb))}.bg-grey-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-light-rgb))}.bg-grey-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-5-rgb))}.bg-blue-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-light-rgb))}.bg-blue-main[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-main-rgb))}.bg-blue-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-dark-rgb))}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.text-base[_ngcontent-%COMP%]{font-size:1rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.75rem}.font-semibold[_ngcontent-%COMP%]{font-weight:500}.font-bold[_ngcontent-%COMP%]{font-weight:700}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.rounded-xl[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.border-primary-1[_ngcontent-%COMP%]{border:1px solid rgb(var(--palette-blue-main-rgb))}.border-primary-2[_ngcontent-%COMP%]{border:2px solid rgb(var(--palette-blue-main-rgb))}.custom-scroll[_ngcontent-%COMP%]{padding-right:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;border-radius:5px;background-color:rgb(var(--palette-grey-light-rgb))}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;border:.3em solid;border-color:rgb(var(--palette-grey-5-rgb))}[_nghost-%COMP%]{position:relative}.custom-select-wrapper[_ngcontent-%COMP%]{--select-padding:12px;--select-icon-width:14px;--form-icons-color:rgb(var(--palette-primary-rgb));--form-input-background:rgb(var(--palette-grey-0-rgb));position:relative}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{padding:calc(var(--select-padding) / 2) var(--select-padding);-webkit-padding-end:calc(var(--select-padding) + var(--select-icon-width));padding-inline-end:calc(var(--select-padding) + var(--select-icon-width));background:none;background-color:var(--form-input-background)}.custom-select-wrapper[_ngcontent-%COMP%]   .half-arrow-icon[_ngcontent-%COMP%]{right:var(--select-padding);top:0;pointer-events:none;height:100%;width:var(--select-icon-width);color:var(--form-icons-color);position:absolute}.new-customer-form[_ngcontent-%COMP%]{max-height:70vh;padding-bottom:1rem;overflow-y:auto}[_nghost-%COMP%]    {--cropper-outline-color:rgba(0,0,0,0.4)}[_nghost-%COMP%]     .mat-horizontal-stepper-header{height:40px!important}"]}),V),N=r("Espg");function G(t,e){1&t&&(h.Ub(0,"div",23),h.Pb(1,"mat-spinner",24),h.Tb()),2&t&&(h.Bb(1),h.pc("diameter",50))}function X(t,e){1&t&&(h.Ub(0,"th",25),h.Lc(1,"Preview"),h.Tb())}function Y(t,e){if(1&t&&(h.Ub(0,"td",26),h.Pb(1,"img",27),h.Tb()),2&t){var n=e.$implicit;h.Bb(1),h.pc("src",n.imageUrl,h.Cc)("alt",n.name)}}function K(t,e){1&t&&(h.Ub(0,"th",25),h.Lc(1,"Name"),h.Tb())}function q(t,e){if(1&t&&(h.Ub(0,"td",26),h.Lc(1),h.Tb()),2&t){var n=e.$implicit;h.Bb(1),h.Mc(n.name)}}function $(t,e){1&t&&(h.Ub(0,"th",25),h.Lc(1,"Actions"),h.Tb())}function Z(t,e){if(1&t){var n=h.Vb();h.Ub(0,"td",26),h.Ub(1,"div",28),h.Ub(2,"button",29),h.fc("click",(function(){h.Bc(n);var t=e.$implicit;return h.jc().openEditDialog(t)})),h.Pb(3,"i",30),h.Tb(),h.Ub(4,"button",31),h.fc("click",(function(){h.Bc(n);var t=e.$implicit;return h.jc().onDelete(t)})),h.Pb(5,"i",32),h.Tb(),h.Tb(),h.Tb()}}function tt(t,e){1&t&&h.Pb(0,"tr",33)}function et(t,e){1&t&&h.Pb(0,"tr",34)}function nt(t,e){1&t&&(h.Ub(0,"div",35),h.Lc(1,"No templates found"),h.Tb())}var it,ot=((it=function(){function t(n,i,o,r){var a=this;e(this,t),this.dialog=n,this.dialogService=i,this.notificationService=o,this.adminService=r,this.displayedColumns=["preview","name","actions"],this.pageSizeOptions=[12,24,50,100],this.subscriptions=[],this.items=new g.k([]);var c=this.adminService.vehicleTemplates.subscribe((function(t){a.templates=t,a.items.data=t}));this.subscriptions.push(c)}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.dialogService.showLoader(),this.adminService.fetchVehicleTemplates().finally((function(){t.dialogService.hideLoader()}))}},{key:"applyFilter",value:function(t){this.items.filter=t.trim().toLocaleLowerCase()}},{key:"openNewDialog",value:function(){this.dialog.open(J,{width:"800px",data:{action:"new"}})}},{key:"openEditDialog",value:function(t){this.dialog.open(J,{width:"700px",data:{action:"edit",template:t}})}},{key:"onDelete",value:function(t){var e=this;this.dialogService.showConfirm({title:"Delete template",msg:"Are you sure?"},(function(){e.loading=!0,e.adminService.deleteVehicleTemplate(t.id).subscribe((function(t){e.loading=!1,e.notificationService.success("Template deleted")}),(function(t){e.loading=!1,e.notificationService.error()}))}))}},{key:"ngAfterViewInit",value:function(){this.items.sort=this.sort,this.items.paginator=this.paginator}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||it)(h.Ob(p.b),h.Ob(N.a),h.Ob(v.a),h.Ob(f))},it.\u0275cmp=h.Ib({type:it,selectors:[["app-vehicle-template"]],viewQuery:function(t,e){var n;1&t&&(h.Qc(l.a,!0),h.Qc(s.a,!0)),2&t&&(h.wc(n=h.gc())&&(e.sort=n.first),h.wc(n=h.gc())&&(e.paginator=n.first))},decls:29,vars:6,consts:[[1,"px-2","px-md-5","py-3","position-relative"],["class","loader",4,"ngIf"],[1,"d-flex","flex-wrap","w-100","justify-content-between","align-items-center","mb-3"],[1,"text-dark","d-inline-block","content-title"],[1,"d-flex","content-options-bar"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Filter by any field...",1,"form-control",3,"keyup"],[1,"btn","font-weight-bold","bg-blue-main","text-light","ml-3",3,"click"],[1,"row","mb-4"],[1,"col-12","table-wrapper","table-responsive"],["mat-table","","matSort","",1,"table","table-borderless","table-striped",3,"dataSource"],["matColumnDef","preview"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","text-center border py-3 mt-n3 table-width",4,"ngIf"],["aria-label","Select page",3,"pageSizeOptions"],[1,"loader"],[3,"diameter"],["mat-header-cell",""],["mat-cell",""],["width","100px",3,"src","alt"],[1,"action-buttons"],["aria-label","edit",1,"text-dark","mr-4",3,"click"],[1,"fas","fa-edit","text-xl"],["aria-label","edit",1,"text-dark",3,"click"],[1,"fas","fa-trash-alt","text-xl"],["mat-header-row",""],["mat-row",""],[1,"text-center","border","py-3","mt-n3","table-width"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Jc(1,G,2,1,"div",1),h.Ub(2,"div",2),h.Ub(3,"h1",3),h.Lc(4,"Vehicle templates"),h.Tb(),h.Ub(5,"div",4),h.Ub(6,"div",5),h.Ub(7,"div",6),h.Ub(8,"span",7),h.Pb(9,"i",8),h.Tb(),h.Tb(),h.Ub(10,"input",9),h.fc("keyup",(function(t){return e.applyFilter(t.target.value)})),h.Tb(),h.Tb(),h.Ub(11,"button",10),h.fc("click",(function(){return e.openNewDialog()})),h.Lc(12,"+Add"),h.Tb(),h.Tb(),h.Tb(),h.Ub(13,"div",11),h.Ub(14,"div",12),h.Ub(15,"table",13),h.Sb(16,14),h.Jc(17,X,2,0,"th",15),h.Jc(18,Y,2,2,"td",16),h.Rb(),h.Sb(19,17),h.Jc(20,K,2,0,"th",15),h.Jc(21,q,2,1,"td",16),h.Rb(),h.Sb(22,18),h.Jc(23,$,2,0,"th",15),h.Jc(24,Z,6,0,"td",16),h.Rb(),h.Jc(25,tt,1,0,"tr",19),h.Jc(26,et,1,0,"tr",20),h.Tb(),h.Jc(27,nt,2,0,"div",21),h.Pb(28,"mat-paginator",22),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Bb(1),h.pc("ngIf",e.loading),h.Bb(14),h.pc("dataSource",e.items),h.Bb(10),h.pc("matHeaderRowDef",e.displayedColumns),h.Bb(1),h.pc("matRowDefColumns",e.displayedColumns),h.Bb(1),h.pc("ngIf",!e.items.data.length||!e.items.filteredData.length),h.Bb(1),h.pc("pageSizeOptions",e.pageSizeOptions))},directives:[c.n,g.j,l.a,g.c,g.e,g.b,g.g,g.i,s.a,j.b,g.d,g.a,g.f,g.h],styles:[".text-blue-light[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-light-rgb))}.text-blue-main[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-main-rgb))}.text-blue-dark[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-dark-rgb))}.bg-grey-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-light-rgb))}.bg-grey-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-5-rgb))}.bg-blue-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-light-rgb))}.bg-blue-main[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-main-rgb))}.bg-blue-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-dark-rgb))}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.text-base[_ngcontent-%COMP%]{font-size:1rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.75rem}.font-semibold[_ngcontent-%COMP%]{font-weight:500}.font-bold[_ngcontent-%COMP%]{font-weight:700}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.rounded-xl[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.border-primary-1[_ngcontent-%COMP%]{border:1px solid rgb(var(--palette-blue-main-rgb))}.border-primary-2[_ngcontent-%COMP%]{border:2px solid rgb(var(--palette-blue-main-rgb))}.custom-scroll[_ngcontent-%COMP%]{padding-right:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;border-radius:5px;background-color:rgb(var(--palette-grey-light-rgb))}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;border:.3em solid;border-color:rgb(var(--palette-grey-5-rgb))}.table-wrapper[_ngcontent-%COMP%]{--table-header-color:rgb(var(--palette-white-rgb));--table-header-background:rgb(var(--palette-blue-main-rgb));--table-text-color:rgb(var(--palette-grey-9-rgb));--table-row-hover-background:rgb(var(--palette-blue-light-rgb));--page-background:rgb(var(--palette-white-rgb));--page-spacing:10px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;min-width:672px;background:none;border-collapse:collapse;border-radius:1em 1em 0 0;overflow:hidden}.table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]{min-width:370px}.table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%], .table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{padding:var(--page-spacing)}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--table-header-color);background-color:var(--table-header-background);font-size:13px;font-weight:700}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-style:none;padding:calc(var(--page-spacing))}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{padding:calc(var(--page-spacing) * 2)}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--table-text-color);line-height:1.6;font-size:13px}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.9em}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{border-bottom-style:none;padding:var(--page-spacing) calc(var(--page-spacing))}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{padding:calc(var(--page-spacing) * 2)}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]{height:auto;transition:background-color .5s}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-top-left-radius:6px;border-bottom-left-radius:6px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-top-right-radius:6px;border-bottom-right-radius:6px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover{background-color:var(--table-row-hover-background);transition:background-color .5s}.table-wrapper[_ngcontent-%COMP%]     [mat-table] .mat-sort-header-arrow{color:var(--table-header-color)}.table-wrapper[_ngcontent-%COMP%]   .table-width[_ngcontent-%COMP%], .table-wrapper[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{min-width:672px;width:100%}.table-wrapper[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none}.action-buttons[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;margin-top:5px}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{all:unset;display:inline-block;cursor:pointer;line-height:.8}.action-buttons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.8rem}"]}),it),rt=r("tyNb"),at=r("PCNd");function ct(t,e){1&t&&(h.Ub(0,"div",14),h.Pb(1,"mat-spinner",15),h.Tb()),2&t&&(h.Bb(1),h.pc("diameter",50))}function st(t,e){1&t&&(h.Ub(0,"h3"),h.Lc(1,"Add vehicle damage"),h.Tb())}function lt(t,e){1&t&&(h.Ub(0,"h3"),h.Lc(1,"Edit vehicle damage"),h.Tb())}function gt(t,e){1&t&&(h.Ub(0,"div",16),h.Lc(1,"Invalid field"),h.Tb())}function pt(t,e){1&t&&(h.Ub(0,"div",16),h.Lc(1,"Invalid field"),h.Tb())}var ht,dt=((ht=function(){function t(n,i,o,r,a){var c,s,l,g;e(this,t),this.dialogRef=n,this.data=i,this.fb=o,this.administrationService=r,this.notificationService=a,this.subscriptions=[],this.isLoading=!1,"edit"===this.data.action&&(this.selectedDamage=this.data.damage),this.damageForm=this.fb.group({name:[null!==(s=null===(c=this.selectedDamage)||void 0===c?void 0:c.name)&&void 0!==s?s:"",[x.v.required]],uid:[null!==(g=null===(l=this.selectedDamage)||void 0===l?void 0:l.uid)&&void 0!==g?g:"",[x.v.required]]})}return i(t,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){var t=this;if(this.damageForm.invalid)return Object.values(this.damageForm.controls).forEach((function(t){t instanceof x.h?Object.values(t.controls).forEach((function(t){return t.markAsTouched()})):t.markAsTouched()}));this.isLoading=!0,this.administrationService.saveVehicleDamage(this.damageForm.value).subscribe((function(e){t.isLoading=!1,t.notificationService.success("Item added"),t.dialogRef.close()}),(function(e){var n,i;if(t.isLoading=!1,null===(i=null===(n=e.error)||void 0===n?void 0:n.message)||void 0===i?void 0:i.includes("Damage key already exists"))return t.notificationService.error("Damage ID already exists");t.notificationService.error()}))}},{key:"onCancel",value:function(){this.dialogRef.close()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}()).\u0275fac=function(t){return new(t||ht)(h.Ob(p.e),h.Ob(p.a),h.Ob(x.e),h.Ob(f),h.Ob(v.a))},ht.\u0275cmp=h.Ib({type:ht,selectors:[["app-vehicle-damage-dialog"]],decls:22,vars:10,consts:[[1,"dialog-content","custom-scroll"],["class","dialog-loader",4,"ngIf"],[4,"ngIf"],[1,"form-group","new-damage-form",3,"formGroup","ngSubmit"],[1,"col-12","mb-3"],["for","first_name",1,"text-dark","text-base"],["id","name","name","name","type","text","formControlName","name",1,"form-control"],["class","form-text invalid-feedback",4,"ngIf"],["for","uid",1,"text-dark","text-base"],["id","uid","name","uid","type","text","formControlName","uid",1,"form-control"],[1,"d-flex","w-100","px-4","pt-3","justify-content-between","mt-3"],[1,"col-5"],["type","button",1,"btn","w-100","btn-outline-secondary",3,"click"],["type","submit",1,"btn","w-100","btn-success"],[1,"dialog-loader"],[3,"diameter"],[1,"form-text","invalid-feedback"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Jc(1,ct,2,1,"div",1),h.Jc(2,st,2,0,"h3",2),h.Jc(3,lt,2,0,"h3",2),h.Ub(4,"form",3),h.fc("ngSubmit",(function(){return e.onSubmit()})),h.Ub(5,"div",4),h.Ub(6,"label",5),h.Lc(7,"Name"),h.Tb(),h.Pb(8,"input",6),h.Jc(9,gt,2,0,"div",7),h.Tb(),h.Ub(10,"div",4),h.Ub(11,"label",8),h.Lc(12,"ID"),h.Tb(),h.Pb(13,"input",9),h.Jc(14,pt,2,0,"div",7),h.Tb(),h.Ub(15,"div",10),h.Ub(16,"div",11),h.Ub(17,"button",12),h.fc("click",(function(){return e.onCancel()})),h.Lc(18,"Cancel"),h.Tb(),h.Tb(),h.Ub(19,"div",11),h.Ub(20,"button",13),h.Lc(21,"Save"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Bb(1),h.pc("ngIf",e.isLoading),h.Bb(1),h.pc("ngIf","new"===e.data.action),h.Bb(1),h.pc("ngIf","edit"===e.data.action),h.Bb(1),h.pc("formGroup",e.damageForm),h.Bb(4),h.Gb("is-invalid",e.damageForm.controls.name.touched&&e.damageForm.controls.name.invalid),h.Bb(1),h.pc("ngIf",!0),h.Bb(4),h.Gb("is-invalid",e.damageForm.controls.uid.touched&&e.damageForm.controls.uid.invalid),h.Bb(1),h.pc("ngIf",!0))},directives:[c.n,x.x,x.p,x.i,x.d,x.o,x.g,j.b],styles:[".text-blue-light[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-light-rgb))}.text-blue-main[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-main-rgb))}.text-blue-dark[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-dark-rgb))}.bg-grey-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-light-rgb))}.bg-grey-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-5-rgb))}.bg-blue-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-light-rgb))}.bg-blue-main[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-main-rgb))}.bg-blue-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-dark-rgb))}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.text-base[_ngcontent-%COMP%]{font-size:1rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.75rem}.font-semibold[_ngcontent-%COMP%]{font-weight:500}.font-bold[_ngcontent-%COMP%]{font-weight:700}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.rounded-xl[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.border-primary-1[_ngcontent-%COMP%]{border:1px solid rgb(var(--palette-blue-main-rgb))}.border-primary-2[_ngcontent-%COMP%]{border:2px solid rgb(var(--palette-blue-main-rgb))}.custom-scroll[_ngcontent-%COMP%]{padding-right:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;border-radius:5px;background-color:rgb(var(--palette-grey-light-rgb))}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;border:.3em solid;border-color:rgb(var(--palette-grey-5-rgb))}[_nghost-%COMP%]{position:relative}.custom-select-wrapper[_ngcontent-%COMP%]{--select-padding:12px;--select-icon-width:14px;--form-icons-color:rgb(var(--palette-primary-rgb));--form-input-background:rgb(var(--palette-grey-0-rgb));position:relative}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{padding:calc(var(--select-padding) / 2) var(--select-padding);-webkit-padding-end:calc(var(--select-padding) + var(--select-icon-width));padding-inline-end:calc(var(--select-padding) + var(--select-icon-width));background:none;background-color:var(--form-input-background)}.custom-select-wrapper[_ngcontent-%COMP%]   .half-arrow-icon[_ngcontent-%COMP%]{right:var(--select-padding);top:0;pointer-events:none;height:100%;width:var(--select-icon-width);color:var(--form-icons-color);position:absolute}.new-damage-form[_ngcontent-%COMP%]{max-height:70vh;padding-bottom:1rem;overflow-y:auto}[_nghost-%COMP%]    {--cropper-outline-color:rgba(0,0,0,0.4)}[_nghost-%COMP%]     .mat-horizontal-stepper-header{height:40px!important}"]}),ht);function ut(t,e){1&t&&(h.Ub(0,"div",25),h.Pb(1,"mat-spinner",26),h.Tb()),2&t&&(h.Bb(1),h.pc("diameter",50))}function bt(t,e){1&t&&(h.Ub(0,"th",27),h.Lc(1,"ID"),h.Tb())}function mt(t,e){if(1&t&&(h.Ub(0,"td",28),h.Lc(1),h.Tb()),2&t){var n=e.$implicit;h.Bb(1),h.Mc(n.uid)}}function ft(t,e){1&t&&(h.Ub(0,"th",27),h.Lc(1,"Name"),h.Tb())}function vt(t,e){if(1&t&&(h.Ub(0,"td",28),h.Lc(1),h.Tb()),2&t){var n=e.$implicit;h.Bb(1),h.Mc(n.name)}}function xt(t,e){1&t&&h.Pb(0,"th",27)}function Mt(t,e){1&t&&h.Pb(0,"td",28)}function yt(t,e){1&t&&h.Pb(0,"th",27)}function Ct(t,e){1&t&&h.Pb(0,"td",28)}function wt(t,e){1&t&&(h.Ub(0,"th",27),h.Lc(1,"Actions"),h.Tb())}function Pt(t,e){if(1&t){var n=h.Vb();h.Ub(0,"td",28),h.Ub(1,"div",29),h.Ub(2,"button",30),h.fc("click",(function(){h.Bc(n);var t=e.$implicit;return h.jc().onDelete(t)})),h.Pb(3,"i",31),h.Tb(),h.Tb(),h.Tb()}}function Ot(t,e){1&t&&h.Pb(0,"tr",32)}function _t(t,e){1&t&&h.Pb(0,"tr",33)}function kt(t,e){1&t&&(h.Ub(0,"div",34),h.Lc(1,"No items found"),h.Tb())}var St,At,zt=[{path:"vehicle-templates",component:ot},{path:"vehicle-damage",component:(St=function(){function t(n,i,o,r){var a=this;e(this,t),this.dialog=n,this.dialogService=i,this.notificationService=o,this.adminService=r,this.displayedColumns=["uid","name","space","space2","actions"],this.pageSizeOptions=[12,24,50,100],this.subscriptions=[],this.items=new g.k([]);var c=this.adminService.vehicleDamage.subscribe((function(t){a.items.data=t}));this.subscriptions.push(c)}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.dialogService.showLoader(),this.adminService.fetchVehicleDamage().finally((function(){t.dialogService.hideLoader()}))}},{key:"applyFilter",value:function(t){this.items.filter=t.trim().toLocaleLowerCase()}},{key:"openNewDialog",value:function(){this.dialog.open(dt,{width:"800px",data:{action:"new"}})}},{key:"openEditDialog",value:function(t){this.dialog.open(dt,{width:"700px",data:{action:"edit",damage:t}})}},{key:"onDelete",value:function(t){var e=this;this.dialogService.showConfirm({title:"Delete item",msg:"Are you sure?"},(function(){e.loading=!0,e.adminService.deleteVehicleDamage(t.id).subscribe((function(t){e.loading=!1,e.notificationService.success("Item deleted")}),(function(t){e.loading=!1,e.notificationService.error()}))}))}},{key:"ngAfterViewInit",value:function(){this.items.sort=this.sort,this.items.paginator=this.paginator}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))}}]),t}(),St.\u0275fac=function(t){return new(t||St)(h.Ob(p.b),h.Ob(N.a),h.Ob(v.a),h.Ob(f))},St.\u0275cmp=h.Ib({type:St,selectors:[["app-vehicle-damage"]],viewQuery:function(t,e){var n;1&t&&(h.Qc(l.a,!0),h.Qc(s.a,!0)),2&t&&(h.wc(n=h.gc())&&(e.sort=n.first),h.wc(n=h.gc())&&(e.paginator=n.first))},decls:35,vars:6,consts:[[1,"px-2","px-md-5","py-3","position-relative"],["class","loader",4,"ngIf"],[1,"d-flex","flex-wrap","w-100","justify-content-between","align-items-center","mb-3"],[1,"text-dark","d-inline-block","content-title"],[1,"d-flex","content-options-bar"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Filter by any field...",1,"form-control",3,"keyup"],[1,"btn","font-weight-bold","bg-blue-main","text-light","ml-3",3,"click"],[1,"row","mb-4"],[1,"col-12","table-wrapper","table-responsive"],["mat-table","","matSort","",1,"table","table-borderless","table-striped",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","space"],["matColumnDef","space2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","text-center border py-3 mt-n3 table-width",4,"ngIf"],["aria-label","Select page",3,"pageSizeOptions"],[1,"loader"],[3,"diameter"],["mat-header-cell",""],["mat-cell",""],[1,"action-buttons"],["aria-label","edit",1,"text-dark",3,"click"],[1,"fas","fa-trash-alt","text-xl"],["mat-header-row",""],["mat-row",""],[1,"text-center","border","py-3","mt-n3","table-width"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Jc(1,ut,2,1,"div",1),h.Ub(2,"div",2),h.Ub(3,"h1",3),h.Lc(4,"Vehicle damage"),h.Tb(),h.Ub(5,"div",4),h.Ub(6,"div",5),h.Ub(7,"div",6),h.Ub(8,"span",7),h.Pb(9,"i",8),h.Tb(),h.Tb(),h.Ub(10,"input",9),h.fc("keyup",(function(t){return e.applyFilter(t.target.value)})),h.Tb(),h.Tb(),h.Ub(11,"button",10),h.fc("click",(function(){return e.openNewDialog()})),h.Lc(12,"+Add"),h.Tb(),h.Tb(),h.Tb(),h.Ub(13,"div",11),h.Ub(14,"div",12),h.Ub(15,"table",13),h.Sb(16,14),h.Jc(17,bt,2,0,"th",15),h.Jc(18,mt,2,1,"td",16),h.Rb(),h.Sb(19,17),h.Jc(20,ft,2,0,"th",15),h.Jc(21,vt,2,1,"td",16),h.Rb(),h.Sb(22,18),h.Jc(23,xt,1,0,"th",15),h.Jc(24,Mt,1,0,"td",16),h.Rb(),h.Sb(25,19),h.Jc(26,yt,1,0,"th",15),h.Jc(27,Ct,1,0,"td",16),h.Rb(),h.Sb(28,20),h.Jc(29,wt,2,0,"th",15),h.Jc(30,Pt,4,0,"td",16),h.Rb(),h.Jc(31,Ot,1,0,"tr",21),h.Jc(32,_t,1,0,"tr",22),h.Tb(),h.Jc(33,kt,2,0,"div",23),h.Pb(34,"mat-paginator",24),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Bb(1),h.pc("ngIf",e.loading),h.Bb(14),h.pc("dataSource",e.items),h.Bb(16),h.pc("matHeaderRowDef",e.displayedColumns),h.Bb(1),h.pc("matRowDefColumns",e.displayedColumns),h.Bb(1),h.pc("ngIf",!e.items.data.length||!e.items.filteredData.length),h.Bb(1),h.pc("pageSizeOptions",e.pageSizeOptions))},directives:[c.n,g.j,l.a,g.c,g.e,g.b,g.g,g.i,s.a,j.b,g.d,g.a,g.f,g.h],styles:[".text-blue-light[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-light-rgb))}.text-blue-main[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-main-rgb))}.text-blue-dark[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-dark-rgb))}.bg-grey-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-light-rgb))}.bg-grey-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-5-rgb))}.bg-blue-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-light-rgb))}.bg-blue-main[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-main-rgb))}.bg-blue-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-dark-rgb))}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.text-base[_ngcontent-%COMP%]{font-size:1rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.75rem}.font-semibold[_ngcontent-%COMP%]{font-weight:500}.font-bold[_ngcontent-%COMP%]{font-weight:700}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.rounded-xl[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.border-primary-1[_ngcontent-%COMP%]{border:1px solid rgb(var(--palette-blue-main-rgb))}.border-primary-2[_ngcontent-%COMP%]{border:2px solid rgb(var(--palette-blue-main-rgb))}.custom-scroll[_ngcontent-%COMP%]{padding-right:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;border-radius:5px;background-color:rgb(var(--palette-grey-light-rgb))}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;border:.3em solid;border-color:rgb(var(--palette-grey-5-rgb))}.table-wrapper[_ngcontent-%COMP%]{--table-header-color:rgb(var(--palette-white-rgb));--table-header-background:rgb(var(--palette-blue-main-rgb));--table-text-color:rgb(var(--palette-grey-9-rgb));--table-row-hover-background:rgb(var(--palette-blue-light-rgb));--page-background:rgb(var(--palette-white-rgb));--page-spacing:10px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;min-width:672px;background:none;border-collapse:collapse;border-radius:1em 1em 0 0;overflow:hidden}.table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]{min-width:370px}.table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%], .table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{padding:var(--page-spacing)}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--table-header-color);background-color:var(--table-header-background);font-size:13px;font-weight:700}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-style:none;padding:calc(var(--page-spacing))}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{padding:calc(var(--page-spacing) * 2)}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--table-text-color);line-height:1.6;font-size:13px}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.9em}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{border-bottom-style:none;padding:var(--page-spacing) calc(var(--page-spacing))}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{padding:calc(var(--page-spacing) * 2)}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]{height:auto;transition:background-color .5s}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-top-left-radius:6px;border-bottom-left-radius:6px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-top-right-radius:6px;border-bottom-right-radius:6px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover{background-color:var(--table-row-hover-background);transition:background-color .5s}.table-wrapper[_ngcontent-%COMP%]     [mat-table] .mat-sort-header-arrow{color:var(--table-header-color)}.table-wrapper[_ngcontent-%COMP%]   .table-width[_ngcontent-%COMP%], .table-wrapper[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{min-width:672px;width:100%}.table-wrapper[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none}.action-buttons[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;margin-top:5px}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{all:unset;display:inline-block;cursor:pointer;line-height:.8}.action-buttons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.8rem}"]}),St)}],Rt=((At=i((function t(){e(this,t)}))).\u0275mod=h.Mb({type:At}),At.\u0275inj=h.Lb({factory:function(t){return new(t||At)},imports:[[c.c,rt.e.forChild(zt),at.a,D]]}),At)},"38VU":function(t,n,o){"use strict";o.d(n,"a",(function(){return b}));var r=o("dNgK"),a=o("fXoL"),c=o("ofXK");function s(t,e){if(1&t&&a.Pb(0,"i",6),2&t){var n=a.jc();a.pc("ngClass","notification-icon fas fa-"+n.icon)}}function l(t,e){if(1&t&&(a.Ub(0,"span",7),a.Lc(1),a.Tb()),2&t){var n=a.jc();a.Bb(1),a.Mc(n.message)}}function g(t,e){if(1&t){var n=a.Vb();a.Ub(0,"button",8),a.fc("click",(function(){return a.Bc(n),a.jc().dismiss()})),a.Pb(1,"i",9),a.Tb()}}function p(t,e){if(1&t&&(a.Ub(0,"p",10),a.Lc(1),a.Tb()),2&t){var n=a.jc();a.Bb(1),a.Mc(n.text)}}var h,d,u=((d=function(){function t(n){e(this,t),this.data=n,this.type=!1,this.dismissible=!1,this.baseClass="notification alert",this.classes="",n&&(this.message=n.message,this.icon=n.icon,this.type=n.type,this.dismissible=n.dismissible)}return i(t,[{key:"dismiss",value:function(){this.snackBarRef&&this.snackBarRef.dismiss()}},{key:"ngOnInit",value:function(){this.classes=this.baseClass,this.classes+=this.dismissible?" alert-dismissible":"",this.classes+=this.type?" alert-"+this.type:""}}]),t}()).\u0275fac=function(t){return new(t||d)(a.Ob(r.a,8))},d.\u0275cmp=a.Ib({type:d,selectors:[["app-notification-template"]],inputs:{message:"message",text:"text",icon:"icon",type:"type",dismissible:"dismissible"},decls:7,vars:5,consts:[[1,"custom-notification-wrapper"],["role","alert",3,"ngClass"],[3,"ngClass",4,"ngIf"],["class","notification-line",4,"ngIf"],["type","button","class","close",3,"click",4,"ngIf"],["class","notification-text",4,"ngIf"],[3,"ngClass"],[1,"notification-line"],["type","button",1,"close",3,"click"],[1,"fas","fa-times"],[1,"notification-text"]],template:function(t,e){1&t&&(a.Sb(0),a.Ub(1,"div",0),a.Ub(2,"div",1),a.Jc(3,s,1,1,"i",2),a.Jc(4,l,2,1,"span",3),a.Jc(5,g,2,0,"button",4),a.Jc(6,p,2,1,"p",5),a.Tb(),a.Tb(),a.Rb()),2&t&&(a.Bb(2),a.pc("ngClass",e.classes),a.Bb(1),a.pc("ngIf",e.icon),a.Bb(1),a.pc("ngIf",e.message),a.Bb(1),a.pc("ngIf",e.dismissible),a.Bb(1),a.pc("ngIf",e.text))},directives:[c.l,c.n],styles:[".text-blue-light[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-light-rgb))}.text-blue-main[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-main-rgb))}.text-blue-dark[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-dark-rgb))}.bg-grey-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-light-rgb))}.bg-grey-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-5-rgb))}.bg-blue-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-light-rgb))}.bg-blue-main[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-main-rgb))}.bg-blue-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-dark-rgb))}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.text-base[_ngcontent-%COMP%]{font-size:1rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.75rem}.font-semibold[_ngcontent-%COMP%]{font-weight:500}.font-bold[_ngcontent-%COMP%]{font-weight:700}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.rounded-xl[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.border-primary-1[_ngcontent-%COMP%]{border:1px solid rgb(var(--palette-blue-main-rgb))}.border-primary-2[_ngcontent-%COMP%]{border:2px solid rgb(var(--palette-blue-main-rgb))}.custom-scroll[_ngcontent-%COMP%]{padding-right:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;border-radius:5px;background-color:rgb(var(--palette-grey-light-rgb))}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;border:.3em solid;border-color:rgb(var(--palette-grey-5-rgb))}[_nghost-%COMP%]{--info-notification-background:rgb(var(--palette-info-light-rgb));--info-notification-color:rgb(var(--palette-info-rgb));--success-notification-background:rgb(var(--palette-success-light-rgb));--success-notification-color:rgb(var(--palette-success-rgb));--warning-notification-background:rgb(var(--palette-warning-light-rgb));--warning-notification-color:rgb(var(--palette-warning-rgb));--danger-notification-background:rgb(var(--palette-error-light-rgb));--danger-notification-color:rgb(var(--palette-error-rgb));--notification-spacing:10px}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{border:0;background-color:var(--notification-background-color);color:var(--notification-text-color);border-radius:6px;padding-top:calc(var(--notification-spacing) * 1.5);padding-bottom:calc(var(--notification-spacing) * 1.5);box-shadow:0 10px 20px rgba(var(--palette-grey-6-rgb),.15),0 3px 6px rgba(var(--palette-grey-6-rgb),.1)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%], .custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-info[_ngcontent-%COMP%]{--notification-background-color:var(--info-notification-background);--notification-text-color:var(--info-notification-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-success[_ngcontent-%COMP%]{--notification-background-color:var(--success-notification-background);--notification-text-color:var(--success-notification-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-warning[_ngcontent-%COMP%]{--notification-background-color:var(--warning-notification-background);--notification-text-color:var(--warning-notification-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-danger[_ngcontent-%COMP%]{--notification-background-color:var(--danger-notification-background);--notification-text-color:var(--danger-notification-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:var(--notification-text-color);font-size:18px;margin-right:var(--notification-spacing);align-self:center}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-line[_ngcontent-%COMP%]{font-size:16px;flex-grow:2;font-weight:600}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-text[_ngcontent-%COMP%]{font-size:14px}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-dismissible[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{height:100%;opacity:1;font-size:16px;color:var(--notification-text-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-dismissible[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:.5;color:var(--notification-text-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-line[_ngcontent-%COMP%] ~ .notification-text[_ngcontent-%COMP%]{margin-top:calc(var(--notification-spacing) * 1.5)}  .mat-snack-bar-container{box-shadow:none;max-width:none!important}  .mat-snack-bar-container.notification-wrapper{background:none}"]}),d),b=((h=function(){function t(n){e(this,t),this.snackBar=n}return i(t,[{key:"success",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Action successfully";this.showNotification(t,"success","check-circle")}},{key:"error",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Action failed";this.showNotification(t,"danger","exclamation-triangle")}},{key:"info",value:function(t){this.showNotification(t,"info","info")}},{key:"warning",value:function(t){this.showNotification(t,"warning","info")}},{key:"showNotification",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Missed message",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.mySnackBarRef=this.snackBar.openFromComponent(u,{data:{message:t,icon:n,type:e,dismissible:!0},duration:"success"!==e?6e3:3e3,horizontalPosition:"right",verticalPosition:"bottom",panelClass:["notification-wrapper"]}),this.mySnackBarRef.instance.snackBarRef=this.mySnackBarRef}}]),t}()).\u0275fac=function(t){return new(t||h)(a.cc(r.b))},h.\u0275prov=a.Kb({token:h,factory:h.\u0275fac,providedIn:"root"}),h)},Espg:function(t,n,o){"use strict";o.d(n,"a",(function(){return d}));var r,a,c,s=o("0IaG"),l=o("fXoL"),g=((r=i((function t(n,i){e(this,t),this.dialogRef=n,this.data=i}))).\u0275fac=function(t){return new(t||r)(l.Ob(s.e),l.Ob(s.a))},r.\u0275cmp=l.Ib({type:r,selectors:[["app-confirm-dialog"]],decls:10,vars:4,consts:[[1,"dialog-w"],[1,"mt-2","mb-3","text-lg","text-dark","p-1"],[1,"d-flex","justify-content-end"],[1,"btn","btn-secondary","px-4","mr-3",3,"mat-dialog-close"],[1,"btn","btn-danger","px-2",3,"mat-dialog-close"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"h3"),l.Lc(2),l.Tb(),l.Ub(3,"p",1),l.Lc(4),l.Tb(),l.Ub(5,"div",2),l.Ub(6,"button",3),l.Lc(7,"NO"),l.Tb(),l.Ub(8,"button",4),l.Lc(9,"YES"),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Bb(2),l.Mc(e.data.title),l.Bb(2),l.Mc(e.data.msg),l.Bb(2),l.pc("mat-dialog-close",!1),l.Bb(2),l.pc("mat-dialog-close",!0))},directives:[s.c],styles:[""]}),r),p=o("Xa2L"),h=((c=i((function t(n,i){e(this,t),this.dialogRef=n,this.data=i,this.data.setDialogRef(this.dialogRef)}))).\u0275fac=function(t){return new(t||c)(l.Ob(s.e),l.Ob(s.a))},c.\u0275cmp=l.Ib({type:c,selectors:[["app-loader-dialog"]],decls:5,vars:1,consts:[[1,"dialog-w"],[1,"d-flex","flex-column","align-items-center","justify-content-center","py-4"],[3,"diameter"],[1,"mt-4"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"div",1),l.Pb(2,"mat-spinner",2),l.Ub(3,"div",3),l.Lc(4,"Loading..."),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Bb(2),l.pc("diameter",50))},directives:[p.b],styles:[""]}),c),d=((a=function(){function t(n){e(this,t),this.dialog=n}return i(t,[{key:"showConfirm",value:function(t,e){this.dialog.open(g,{width:"400px",data:t}).afterClosed().subscribe((function(t){t&&e()}))}},{key:"showLoader",value:function(){var t=this;this.dialog.open(h,{width:"300px",data:{setDialogRef:function(e){t.currentLoaderDialogRef=e}},disableClose:!0}).afterClosed().subscribe()}},{key:"hideLoader",value:function(){var t;null===(t=this.currentLoaderDialogRef)||void 0===t||t.close(),this.currentLoaderDialogRef=null}}]),t}()).\u0275fac=function(t){return new(t||a)(l.cc(s.b))},a.\u0275prov=l.Kb({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},mrSG:function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}function o(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{s(i.next(t))}catch(e){r(e)}}function c(t){try{s(i.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((i=i.apply(t,e||[])).next())}))}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}))}}])}();
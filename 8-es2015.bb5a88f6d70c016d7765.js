(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"0JFd":function(t,e,i){"use strict";i.r(e),i.d(e,"administrationRoutes",(function(){return ut})),i.d(e,"AdministrationModule",(function(){return ft}));var n=i("ofXK"),o=i("M9IT"),a=i("Dh3D"),r=i("+0xr"),c=i("0IaG"),s=i("fXoL"),g=i("2Vo4"),l=i("lJxs"),p=i("AytR"),h=i("tk/3");let d=(()=>{class t{constructor(t){this.http=t,this.baseUrl=p.a.apiUrl,this.vehicleTemplates=new g.a([]),this.vehicleDamage=new g.a([])}fetchVehicleTemplates(){return new Promise((t,e)=>{this.http.get(`${this.baseUrl}/administration/vehicleTemplate`).subscribe(e=>{const i=e.map(t=>({id:t.id,name:t.name,imageUrl:t.imageB64}));this.vehicleTemplates.next(i),t(e)},t=>{e(t)})})}fetchVehicleDamage(){return new Promise((t,e)=>{this.http.get(`${this.baseUrl}/administration/vehicleDamage`).subscribe(e=>{this.vehicleDamage.next(e),t(e)},t=>{e(t)})})}saveVehicleTemplate(t){return this.http.post(`${this.baseUrl}/administration/vehicleTemplate`,t).pipe(Object(l.a)(t=>(this.fetchVehicleTemplates(),t)))}saveVehicleDamage(t){return this.http.post(`${this.baseUrl}/administration/vehicleDamage`,t).pipe(Object(l.a)(t=>(this.fetchVehicleDamage(),t)))}updateVehicleTemplate(t,e){return this.http.put(`${this.baseUrl}/administration/vehicleTemplate/${e}`,t).pipe(Object(l.a)(t=>(this.fetchVehicleTemplates(),t)))}deleteVehicleTemplate(t){return this.http.delete(`${this.baseUrl}/administration/vehicleTemplate/${t}`).pipe(Object(l.a)(t=>(this.fetchVehicleTemplates(),t)))}deleteVehicleDamage(t){return this.http.delete(`${this.baseUrl}/administration/vehicleDamage/${t}`).pipe(Object(l.a)(t=>(this.fetchVehicleDamage(),t)))}getMostRecents(){return this.http.get(`${this.baseUrl}/customers/mostRecents`)}}return t.\u0275fac=function(e){return new(e||t)(s.cc(h.b))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=i("38VU"),m=i("3Pt+"),u=i("mrSG"),f=i("jhN1");const x=["wrapper"],v=["sourceImage"];function M(t,e){if(1&t){const t=s.Vb();s.Ub(0,"img",4,5),s.fc("load",(function(){return s.Bc(t),s.jc().imageLoadedInView()})),s.Tb()}if(2&t){const t=s.jc();s.Gc("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),s.pc("src",t.safeImgDataUrl,s.Cc)}}function C(t,e){if(1&t){const t=s.Vb();s.Sb(0),s.Ub(1,"span",9),s.fc("mousedown",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"topleft")}))("touchstart",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"topleft")})),s.Pb(2,"span",10),s.Tb(),s.Ub(3,"span",11),s.Pb(4,"span",10),s.Tb(),s.Ub(5,"span",12),s.fc("mousedown",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"topright")}))("touchstart",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"topright")})),s.Pb(6,"span",10),s.Tb(),s.Ub(7,"span",13),s.Pb(8,"span",10),s.Tb(),s.Ub(9,"span",14),s.fc("mousedown",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"bottomright")}))("touchstart",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"bottomright")})),s.Pb(10,"span",10),s.Tb(),s.Ub(11,"span",15),s.Pb(12,"span",10),s.Tb(),s.Ub(13,"span",16),s.fc("mousedown",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"bottomleft")}))("touchstart",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"bottomleft")})),s.Pb(14,"span",10),s.Tb(),s.Ub(15,"span",17),s.Pb(16,"span",10),s.Tb(),s.Ub(17,"span",18),s.fc("mousedown",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"top")}))("touchstart",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"top")})),s.Tb(),s.Ub(18,"span",19),s.fc("mousedown",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"right")}))("touchstart",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"right")})),s.Tb(),s.Ub(19,"span",20),s.fc("mousedown",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"bottom")}))("touchstart",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"bottom")})),s.Tb(),s.Ub(20,"span",21),s.fc("mousedown",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"left")}))("touchstart",(function(e){s.Bc(t);const i=s.jc(2);return i.startMove(e,i.moveTypes.Resize,"left")})),s.Tb(),s.Rb()}}function w(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",6),s.fc("keydown",(function(e){return s.Bc(t),s.jc().keyboardAccess(e)})),s.Ub(1,"div",7),s.fc("mousedown",(function(e){s.Bc(t);const i=s.jc();return i.startMove(e,i.moveTypes.Move)}))("touchstart",(function(e){s.Bc(t);const i=s.jc();return i.startMove(e,i.moveTypes.Move)})),s.Tb(),s.Jc(2,C,21,0,"ng-container",8),s.Tb()}if(2&t){const t=s.jc();s.Gc("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),s.Gb("ngx-ic-round",t.roundCropper),s.Bb(2),s.pc("ngIf",!t.hideResizeSquares)}}class P{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=void 0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(t){Object.keys(t).filter(t=>t in this).forEach(e=>this[e]=t[e]),this.validateOptions()}setOptionsFromChanges(t){Object.keys(t).filter(t=>t in this).forEach(e=>this[e]=t[e].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}const O={Move:"move",Resize:"resize",Pinch:"pinch"};let y=(()=>{class t{crop(t,e,i,n){const o=this.getImagePosition(t,e,i,n),a=o.x2-o.x1,r=o.y2-o.y1,c=document.createElement("canvas");c.width=a,c.height=r;const s=c.getContext("2d");if(!s)return;null!=n.backgroundColor&&(s.fillStyle=n.backgroundColor,s.fillRect(0,0,a,r));const g=(n.transform.scale||1)*(n.transform.flipH?-1:1),l=(n.transform.scale||1)*(n.transform.flipV?-1:1),p=e.transformed;s.setTransform(g,0,0,l,p.size.width/2,p.size.height/2),s.translate(-o.x1/g,-o.y1/l),s.rotate((n.transform.rotate||0)*Math.PI/180),s.drawImage(p.image,-p.size.width/2,-p.size.height/2);const h={width:a,height:r,imagePosition:o,cropperPosition:Object.assign({},i)};n.containWithinAspectRatio&&(h.offsetImagePosition=this.getOffsetImagePosition(t,e,i,n));const d=this.getResizeRatio(a,r,n);return 1!==d&&(h.width=Math.round(a*d),h.height=n.maintainAspectRatio?Math.round(h.width/n.aspectRatio):Math.round(r*d),function(t,e,i){const n=t.width,o=t.height,a=n/(e=Math.round(e)),r=o/(i=Math.round(i)),c=Math.ceil(a/2),s=Math.ceil(r/2),g=t.getContext("2d");if(g){const l=g.getImageData(0,0,n,o),p=g.createImageData(e,i),h=l.data,d=p.data;for(let t=0;t<i;t++)for(let i=0;i<e;i++){const g=4*(i+t*e),l=t*r;let p=0,b=0,m=0,u=0,f=0,x=0,v=0;const M=Math.floor(i*a),C=Math.floor(t*r);let w=Math.ceil((i+1)*a),P=Math.ceil((t+1)*r);w=Math.min(w,n),P=Math.min(P,o);for(let t=C;t<P;t++){const e=Math.abs(l-t)/s,o=i*a,r=e*e;for(let i=M;i<w;i++){const e=Math.abs(o-i)/c,a=Math.sqrt(r+e*e);if(a>=1)continue;p=2*a*a*a-3*a*a+1;const s=4*(i+t*n);v+=p*h[s+3],m+=p,h[s+3]<255&&(p=p*h[s+3]/250),u+=p*h[s],f+=p*h[s+1],x+=p*h[s+2],b+=p}}d[g]=u/b,d[g+1]=f/b,d[g+2]=x/b,d[g+3]=v/m}t.width=e,t.height=i,g.putImageData(p,0,0)}}(c,h.width,h.height)),h.base64=c.toDataURL("image/"+n.format,this.getQuality(n)),h}getImagePosition(t,e,i,n){const o=e.transformed.size.width/t.nativeElement.offsetWidth,a={x1:Math.round(i.x1*o),y1:Math.round(i.y1*o),x2:Math.round(i.x2*o),y2:Math.round(i.y2*o)};return n.containWithinAspectRatio||(a.x1=Math.max(a.x1,0),a.y1=Math.max(a.y1,0),a.x2=Math.min(a.x2,e.transformed.size.width),a.y2=Math.min(a.y2,e.transformed.size.height)),a}getOffsetImagePosition(t,e,i,n){const o=e.transformed.size.width/t.nativeElement.offsetWidth;let a,r;(n.canvasRotation+e.exifTransform.rotate)%2?(a=(e.transformed.size.width-e.original.size.height)/2,r=(e.transformed.size.height-e.original.size.width)/2):(a=(e.transformed.size.width-e.original.size.width)/2,r=(e.transformed.size.height-e.original.size.height)/2);const c={x1:Math.round(i.x1*o)-a,y1:Math.round(i.y1*o)-r,x2:Math.round(i.x2*o)-a,y2:Math.round(i.y2*o)-r};return n.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,e.transformed.size.width),c.y2=Math.min(c.y2,e.transformed.size.height)),c}getResizeRatio(t,e,i){const n=i.resizeToWidth/t,o=i.resizeToHeight/e,a=new Array;i.resizeToWidth>0&&a.push(n),i.resizeToHeight>0&&a.push(o);const r=0===a.length?1:Math.min(...a);return r>1&&!i.onlyScaleDown?r:Math.min(r,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),_=(()=>{class t{resetCropperPosition(t,e,i){if(!(null==t?void 0:t.nativeElement))return;const n=t.nativeElement;if(i.cropperStaticHeight&&i.cropperStaticWidth)e.x1=0,e.x2=n.offsetWidth>i.cropperStaticWidth?i.cropperStaticWidth:n.offsetWidth,e.y1=0,e.y2=n.offsetHeight>i.cropperStaticHeight?i.cropperStaticHeight:n.offsetHeight;else{const t=Math.min(i.cropperScaledMaxWidth,n.offsetWidth),o=Math.min(i.cropperScaledMaxHeight,n.offsetHeight);if(i.maintainAspectRatio)if(n.offsetWidth/i.aspectRatio<n.offsetHeight){e.x1=0,e.x2=t;const o=t/i.aspectRatio;e.y1=(n.offsetHeight-o)/2,e.y2=e.y1+o}else{e.y1=0,e.y2=o;const t=o*i.aspectRatio;e.x1=(n.offsetWidth-t)/2,e.x2=e.x1+t}else e.x1=0,e.x2=t,e.y1=0,e.y2=o}}move(t,e,i){const n=this.getClientX(t)-e.clientX,o=this.getClientY(t)-e.clientY;i.x1=e.x1+n,i.y1=e.y1+o,i.x2=e.x2+n,i.y2=e.y2+o}resize(t,e,i,n,o){const a=this.getClientX(t)-e.clientX,r=this.getClientY(t)-e.clientY;switch(e.position){case"left":i.x1=Math.min(Math.max(e.x1+a,i.x2-o.cropperScaledMaxWidth),i.x2-o.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(e.x1+a,i.x2-o.cropperScaledMaxWidth),i.x2-o.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+r,i.y2-o.cropperScaledMaxHeight),i.y2-o.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(e.y1+r,i.y2-o.cropperScaledMaxHeight),i.y2-o.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(e.x2+a,i.x1+o.cropperScaledMaxWidth),i.x1+o.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+r,i.y2-o.cropperScaledMaxHeight),i.y2-o.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(e.x2+a,i.x1+o.cropperScaledMaxWidth),i.x1+o.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(e.x2+a,i.x1+o.cropperScaledMaxWidth),i.x1+o.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+r,i.y1+o.cropperScaledMaxHeight),i.y1+o.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(e.y2+r,i.y1+o.cropperScaledMaxHeight),i.y1+o.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(e.x1+a,i.x2-o.cropperScaledMaxWidth),i.x2-o.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+r,i.y1+o.cropperScaledMaxHeight),i.y1+o.cropperScaledMinHeight);break;case"center":const c=t.scale,s=Math.min(Math.max(o.cropperScaledMinWidth,Math.abs(e.x2-e.x1)*c),o.cropperScaledMaxWidth),g=Math.min(Math.max(o.cropperScaledMinHeight,Math.abs(e.y2-e.y1)*c),o.cropperScaledMaxHeight);i.x1=e.clientX-s/2,i.x2=e.clientX+s/2,i.y1=e.clientY-g/2,i.y2=e.clientY+g/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>n.width&&(i.x1-=i.x2-n.width,i.x2=n.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>n.height&&(i.y1-=i.y2-n.height,i.y2=n.height)}o.maintainAspectRatio&&this.checkAspectRatio(e.position,i,n,o)}checkAspectRatio(t,e,i,n){let o=0,a=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*n.aspectRatio,o=Math.max(e.x2-i.width,0),a=Math.max(0-e.y1,0),(o>0||a>0)&&(e.x2-=a*n.aspectRatio>o?a*n.aspectRatio:o,e.y1+=a*n.aspectRatio>o?a:o/n.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*n.aspectRatio,o=Math.max(e.x2-i.width,0),a=Math.max(e.y2-i.height,0),(o>0||a>0)&&(e.x2-=a*n.aspectRatio>o?a*n.aspectRatio:o,e.y2-=a*n.aspectRatio>o?a:o/n.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/n.aspectRatio,o=Math.max(0-e.x1,0),a=Math.max(0-e.y1,0),(o>0||a>0)&&(e.x1+=a*n.aspectRatio>o?a*n.aspectRatio:o,e.y1+=a*n.aspectRatio>o?a:o/n.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/n.aspectRatio,o=Math.max(e.x2-i.width,0),a=Math.max(0-e.y1,0),(o>0||a>0)&&(e.x2-=a*n.aspectRatio>o?a*n.aspectRatio:o,e.y1+=a*n.aspectRatio>o?a:o/n.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/n.aspectRatio,o=Math.max(e.x2-i.width,0),a=Math.max(e.y2-i.height,0),(o>0||a>0)&&(e.x2-=a*n.aspectRatio>o?a*n.aspectRatio:o,e.y2-=a*n.aspectRatio>o?a:o/n.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/n.aspectRatio,o=Math.max(0-e.x1,0),a=Math.max(e.y2-i.height,0),(o>0||a>0)&&(e.x1+=a*n.aspectRatio>o?a*n.aspectRatio:o,e.y2-=a*n.aspectRatio>o?a:o/n.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*n.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/n.aspectRatio;const t=Math.max(0-e.x1,0),r=Math.max(e.x2-i.width,0),c=Math.max(e.y2-i.height,0),s=Math.max(0-e.y1,0);(t>0||r>0||c>0||s>0)&&(e.x1+=c*n.aspectRatio>t?c*n.aspectRatio:t,e.x2-=s*n.aspectRatio>r?s*n.aspectRatio:r,e.y1+=s*n.aspectRatio>r?s:r/n.aspectRatio,e.y2-=c*n.aspectRatio>t?c:t/n.aspectRatio)}}getClientX(t){var e;return(null===(e=t.touches)||void 0===e?void 0:e[0].clientX)||t.clientX||0}getClientY(t){var e;return(null===(e=t.touches)||void 0===e?void 0:e[0].clientY)||t.clientY||0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),S=(()=>{class t{constructor(){this.autoRotateSupported=new Promise(t=>{const e=new Image;e.onload=()=>{t(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}loadImageFile(t,e){return new Promise((i,n)=>{const o=new FileReader;o.onload=o=>{this.loadImage(o.target.result,t.type,e).then(i).catch(n)},o.readAsDataURL(t)})}loadImage(t,e,i){return this.isValidImageType(e)?this.loadBase64Image(t,i):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}loadImageFromURL(t,e){return new Promise((i,n)=>{const o=new Image;o.onerror=()=>n,o.onload=()=>{const t=document.createElement("canvas"),n=t.getContext("2d");t.width=o.width,t.height=o.height,n.drawImage(o,0,0),this.loadBase64Image(t.toDataURL(),e).then(i)},o.crossOrigin="anonymous",o.src=t})}loadBase64Image(t,e){return new Promise((e,i)=>{const n=new Image;n.onload=()=>e({originalImage:n,originalBase64:t}),n.onerror=i,n.src=t}).then(t=>this.transformImageBase64(t,e))}transformImageBase64(t,e){return Object(u.a)(this,void 0,void 0,(function*(){const i=yield this.autoRotateSupported,n=yield function(t){switch("string"==typeof t&&(t=function(t){const e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");const e=atob(t),i=e.length,n=new Uint8Array(i);for(let o=0;o<i;o++)n[o]=e.charCodeAt(o);return n.buffer}(t));if(65496!==e.getUint16(0,!1))return-2;const i=e.byteLength;let n=2;for(;n<i;){if(e.getUint16(n+2,!1)<=8)return-1;const t=e.getUint16(n,!1);if(n+=2,65505==t){if(1165519206!==e.getUint32(n+=2,!1))return-1;const t=18761==e.getUint16(n+=6,!1);n+=e.getUint32(n+4,t);const i=e.getUint16(n,t);n+=2;for(let o=0;o<i;o++)if(274==e.getUint16(n+12*o,t))return e.getUint16(n+12*o+8,t)}else{if(65280!=(65280&t))break;n+=e.getUint16(n,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(i?-1:t.originalBase64);return t.originalImage&&t.originalImage.complete?this.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:n},e):Promise.reject(new Error("No image loaded"))}))}transformLoadedImage(t,e){return Object(u.a)(this,void 0,void 0,(function*(){const i=e.canvasRotation+t.exifTransform.rotate,n={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight};if(0===i&&!t.exifTransform.flip&&!e.containWithinAspectRatio)return{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},n)},transformed:{base64:t.original.base64,image:t.original.image,size:Object.assign({},n)},exifTransform:t.exifTransform};const o=this.getTransformedSize(n,t.exifTransform,e),a=document.createElement("canvas");a.width=o.width,a.height=o.height;const r=a.getContext("2d");r.setTransform(t.exifTransform.flip?-1:1,0,0,1,a.width/2,a.height/2),r.rotate(Math.PI*(i/2)),r.drawImage(t.original.image,-n.width/2,-n.height/2);const c=a.toDataURL(),s=yield this.loadImageFromBase64(c);return{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},n)},transformed:{base64:c,image:s,size:{width:s.width,height:s.height}},exifTransform:t.exifTransform}}))}loadImageFromBase64(t){return new Promise((e,i)=>{const n=new Image;n.onload=()=>e(n),n.onerror=i,n.src=t})}getTransformedSize(t,e,i){const n=i.canvasRotation+e.rotate;if(i.containWithinAspectRatio){if(n%2){const e=t.height/i.aspectRatio;return{width:Math.max(t.height,t.width*i.aspectRatio),height:Math.max(t.width,e)}}{const e=t.width/i.aspectRatio;return{width:Math.max(t.width,t.height*i.aspectRatio),height:Math.max(t.height,e)}}}return n%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),A=(()=>{class t{constructor(t,e,i,n,o){this.cropService=t,this.cropperPositionService=e,this.loadImageService=i,this.sanitizer=n,this.cd=o,this.Hammer=(null===window||void 0===window?void 0:window.Hammer)||null,this.settings=new P,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=O,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new s.o,this.startCropImage=new s.o,this.imageLoaded=new s.o,this.cropperReady=new s.o,this.loadImageFailed=new s.o,this.reset()}ngOnChanges(t){var e;this.onChangesUpdateSettings(t),this.onChangesInputImage(t),(null===(e=this.loadedImage)||void 0===e?void 0:e.original.image.complete)&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t)),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(t.maintainAspectRatio||t.aspectRatio)?this.resetCropperPosition():t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()),this.cd.markForCheck()),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}onChangesUpdateSettings(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var t,e,i;return(null===(i=null===(e=null===(t=this.imageChangedEvent)||void 0===t?void 0:t.target)||void 0===e?void 0:e.files)||void 0===i?void 0:i.length)>0}setCssTransform(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var t,e;return(null===(e=null===(t=this.sourceImage)||void 0===t?void 0:t.nativeElement)||void 0===e?void 0:e.offsetWidth)>0}onResize(){this.loadedImage&&(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}activatePinchGesture(){if(this.Hammer){const t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else Object(s.X)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){const e=+t.key;e>=1&&e<=9&&(this.settings.stepSize=e)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const e=t.shiftKey?O.Resize:O.Move,i=t.altKey?function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(t.key):function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(t.key),n=function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};default:return{clientX:-1*e,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,i),this.moveImg(n),this.moveStop()}startMove(t,e,i=null){var n,o;(null===(n=this.moveStart)||void 0===n?void 0:n.active)&&(null===(o=this.moveStart)||void 0===o?void 0:o.type)===O.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:i,clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper))}startPinch(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:O.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===O.Move?(this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===O.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===O.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var t,e;(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image)?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var t,e;if(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image){const t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var t,e;if(null!=(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image)){this.startCropImage.emit();const t=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=t&&this.imageCropped.emit(t),t}return null}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(y),s.Ob(_),s.Ob(S),s.Ob(f.c),s.Ob(s.h))},t.\u0275cmp=s.Ib({type:t,selectors:[["image-cropper"]],viewQuery:function(t,e){var i;1&t&&(s.Fc(x,!0),s.Qc(v,!0)),2&t&&(s.wc(i=s.gc())&&(e.wrapper=i.first),s.wc(i=s.gc())&&(e.sourceImage=i.first))},hostVars:4,hostBindings:function(t,e){1&t&&s.fc("resize",(function(){return e.onResize()}),!1,s.Ac)("mousemove",(function(t){return e.moveImg(t)}),!1,s.zc)("touchmove",(function(t){return e.moveImg(t)}),!1,s.zc)("mouseup",(function(){return e.moveStop()}),!1,s.zc)("touchend",(function(){return e.moveStop()}),!1,s.zc),2&t&&(s.Gc("text-align",e.alignImage),s.Gb("disabled",e.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[s.zb],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(s.Ub(0,"div",null,0),s.Jc(2,M,2,5,"img",1),s.Pb(3,"div",2),s.Jc(4,w,3,15,"div",3),s.Tb()),2&t&&(s.Gc("background",e.imageVisible&&e.backgroundColor),s.Bb(2),s.pc("ngIf",e.safeImgDataUrl),s.Bb(1),s.Gc("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),s.Bb(1),s.pc("ngIf",e.imageVisible))},directives:[n.n],styles:['[_nghost-%COMP%]{display:flex;max-height:100%;max-width:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:relative;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-height:100%;max-width:100%;transform-origin:center}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{left:0;outline:var(--cropper-overlay-color,#fff) solid 100vw;pointer-events:none;position:absolute;top:0;touch-action:none}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{background:transparent;color:#53535c;display:flex;outline:100vw solid hsla(0,0%,100%,.3);outline:var(--cropper-outline-color,hsla(0,0%,100%,.3)) solid 100vw;position:absolute;touch-action:none}@media (orientation:portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{border:1px dashed;bottom:0;color:inherit;content:"";left:0;opacity:.75;pointer-events:none;position:absolute;right:0;top:0;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.5);cursor:move;width:100%}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{display:inline-block;line-height:6px;opacity:.85;padding:8px;position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{background:#53535c;border:1px solid hsla(0,0%,100%,.5);box-sizing:content-box;display:inline-block;height:6px;width:6px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{cursor:nwse-resize;left:-12px;top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{cursor:ns-resize;left:calc(50% - 12px);top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{cursor:nesw-resize;right:-12px;top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{cursor:ew-resize;right:-12px;top:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;cursor:nwse-resize;right:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;cursor:ns-resize;left:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;cursor:nesw-resize;left:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{cursor:ew-resize;left:-12px;top:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{cursor:ns-resize;height:22px;left:11px;top:-11px;width:calc(100% - 22px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{cursor:ew-resize;height:calc(100% - 22px);right:-11px;top:11px;width:22px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;cursor:ns-resize;height:22px;left:11px;width:calc(100% - 22px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{cursor:ew-resize;height:calc(100% - 22px);left:-11px;top:11px;width:22px}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw hsla(0,0%,100%,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,hsla(0,0%,100%,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh hsla(0,0%,100%,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,hsla(0,0%,100%,.3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),t})(),z=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})();var k=i("Xa2L");function R(t,e){1&t&&(s.Ub(0,"div",13),s.Pb(1,"mat-spinner",14),s.Tb()),2&t&&(s.Bb(1),s.pc("diameter",50))}function I(t,e){1&t&&(s.Ub(0,"h3"),s.Lc(1,"Add vehicle template"),s.Tb())}function T(t,e){1&t&&(s.Ub(0,"h3"),s.Lc(1,"Edit vehicle template"),s.Tb())}function U(t,e){if(1&t&&(s.Ub(0,"div",15),s.Pb(1,"img",16),s.Tb()),2&t){const t=s.jc();s.Bb(1),s.pc("src",t.selectedTemplate.imageUrl,s.Cc)}}let B=(()=>{class t{constructor(t,e,i,n){var o;this.dialogRef=t,this.data=e,this.administrationService=i,this.notificationService=n,this.subscriptions=[],this.isLoading=!1,this.imageChangedEvent="",this.croppedImage=null,this.templateName="",this.templateNameError=!1,"edit"===this.data.action&&(this.selectedTemplate=this.data.template,this.templateName=null===(o=this.selectedTemplate)||void 0===o?void 0:o.name)}ngOnInit(){}fileChangeEvent(t){this.imageChangedEvent=t}imageCropped(t){this.croppedImage=t.base64}imageLoaded(t){}cropperReady(){}loadImageFailed(){}onSubmit(){var t,e;this.templateNameError=!this.templateName,this.templateName?(null===(t=this.selectedTemplate)||void 0===t?void 0:t.imageUrl)||this.croppedImage?(this.isLoading=!0,("new"===this.data.action?this.administrationService.saveVehicleTemplate({name:this.templateName,imageB64:this.croppedImage}):this.administrationService.updateVehicleTemplate({name:this.templateName,imageB64:null!==(e=this.croppedImage)&&void 0!==e?e:this.selectedTemplate.imageUrl},this.selectedTemplate.id)).subscribe(t=>{this.isLoading=!1,this.dialogRef.close()},t=>{var e,i;this.isLoading=!1,(null===(i=null===(e=t.error)||void 0===e?void 0:e.message)||void 0===i?void 0:i.includes("expected `name` to be unique"))?(this.notificationService.error("Name already exists"),this.templateNameError=!0):this.notificationService.error()})):this.notificationService.error("Image is required"):this.notificationService.error("Template name is required")}onCancel(){this.dialogRef.close()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(c.e),s.Ob(c.a),s.Ob(d),s.Ob(b.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-vehicle-template-dialog"]],decls:18,vars:10,consts:[[1,"dialog-content","custom-scroll"],["class","dialog-loader",4,"ngIf"],[4,"ngIf"],[1,"form-group"],[1,"w-100","input-group","pt-2","mb-3"],["type","text","placeholder","Template name...","name","name",1,"form-control",3,"value","change"],["class","w-100 input-group",4,"ngIf"],["type","file","accept","image/png,image/jpeg,image/jpg,image/webp",1,"mb-2",3,"change"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"d-flex","w-100","px-4","pt-3","justify-content-between","mt-3"],[1,"col-5"],["type","button",1,"btn","w-100","btn-outline-secondary",3,"click"],[1,"btn","w-100","btn-success",3,"click"],[1,"dialog-loader"],[3,"diameter"],[1,"w-100","input-group"],[1,"border","mx-auto",2,"min-width","90%",3,"src"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Jc(1,R,2,1,"div",1),s.Jc(2,I,2,0,"h3",2),s.Jc(3,T,2,0,"h3",2),s.Ub(4,"form",3),s.Ub(5,"div",4),s.Ub(6,"input",5),s.fc("change",(function(t){return e.templateName=t.target.value})),s.Tb(),s.Tb(),s.Jc(7,U,2,1,"div",6),s.Ub(8,"div",4),s.Ub(9,"input",7),s.fc("change",(function(t){return e.fileChangeEvent(t)})),s.Tb(),s.Ub(10,"image-cropper",8),s.fc("imageCropped",(function(t){return e.imageCropped(t)}))("imageLoaded",(function(){return e.imageLoaded()}))("cropperReady",(function(){return e.cropperReady()}))("loadImageFailed",(function(){return e.loadImageFailed()})),s.Tb(),s.Tb(),s.Ub(11,"div",9),s.Ub(12,"div",10),s.Ub(13,"button",11),s.fc("click",(function(){return e.onCancel()})),s.Lc(14,"Cancel"),s.Tb(),s.Tb(),s.Ub(15,"div",10),s.Ub(16,"button",12),s.fc("click",(function(){return e.onSubmit()})),s.Lc(17,"Save"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Bb(1),s.pc("ngIf",e.isLoading),s.Bb(1),s.pc("ngIf","new"===e.data.action),s.Bb(1),s.pc("ngIf","edit"===e.data.action),s.Bb(3),s.Gb("is-invalid",e.templateNameError),s.pc("value",e.templateName),s.Bb(1),s.pc("ngIf",e.selectedTemplate&&!e.croppedImage),s.Bb(3),s.pc("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1.6))},directives:[n.n,m.x,m.p,m.q,A,k.b],styles:[".text-blue-light[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-light-rgb))}.text-blue-main[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-main-rgb))}.text-blue-dark[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-dark-rgb))}.bg-grey-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-light-rgb))}.bg-grey-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-5-rgb))}.bg-blue-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-light-rgb))}.bg-blue-main[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-main-rgb))}.bg-blue-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-dark-rgb))}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.text-base[_ngcontent-%COMP%]{font-size:1rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.75rem}.font-semibold[_ngcontent-%COMP%]{font-weight:500}.font-bold[_ngcontent-%COMP%]{font-weight:700}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.rounded-xl[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.border-primary-1[_ngcontent-%COMP%]{border:1px solid rgb(var(--palette-blue-main-rgb))}.border-primary-2[_ngcontent-%COMP%]{border:2px solid rgb(var(--palette-blue-main-rgb))}.custom-scroll[_ngcontent-%COMP%]{padding-right:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;border-radius:5px;background-color:rgb(var(--palette-grey-light-rgb))}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;border:.3em solid;border-color:rgb(var(--palette-grey-5-rgb))}[_nghost-%COMP%]{position:relative}.custom-select-wrapper[_ngcontent-%COMP%]{--select-padding:12px;--select-icon-width:14px;--form-icons-color:rgb(var(--palette-primary-rgb));--form-input-background:rgb(var(--palette-grey-0-rgb));position:relative}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{padding:calc(var(--select-padding) / 2) var(--select-padding);-webkit-padding-end:calc(var(--select-padding) + var(--select-icon-width));padding-inline-end:calc(var(--select-padding) + var(--select-icon-width));background:none;background-color:var(--form-input-background)}.custom-select-wrapper[_ngcontent-%COMP%]   .half-arrow-icon[_ngcontent-%COMP%]{right:var(--select-padding);top:0;pointer-events:none;height:100%;width:var(--select-icon-width);color:var(--form-icons-color);position:absolute}.new-customer-form[_ngcontent-%COMP%]{max-height:70vh;padding-bottom:1rem;overflow-y:auto}[_nghost-%COMP%]    {--cropper-outline-color:rgba(0,0,0,0.4)}[_nghost-%COMP%]     .mat-horizontal-stepper-header{height:40px!important}"]}),t})();var E=i("Espg");function D(t,e){1&t&&(s.Ub(0,"div",23),s.Pb(1,"mat-spinner",24),s.Tb()),2&t&&(s.Bb(1),s.pc("diameter",50))}function L(t,e){1&t&&(s.Ub(0,"th",25),s.Lc(1,"Preview"),s.Tb())}function H(t,e){if(1&t&&(s.Ub(0,"td",26),s.Pb(1,"img",27),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.pc("src",t.imageUrl,s.Cc)("alt",t.name)}}function W(t,e){1&t&&(s.Ub(0,"th",25),s.Lc(1,"Name"),s.Tb())}function j(t,e){if(1&t&&(s.Ub(0,"td",26),s.Lc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Mc(t.name)}}function Q(t,e){1&t&&(s.Ub(0,"th",25),s.Lc(1,"Actions"),s.Tb())}function V(t,e){if(1&t){const t=s.Vb();s.Ub(0,"td",26),s.Ub(1,"div",28),s.Ub(2,"button",29),s.fc("click",(function(){s.Bc(t);const i=e.$implicit;return s.jc().openEditDialog(i)})),s.Pb(3,"i",30),s.Tb(),s.Ub(4,"button",31),s.fc("click",(function(){s.Bc(t);const i=e.$implicit;return s.jc().onDelete(i)})),s.Pb(5,"i",32),s.Tb(),s.Tb(),s.Tb()}}function F(t,e){1&t&&s.Pb(0,"tr",33)}function J(t,e){1&t&&s.Pb(0,"tr",34)}function N(t,e){1&t&&(s.Ub(0,"div",35),s.Lc(1,"No templates found"),s.Tb())}let X=(()=>{class t{constructor(t,e,i,n){this.dialog=t,this.dialogService=e,this.notificationService=i,this.adminService=n,this.displayedColumns=["preview","name","actions"],this.pageSizeOptions=[12,24,50,100],this.subscriptions=[],this.items=new r.k([]);const o=this.adminService.vehicleTemplates.subscribe(t=>{this.templates=t,this.items.data=t});this.subscriptions.push(o)}ngOnInit(){this.dialogService.showLoader(),this.adminService.fetchVehicleTemplates().finally(()=>{this.dialogService.hideLoader()})}applyFilter(t){this.items.filter=t.trim().toLocaleLowerCase()}openNewDialog(){this.dialog.open(B,{width:"800px",data:{action:"new"}})}openEditDialog(t){this.dialog.open(B,{width:"700px",data:{action:"edit",template:t}})}onDelete(t){this.dialogService.showConfirm({title:"Delete template",msg:"Are you sure?"},()=>{this.loading=!0,this.adminService.deleteVehicleTemplate(t.id).subscribe(t=>{this.loading=!1,this.notificationService.success("Template deleted")},t=>{this.loading=!1,this.notificationService.error()})})}ngAfterViewInit(){this.items.sort=this.sort,this.items.paginator=this.paginator}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(c.b),s.Ob(E.a),s.Ob(b.a),s.Ob(d))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-vehicle-template"]],viewQuery:function(t,e){var i;1&t&&(s.Qc(a.a,!0),s.Qc(o.a,!0)),2&t&&(s.wc(i=s.gc())&&(e.sort=i.first),s.wc(i=s.gc())&&(e.paginator=i.first))},decls:29,vars:6,consts:[[1,"px-2","px-md-5","py-3","position-relative"],["class","loader",4,"ngIf"],[1,"d-flex","flex-wrap","w-100","justify-content-between","align-items-center","mb-3"],[1,"text-dark","d-inline-block","content-title"],[1,"d-flex","content-options-bar"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Filter by any field...",1,"form-control",3,"keyup"],[1,"btn","font-weight-bold","bg-blue-main","text-light","ml-3",3,"click"],[1,"row","mb-4"],[1,"col-12","table-wrapper","table-responsive"],["mat-table","","matSort","",1,"table","table-borderless","table-striped",3,"dataSource"],["matColumnDef","preview"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","text-center border py-3 mt-n3 table-width",4,"ngIf"],["aria-label","Select page",3,"pageSizeOptions"],[1,"loader"],[3,"diameter"],["mat-header-cell",""],["mat-cell",""],["width","100px",3,"src","alt"],[1,"action-buttons"],["aria-label","edit",1,"text-dark","mr-4",3,"click"],[1,"fas","fa-edit","text-xl"],["aria-label","edit",1,"text-dark",3,"click"],[1,"fas","fa-trash-alt","text-xl"],["mat-header-row",""],["mat-row",""],[1,"text-center","border","py-3","mt-n3","table-width"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Jc(1,D,2,1,"div",1),s.Ub(2,"div",2),s.Ub(3,"h1",3),s.Lc(4,"Vehicle templates"),s.Tb(),s.Ub(5,"div",4),s.Ub(6,"div",5),s.Ub(7,"div",6),s.Ub(8,"span",7),s.Pb(9,"i",8),s.Tb(),s.Tb(),s.Ub(10,"input",9),s.fc("keyup",(function(t){return e.applyFilter(t.target.value)})),s.Tb(),s.Tb(),s.Ub(11,"button",10),s.fc("click",(function(){return e.openNewDialog()})),s.Lc(12,"+Add"),s.Tb(),s.Tb(),s.Tb(),s.Ub(13,"div",11),s.Ub(14,"div",12),s.Ub(15,"table",13),s.Sb(16,14),s.Jc(17,L,2,0,"th",15),s.Jc(18,H,2,2,"td",16),s.Rb(),s.Sb(19,17),s.Jc(20,W,2,0,"th",15),s.Jc(21,j,2,1,"td",16),s.Rb(),s.Sb(22,18),s.Jc(23,Q,2,0,"th",15),s.Jc(24,V,6,0,"td",16),s.Rb(),s.Jc(25,F,1,0,"tr",19),s.Jc(26,J,1,0,"tr",20),s.Tb(),s.Jc(27,N,2,0,"div",21),s.Pb(28,"mat-paginator",22),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Bb(1),s.pc("ngIf",e.loading),s.Bb(14),s.pc("dataSource",e.items),s.Bb(10),s.pc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.pc("matRowDefColumns",e.displayedColumns),s.Bb(1),s.pc("ngIf",!e.items.data.length||!e.items.filteredData.length),s.Bb(1),s.pc("pageSizeOptions",e.pageSizeOptions))},directives:[n.n,r.j,a.a,r.c,r.e,r.b,r.g,r.i,o.a,k.b,r.d,r.a,r.f,r.h],styles:[".text-blue-light[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-light-rgb))}.text-blue-main[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-main-rgb))}.text-blue-dark[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-dark-rgb))}.bg-grey-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-light-rgb))}.bg-grey-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-5-rgb))}.bg-blue-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-light-rgb))}.bg-blue-main[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-main-rgb))}.bg-blue-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-dark-rgb))}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.text-base[_ngcontent-%COMP%]{font-size:1rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.75rem}.font-semibold[_ngcontent-%COMP%]{font-weight:500}.font-bold[_ngcontent-%COMP%]{font-weight:700}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.rounded-xl[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.border-primary-1[_ngcontent-%COMP%]{border:1px solid rgb(var(--palette-blue-main-rgb))}.border-primary-2[_ngcontent-%COMP%]{border:2px solid rgb(var(--palette-blue-main-rgb))}.custom-scroll[_ngcontent-%COMP%]{padding-right:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;border-radius:5px;background-color:rgb(var(--palette-grey-light-rgb))}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;border:.3em solid;border-color:rgb(var(--palette-grey-5-rgb))}.table-wrapper[_ngcontent-%COMP%]{--table-header-color:rgb(var(--palette-white-rgb));--table-header-background:rgb(var(--palette-blue-main-rgb));--table-text-color:rgb(var(--palette-grey-9-rgb));--table-row-hover-background:rgb(var(--palette-blue-light-rgb));--page-background:rgb(var(--palette-white-rgb));--page-spacing:10px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;min-width:672px;background:none;border-collapse:collapse;border-radius:1em 1em 0 0;overflow:hidden}.table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]{min-width:370px}.table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%], .table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{padding:var(--page-spacing)}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--table-header-color);background-color:var(--table-header-background);font-size:13px;font-weight:700}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-style:none;padding:calc(var(--page-spacing))}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{padding:calc(var(--page-spacing) * 2)}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--table-text-color);line-height:1.6;font-size:13px}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.9em}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{border-bottom-style:none;padding:var(--page-spacing) calc(var(--page-spacing))}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{padding:calc(var(--page-spacing) * 2)}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]{height:auto;transition:background-color .5s}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-top-left-radius:6px;border-bottom-left-radius:6px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-top-right-radius:6px;border-bottom-right-radius:6px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover{background-color:var(--table-row-hover-background);transition:background-color .5s}.table-wrapper[_ngcontent-%COMP%]     [mat-table] .mat-sort-header-arrow{color:var(--table-header-color)}.table-wrapper[_ngcontent-%COMP%]   .table-width[_ngcontent-%COMP%], .table-wrapper[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{min-width:672px;width:100%}.table-wrapper[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none}.action-buttons[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;margin-top:5px}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{all:unset;display:inline-block;cursor:pointer;line-height:.8}.action-buttons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.8rem}"]}),t})();var Y=i("tyNb"),G=i("PCNd");function $(t,e){1&t&&(s.Ub(0,"div",14),s.Pb(1,"mat-spinner",15),s.Tb()),2&t&&(s.Bb(1),s.pc("diameter",50))}function K(t,e){1&t&&(s.Ub(0,"h3"),s.Lc(1,"Add vehicle damage"),s.Tb())}function q(t,e){1&t&&(s.Ub(0,"h3"),s.Lc(1,"Edit vehicle damage"),s.Tb())}function Z(t,e){1&t&&(s.Ub(0,"div",16),s.Lc(1,"Invalid field"),s.Tb())}function tt(t,e){1&t&&(s.Ub(0,"div",16),s.Lc(1,"Invalid field"),s.Tb())}let et=(()=>{class t{constructor(t,e,i,n,o){var a,r,c,s;this.dialogRef=t,this.data=e,this.fb=i,this.administrationService=n,this.notificationService=o,this.subscriptions=[],this.isLoading=!1,"edit"===this.data.action&&(this.selectedDamage=this.data.damage),this.damageForm=this.fb.group({name:[null!==(r=null===(a=this.selectedDamage)||void 0===a?void 0:a.name)&&void 0!==r?r:"",[m.v.required]],uid:[null!==(s=null===(c=this.selectedDamage)||void 0===c?void 0:c.uid)&&void 0!==s?s:"",[m.v.required]]})}ngOnInit(){}onSubmit(){if(this.damageForm.invalid)return Object.values(this.damageForm.controls).forEach(t=>{t instanceof m.h?Object.values(t.controls).forEach(t=>t.markAsTouched()):t.markAsTouched()});this.isLoading=!0,this.administrationService.saveVehicleDamage(this.damageForm.value).subscribe(t=>{this.isLoading=!1,this.notificationService.success("Item added"),this.dialogRef.close()},t=>{var e,i;if(this.isLoading=!1,null===(i=null===(e=t.error)||void 0===e?void 0:e.message)||void 0===i?void 0:i.includes("Damage key already exists"))return this.notificationService.error("Damage ID already exists");this.notificationService.error()})}onCancel(){this.dialogRef.close()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(c.e),s.Ob(c.a),s.Ob(m.e),s.Ob(d),s.Ob(b.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-vehicle-damage-dialog"]],decls:22,vars:10,consts:[[1,"dialog-content","custom-scroll"],["class","dialog-loader",4,"ngIf"],[4,"ngIf"],[1,"form-group","new-damage-form",3,"formGroup","ngSubmit"],[1,"col-12","mb-3"],["for","first_name",1,"text-dark","text-base"],["id","name","name","name","type","text","formControlName","name",1,"form-control"],["class","form-text invalid-feedback",4,"ngIf"],["for","uid",1,"text-dark","text-base"],["id","uid","name","uid","type","text","formControlName","uid",1,"form-control"],[1,"d-flex","w-100","px-4","pt-3","justify-content-between","mt-3"],[1,"col-5"],["type","button",1,"btn","w-100","btn-outline-secondary",3,"click"],["type","submit",1,"btn","w-100","btn-success"],[1,"dialog-loader"],[3,"diameter"],[1,"form-text","invalid-feedback"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Jc(1,$,2,1,"div",1),s.Jc(2,K,2,0,"h3",2),s.Jc(3,q,2,0,"h3",2),s.Ub(4,"form",3),s.fc("ngSubmit",(function(){return e.onSubmit()})),s.Ub(5,"div",4),s.Ub(6,"label",5),s.Lc(7,"Name"),s.Tb(),s.Pb(8,"input",6),s.Jc(9,Z,2,0,"div",7),s.Tb(),s.Ub(10,"div",4),s.Ub(11,"label",8),s.Lc(12,"ID"),s.Tb(),s.Pb(13,"input",9),s.Jc(14,tt,2,0,"div",7),s.Tb(),s.Ub(15,"div",10),s.Ub(16,"div",11),s.Ub(17,"button",12),s.fc("click",(function(){return e.onCancel()})),s.Lc(18,"Cancel"),s.Tb(),s.Tb(),s.Ub(19,"div",11),s.Ub(20,"button",13),s.Lc(21,"Save"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Bb(1),s.pc("ngIf",e.isLoading),s.Bb(1),s.pc("ngIf","new"===e.data.action),s.Bb(1),s.pc("ngIf","edit"===e.data.action),s.Bb(1),s.pc("formGroup",e.damageForm),s.Bb(4),s.Gb("is-invalid",e.damageForm.controls.name.touched&&e.damageForm.controls.name.invalid),s.Bb(1),s.pc("ngIf",!0),s.Bb(4),s.Gb("is-invalid",e.damageForm.controls.uid.touched&&e.damageForm.controls.uid.invalid),s.Bb(1),s.pc("ngIf",!0))},directives:[n.n,m.x,m.p,m.i,m.d,m.o,m.g,k.b],styles:[".text-blue-light[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-light-rgb))}.text-blue-main[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-main-rgb))}.text-blue-dark[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-dark-rgb))}.bg-grey-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-light-rgb))}.bg-grey-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-5-rgb))}.bg-blue-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-light-rgb))}.bg-blue-main[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-main-rgb))}.bg-blue-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-dark-rgb))}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.text-base[_ngcontent-%COMP%]{font-size:1rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.75rem}.font-semibold[_ngcontent-%COMP%]{font-weight:500}.font-bold[_ngcontent-%COMP%]{font-weight:700}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.rounded-xl[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.border-primary-1[_ngcontent-%COMP%]{border:1px solid rgb(var(--palette-blue-main-rgb))}.border-primary-2[_ngcontent-%COMP%]{border:2px solid rgb(var(--palette-blue-main-rgb))}.custom-scroll[_ngcontent-%COMP%]{padding-right:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;border-radius:5px;background-color:rgb(var(--palette-grey-light-rgb))}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;border:.3em solid;border-color:rgb(var(--palette-grey-5-rgb))}[_nghost-%COMP%]{position:relative}.custom-select-wrapper[_ngcontent-%COMP%]{--select-padding:12px;--select-icon-width:14px;--form-icons-color:rgb(var(--palette-primary-rgb));--form-input-background:rgb(var(--palette-grey-0-rgb));position:relative}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{padding:calc(var(--select-padding) / 2) var(--select-padding);-webkit-padding-end:calc(var(--select-padding) + var(--select-icon-width));padding-inline-end:calc(var(--select-padding) + var(--select-icon-width));background:none;background-color:var(--form-input-background)}.custom-select-wrapper[_ngcontent-%COMP%]   .half-arrow-icon[_ngcontent-%COMP%]{right:var(--select-padding);top:0;pointer-events:none;height:100%;width:var(--select-icon-width);color:var(--form-icons-color);position:absolute}.new-damage-form[_ngcontent-%COMP%]{max-height:70vh;padding-bottom:1rem;overflow-y:auto}[_nghost-%COMP%]    {--cropper-outline-color:rgba(0,0,0,0.4)}[_nghost-%COMP%]     .mat-horizontal-stepper-header{height:40px!important}"]}),t})();function it(t,e){1&t&&(s.Ub(0,"div",25),s.Pb(1,"mat-spinner",26),s.Tb()),2&t&&(s.Bb(1),s.pc("diameter",50))}function nt(t,e){1&t&&(s.Ub(0,"th",27),s.Lc(1,"ID"),s.Tb())}function ot(t,e){if(1&t&&(s.Ub(0,"td",28),s.Lc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Mc(t.uid)}}function at(t,e){1&t&&(s.Ub(0,"th",27),s.Lc(1,"Name"),s.Tb())}function rt(t,e){if(1&t&&(s.Ub(0,"td",28),s.Lc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Mc(t.name)}}function ct(t,e){1&t&&s.Pb(0,"th",27)}function st(t,e){1&t&&s.Pb(0,"td",28)}function gt(t,e){1&t&&s.Pb(0,"th",27)}function lt(t,e){1&t&&s.Pb(0,"td",28)}function pt(t,e){1&t&&(s.Ub(0,"th",27),s.Lc(1,"Actions"),s.Tb())}function ht(t,e){if(1&t){const t=s.Vb();s.Ub(0,"td",28),s.Ub(1,"div",29),s.Ub(2,"button",30),s.fc("click",(function(){s.Bc(t);const i=e.$implicit;return s.jc().onDelete(i)})),s.Pb(3,"i",31),s.Tb(),s.Tb(),s.Tb()}}function dt(t,e){1&t&&s.Pb(0,"tr",32)}function bt(t,e){1&t&&s.Pb(0,"tr",33)}function mt(t,e){1&t&&(s.Ub(0,"div",34),s.Lc(1,"No items found"),s.Tb())}const ut=[{path:"vehicle-templates",component:X},{path:"vehicle-damage",component:(()=>{class t{constructor(t,e,i,n){this.dialog=t,this.dialogService=e,this.notificationService=i,this.adminService=n,this.displayedColumns=["uid","name","space","space2","actions"],this.pageSizeOptions=[12,24,50,100],this.subscriptions=[],this.items=new r.k([]);const o=this.adminService.vehicleDamage.subscribe(t=>{this.items.data=t});this.subscriptions.push(o)}ngOnInit(){this.dialogService.showLoader(),this.adminService.fetchVehicleDamage().finally(()=>{this.dialogService.hideLoader()})}applyFilter(t){this.items.filter=t.trim().toLocaleLowerCase()}openNewDialog(){this.dialog.open(et,{width:"800px",data:{action:"new"}})}openEditDialog(t){this.dialog.open(et,{width:"700px",data:{action:"edit",damage:t}})}onDelete(t){this.dialogService.showConfirm({title:"Delete item",msg:"Are you sure?"},()=>{this.loading=!0,this.adminService.deleteVehicleDamage(t.id).subscribe(t=>{this.loading=!1,this.notificationService.success("Item deleted")},t=>{this.loading=!1,this.notificationService.error()})})}ngAfterViewInit(){this.items.sort=this.sort,this.items.paginator=this.paginator}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(c.b),s.Ob(E.a),s.Ob(b.a),s.Ob(d))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-vehicle-damage"]],viewQuery:function(t,e){var i;1&t&&(s.Qc(a.a,!0),s.Qc(o.a,!0)),2&t&&(s.wc(i=s.gc())&&(e.sort=i.first),s.wc(i=s.gc())&&(e.paginator=i.first))},decls:35,vars:6,consts:[[1,"px-2","px-md-5","py-3","position-relative"],["class","loader",4,"ngIf"],[1,"d-flex","flex-wrap","w-100","justify-content-between","align-items-center","mb-3"],[1,"text-dark","d-inline-block","content-title"],[1,"d-flex","content-options-bar"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Filter by any field...",1,"form-control",3,"keyup"],[1,"btn","font-weight-bold","bg-blue-main","text-light","ml-3",3,"click"],[1,"row","mb-4"],[1,"col-12","table-wrapper","table-responsive"],["mat-table","","matSort","",1,"table","table-borderless","table-striped",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","space"],["matColumnDef","space2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","text-center border py-3 mt-n3 table-width",4,"ngIf"],["aria-label","Select page",3,"pageSizeOptions"],[1,"loader"],[3,"diameter"],["mat-header-cell",""],["mat-cell",""],[1,"action-buttons"],["aria-label","edit",1,"text-dark",3,"click"],[1,"fas","fa-trash-alt","text-xl"],["mat-header-row",""],["mat-row",""],[1,"text-center","border","py-3","mt-n3","table-width"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Jc(1,it,2,1,"div",1),s.Ub(2,"div",2),s.Ub(3,"h1",3),s.Lc(4,"Vehicle damage"),s.Tb(),s.Ub(5,"div",4),s.Ub(6,"div",5),s.Ub(7,"div",6),s.Ub(8,"span",7),s.Pb(9,"i",8),s.Tb(),s.Tb(),s.Ub(10,"input",9),s.fc("keyup",(function(t){return e.applyFilter(t.target.value)})),s.Tb(),s.Tb(),s.Ub(11,"button",10),s.fc("click",(function(){return e.openNewDialog()})),s.Lc(12,"+Add"),s.Tb(),s.Tb(),s.Tb(),s.Ub(13,"div",11),s.Ub(14,"div",12),s.Ub(15,"table",13),s.Sb(16,14),s.Jc(17,nt,2,0,"th",15),s.Jc(18,ot,2,1,"td",16),s.Rb(),s.Sb(19,17),s.Jc(20,at,2,0,"th",15),s.Jc(21,rt,2,1,"td",16),s.Rb(),s.Sb(22,18),s.Jc(23,ct,1,0,"th",15),s.Jc(24,st,1,0,"td",16),s.Rb(),s.Sb(25,19),s.Jc(26,gt,1,0,"th",15),s.Jc(27,lt,1,0,"td",16),s.Rb(),s.Sb(28,20),s.Jc(29,pt,2,0,"th",15),s.Jc(30,ht,4,0,"td",16),s.Rb(),s.Jc(31,dt,1,0,"tr",21),s.Jc(32,bt,1,0,"tr",22),s.Tb(),s.Jc(33,mt,2,0,"div",23),s.Pb(34,"mat-paginator",24),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Bb(1),s.pc("ngIf",e.loading),s.Bb(14),s.pc("dataSource",e.items),s.Bb(16),s.pc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.pc("matRowDefColumns",e.displayedColumns),s.Bb(1),s.pc("ngIf",!e.items.data.length||!e.items.filteredData.length),s.Bb(1),s.pc("pageSizeOptions",e.pageSizeOptions))},directives:[n.n,r.j,a.a,r.c,r.e,r.b,r.g,r.i,o.a,k.b,r.d,r.a,r.f,r.h],styles:[".text-blue-light[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-light-rgb))}.text-blue-main[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-main-rgb))}.text-blue-dark[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-dark-rgb))}.bg-grey-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-light-rgb))}.bg-grey-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-5-rgb))}.bg-blue-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-light-rgb))}.bg-blue-main[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-main-rgb))}.bg-blue-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-dark-rgb))}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.text-base[_ngcontent-%COMP%]{font-size:1rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.75rem}.font-semibold[_ngcontent-%COMP%]{font-weight:500}.font-bold[_ngcontent-%COMP%]{font-weight:700}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.rounded-xl[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.border-primary-1[_ngcontent-%COMP%]{border:1px solid rgb(var(--palette-blue-main-rgb))}.border-primary-2[_ngcontent-%COMP%]{border:2px solid rgb(var(--palette-blue-main-rgb))}.custom-scroll[_ngcontent-%COMP%]{padding-right:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;border-radius:5px;background-color:rgb(var(--palette-grey-light-rgb))}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;border:.3em solid;border-color:rgb(var(--palette-grey-5-rgb))}.table-wrapper[_ngcontent-%COMP%]{--table-header-color:rgb(var(--palette-white-rgb));--table-header-background:rgb(var(--palette-blue-main-rgb));--table-text-color:rgb(var(--palette-grey-9-rgb));--table-row-hover-background:rgb(var(--palette-blue-light-rgb));--page-background:rgb(var(--palette-white-rgb));--page-spacing:10px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;min-width:672px;background:none;border-collapse:collapse;border-radius:1em 1em 0 0;overflow:hidden}.table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]{min-width:370px}.table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%], .table-wrapper[_ngcontent-%COMP%]   table.table-sm[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{padding:var(--page-spacing)}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--table-header-color);background-color:var(--table-header-background);font-size:13px;font-weight:700}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border-bottom-style:none;padding:calc(var(--page-spacing))}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{padding:calc(var(--page-spacing) * 2)}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--table-text-color);line-height:1.6;font-size:13px}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.9em}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{border-bottom-style:none;padding:var(--page-spacing) calc(var(--page-spacing))}@media (min-width:821px){.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]{padding:calc(var(--page-spacing) * 2)}}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]{height:auto;transition:background-color .5s}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-top-left-radius:6px;border-bottom-left-radius:6px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-top-right-radius:6px;border-bottom-right-radius:6px}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover{background-color:var(--table-row-hover-background);transition:background-color .5s}.table-wrapper[_ngcontent-%COMP%]     [mat-table] .mat-sort-header-arrow{color:var(--table-header-color)}.table-wrapper[_ngcontent-%COMP%]   .table-width[_ngcontent-%COMP%], .table-wrapper[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{min-width:672px;width:100%}.table-wrapper[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{border:none}.action-buttons[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;margin-top:5px}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{all:unset;display:inline-block;cursor:pointer;line-height:.8}.action-buttons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.8rem}"]}),t})()}];let ft=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c,Y.e.forChild(ut),G.a,z]]}),t})()},"38VU":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("dNgK"),o=i("fXoL"),a=i("ofXK");function r(t,e){if(1&t&&o.Pb(0,"i",6),2&t){const t=o.jc();o.pc("ngClass","notification-icon fas fa-"+t.icon)}}function c(t,e){if(1&t&&(o.Ub(0,"span",7),o.Lc(1),o.Tb()),2&t){const t=o.jc();o.Bb(1),o.Mc(t.message)}}function s(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",8),o.fc("click",(function(){return o.Bc(t),o.jc().dismiss()})),o.Pb(1,"i",9),o.Tb()}}function g(t,e){if(1&t&&(o.Ub(0,"p",10),o.Lc(1),o.Tb()),2&t){const t=o.jc();o.Bb(1),o.Mc(t.text)}}let l=(()=>{class t{constructor(t){this.data=t,this.type=!1,this.dismissible=!1,this.baseClass="notification alert",this.classes="",t&&(this.message=t.message,this.icon=t.icon,this.type=t.type,this.dismissible=t.dismissible)}dismiss(){this.snackBarRef&&this.snackBarRef.dismiss()}ngOnInit(){this.classes=this.baseClass,this.classes+=this.dismissible?" alert-dismissible":"",this.classes+=this.type?" alert-"+this.type:""}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(n.a,8))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-notification-template"]],inputs:{message:"message",text:"text",icon:"icon",type:"type",dismissible:"dismissible"},decls:7,vars:5,consts:[[1,"custom-notification-wrapper"],["role","alert",3,"ngClass"],[3,"ngClass",4,"ngIf"],["class","notification-line",4,"ngIf"],["type","button","class","close",3,"click",4,"ngIf"],["class","notification-text",4,"ngIf"],[3,"ngClass"],[1,"notification-line"],["type","button",1,"close",3,"click"],[1,"fas","fa-times"],[1,"notification-text"]],template:function(t,e){1&t&&(o.Sb(0),o.Ub(1,"div",0),o.Ub(2,"div",1),o.Jc(3,r,1,1,"i",2),o.Jc(4,c,2,1,"span",3),o.Jc(5,s,2,0,"button",4),o.Jc(6,g,2,1,"p",5),o.Tb(),o.Tb(),o.Rb()),2&t&&(o.Bb(2),o.pc("ngClass",e.classes),o.Bb(1),o.pc("ngIf",e.icon),o.Bb(1),o.pc("ngIf",e.message),o.Bb(1),o.pc("ngIf",e.dismissible),o.Bb(1),o.pc("ngIf",e.text))},directives:[a.l,a.n],styles:[".text-blue-light[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-light-rgb))}.text-blue-main[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-main-rgb))}.text-blue-dark[_ngcontent-%COMP%]{color:rgb(var(--palette-blue-dark-rgb))}.bg-grey-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-light-rgb))}.bg-grey-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-grey-5-rgb))}.bg-blue-light[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-light-rgb))}.bg-blue-main[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-main-rgb))}.bg-blue-dark[_ngcontent-%COMP%]{background-color:rgb(var(--palette-blue-dark-rgb))}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.text-base[_ngcontent-%COMP%]{font-size:1rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.75rem}.font-semibold[_ngcontent-%COMP%]{font-weight:500}.font-bold[_ngcontent-%COMP%]{font-weight:700}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.rounded-xl[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.border-primary-1[_ngcontent-%COMP%]{border:1px solid rgb(var(--palette-blue-main-rgb))}.border-primary-2[_ngcontent-%COMP%]{border:2px solid rgb(var(--palette-blue-main-rgb))}.custom-scroll[_ngcontent-%COMP%]{padding-right:4px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;border-radius:5px;background-color:rgb(var(--palette-grey-light-rgb))}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;border:.3em solid;border-color:rgb(var(--palette-grey-5-rgb))}[_nghost-%COMP%]{--info-notification-background:rgb(var(--palette-info-light-rgb));--info-notification-color:rgb(var(--palette-info-rgb));--success-notification-background:rgb(var(--palette-success-light-rgb));--success-notification-color:rgb(var(--palette-success-rgb));--warning-notification-background:rgb(var(--palette-warning-light-rgb));--warning-notification-color:rgb(var(--palette-warning-rgb));--danger-notification-background:rgb(var(--palette-error-light-rgb));--danger-notification-color:rgb(var(--palette-error-rgb));--notification-spacing:10px}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{border:0;background-color:var(--notification-background-color);color:var(--notification-text-color);border-radius:6px;padding-top:calc(var(--notification-spacing) * 1.5);padding-bottom:calc(var(--notification-spacing) * 1.5);box-shadow:0 10px 20px rgba(var(--palette-grey-6-rgb),.15),0 3px 6px rgba(var(--palette-grey-6-rgb),.1)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%], .custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-info[_ngcontent-%COMP%]{--notification-background-color:var(--info-notification-background);--notification-text-color:var(--info-notification-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-success[_ngcontent-%COMP%]{--notification-background-color:var(--success-notification-background);--notification-text-color:var(--success-notification-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-warning[_ngcontent-%COMP%]{--notification-background-color:var(--warning-notification-background);--notification-text-color:var(--warning-notification-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-danger[_ngcontent-%COMP%]{--notification-background-color:var(--danger-notification-background);--notification-text-color:var(--danger-notification-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{color:var(--notification-text-color);font-size:18px;margin-right:var(--notification-spacing);align-self:center}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-line[_ngcontent-%COMP%]{font-size:16px;flex-grow:2;font-weight:600}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-text[_ngcontent-%COMP%]{font-size:14px}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-dismissible[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{height:100%;opacity:1;font-size:16px;color:var(--notification-text-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification.alert-dismissible[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:.5;color:var(--notification-text-color)}.custom-notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .notification-line[_ngcontent-%COMP%] ~ .notification-text[_ngcontent-%COMP%]{margin-top:calc(var(--notification-spacing) * 1.5)}  .mat-snack-bar-container{box-shadow:none;max-width:none!important}  .mat-snack-bar-container.notification-wrapper{background:none}"]}),t})(),p=(()=>{class t{constructor(t){this.snackBar=t}success(t="Action successfully"){this.showNotification(t,"success","check-circle")}error(t="Action failed"){this.showNotification(t,"danger","exclamation-triangle")}info(t){this.showNotification(t,"info","info")}warning(t){this.showNotification(t,"warning","info")}showNotification(t="Missed message",e,i){this.mySnackBarRef=this.snackBar.openFromComponent(l,{data:{message:t,icon:i,type:e,dismissible:!0},duration:"success"!==e?6e3:3e3,horizontalPosition:"right",verticalPosition:"bottom",panelClass:["notification-wrapper"]}),this.mySnackBarRef.instance.snackBarRef=this.mySnackBarRef}}return t.\u0275fac=function(e){return new(e||t)(o.cc(n.b))},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Espg:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("0IaG"),o=i("fXoL");let a=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(n.e),o.Ob(n.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-confirm-dialog"]],decls:10,vars:4,consts:[[1,"dialog-w"],[1,"mt-2","mb-3","text-lg","text-dark","p-1"],[1,"d-flex","justify-content-end"],[1,"btn","btn-secondary","px-4","mr-3",3,"mat-dialog-close"],[1,"btn","btn-danger","px-2",3,"mat-dialog-close"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"h3"),o.Lc(2),o.Tb(),o.Ub(3,"p",1),o.Lc(4),o.Tb(),o.Ub(5,"div",2),o.Ub(6,"button",3),o.Lc(7,"NO"),o.Tb(),o.Ub(8,"button",4),o.Lc(9,"YES"),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Bb(2),o.Mc(e.data.title),o.Bb(2),o.Mc(e.data.msg),o.Bb(2),o.pc("mat-dialog-close",!1),o.Bb(2),o.pc("mat-dialog-close",!0))},directives:[n.c],styles:[""]}),t})();var r=i("Xa2L");let c=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.data.setDialogRef(this.dialogRef)}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(n.e),o.Ob(n.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-loader-dialog"]],decls:5,vars:1,consts:[[1,"dialog-w"],[1,"d-flex","flex-column","align-items-center","justify-content-center","py-4"],[3,"diameter"],[1,"mt-4"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Pb(2,"mat-spinner",2),o.Ub(3,"div",3),o.Lc(4,"Loading..."),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Bb(2),o.pc("diameter",50))},directives:[r.b],styles:[""]}),t})(),s=(()=>{class t{constructor(t){this.dialog=t}showConfirm(t,e){this.dialog.open(a,{width:"400px",data:t}).afterClosed().subscribe(t=>{t&&e()})}showLoader(){this.dialog.open(c,{width:"300px",data:{setDialogRef:t=>{this.currentLoaderDialogRef=t}},disableClose:!0}).afterClosed().subscribe()}hideLoader(){var t;null===(t=this.currentLoaderDialogRef)||void 0===t||t.close(),this.currentLoaderDialogRef=null}}return t.\u0275fac=function(e){return new(e||t)(o.cc(n.b))},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},mrSG:function(t,e,i){"use strict";function n(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]])}return i}function o(t,e,i,n){return new(i||(i=Promise))((function(o,a){function r(t){try{s(n.next(t))}catch(e){a(e)}}function c(t){try{s(n.throw(t))}catch(e){a(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,c)}s((n=n.apply(t,e||[])).next())}))}i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return o}))}}]);
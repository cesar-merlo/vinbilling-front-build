{"version":3,"sources":["webpack:///src/app/administration/administration.module.ts","webpack:///src/app/shared/notifications/notification.service.ts","webpack:///src/app/shared/dialogs/dialog.service.ts","webpack:///src/app/business/services/administration.service.ts","webpack:///src/app/administration/vehicle-damage/vehicle-damage.component.ts","webpack:///src/app/administration/vehicle-damage/vehicle-damage.component.html","webpack:///src/app/administration/vehicle-template/vehicle-template-dialog/vehicle-template-dialog.component.ts","webpack:///src/app/administration/vehicle-template/vehicle-template-dialog/vehicle-template-dialog.component.html","webpack:///node_modules/ngx-image-cropper/__ivy_ngcc__/fesm2015/ngx-image-cropper.js","webpack:///src/app/administration/vehicle-damage/vehicle-damage-dialog/vehicle-damage-dialog.component.ts","webpack:///src/app/administration/vehicle-damage/vehicle-damage-dialog/vehicle-damage-dialog.component.html","webpack:///src/app/administration/vehicle-template/vehicle-template.component.ts","webpack:///src/app/administration/vehicle-template/vehicle-template.component.html"],"names":["administrationRoutes","path","component","AdministrationModule","forChild","declarations","imports","NotificationService","snackBar","msg","showNotification","type","icon","mySnackBarRef","openFromComponent","data","message","dismissible","duration","horizontalPosition","verticalPosition","panelClass","instance","snackBarRef","providedIn","DialogService","dialog","args","onConfirm","open","width","afterClosed","subscribe","confirm","setDialogRef","dialogRef","currentLoaderDialogRef","disableClose","close","AdministrationService","http","baseUrl","apiUrl","vehicleTemplates","vehicleDamage","Promise","resolve","reject","get","dataParsed","map","temp","id","name","imageUrl","imageB64","next","err","body","post","pipe","res","fetchVehicleTemplates","fetchVehicleDamage","put","VehicleDamageComponent","dialogService","notificationService","adminService","displayedColumns","pageSizeOptions","subscriptions","items","sub","push","showLoader","hideLoader","filterValue","filter","trim","toLocaleLowerCase","action","damage","showConfirm","title","loading","deleteVehicleDamage","success","error","sort","paginator","forEach","unsubscribe","applyFilter","openNewDialog","selector","templateUrl","styleUrls","VehicleTemplateDialogComponent","administrationService","isLoading","imageChangedEvent","croppedImage","templateName","templateNameError","selectedTemplate","template","event","base64","image","saveVehicleTemplate","updateVehicleTemplate","includes","fileChangeEvent","imageCropped","imageLoaded","cropperReady","loadImageFailed","onCancel","onSubmit","_c0","_c1","ImageCropperComponent_img_2_Template","rf","ctx","_r5","ImageCropperComponent_img_2_Template_img_load_0_listener","ctx_r4","imageLoadedInView","ctx_r1","imageVisible","safeTransformStyle","safeImgDataUrl","ImageCropperComponent_div_4_ng_container_2_Template","_r8","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_1_listener","$event","ctx_r7","startMove","moveTypes","Resize","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_1_listener","ctx_r9","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_5_listener","ctx_r10","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_5_listener","ctx_r11","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_9_listener","ctx_r12","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_9_listener","ctx_r13","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_13_listener","ctx_r14","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_13_listener","ctx_r15","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_17_listener","ctx_r16","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_17_listener","ctx_r17","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_18_listener","ctx_r18","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_18_listener","ctx_r19","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_19_listener","ctx_r20","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_19_listener","ctx_r21","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_20_listener","ctx_r22","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_20_listener","ctx_r23","ImageCropperComponent_div_4_Template","_r25","ImageCropperComponent_div_4_Template_div_keydown_0_listener","ctx_r24","keyboardAccess","ImageCropperComponent_div_4_Template_div_mousedown_1_listener","ctx_r26","Move","ImageCropperComponent_div_4_Template_div_touchstart_1_listener","ctx_r27","ctx_r2","cropper","y1","x1","x2","y2","alignImage","marginLeft","roundCropper","hideResizeSquares","CropperSettings","format","maintainAspectRatio","transform","aspectRatio","resizeToWidth","resizeToHeight","cropperMinWidth","cropperMinHeight","cropperMaxHeight","cropperMaxWidth","cropperStaticWidth","cropperStaticHeight","canvasRotation","initialStepSize","onlyScaleDown","imageQuality","autoCrop","backgroundColor","undefined","containWithinAspectRatio","cropperScaledMinWidth","cropperScaledMinHeight","cropperScaledMaxWidth","cropperScaledMaxHeight","stepSize","options","Object","keys","k","validateOptions","changes","currentValue","Error","MoveStart","MoveTypes","Pinch","resizeCanvas","canvas","height","width_source","height_source","Math","round","ratio_w","ratio_h","ratio_w_half","ceil","ratio_h_half","getContext","img","getImageData","img2","createImageData","data2","j","i","center_y","weight","weights","weights_alpha","gx_r","gx_g","gx_b","gx_a","xx_start","floor","yy_start","xx_stop","yy_stop","min","yy","dy","abs","center_x","w0","xx","dx","w","sqrt","pos_x","putImageData","CropService","sourceImage","loadedImage","settings","imagePosition","getImagePosition","cropCanvas","document","createElement","fillStyle","fillRect","scaleX","scale","flipH","scaleY","flipV","transformedImage","transformed","setTransform","size","translate","rotate","PI","drawImage","output","cropperPosition","assign","offsetImagePosition","getOffsetImagePosition","resizeRatio","getResizeRatio","toDataURL","getQuality","sourceImageElement","nativeElement","ratio","offsetWidth","out","max","exifTransform","offsetX","offsetY","original","ratioWidth","ratioHeight","ratios","Array","result","length","ɵfac","CropService_Factory","t","ɵprov","factory","token","CropperPositionService","offsetHeight","cropperWidth","cropperHeight","cropperHeightWithAspectRatio","cropperWidthWithAspectRatio","moveStart","diffX","getClientX","clientX","diffY","getClientY","clientY","maxSize","moveX","moveY","position","newWidth","newHeight","checkAspectRatio","overflowX","overflowY","overflowX1","overflowX2","overflowY1","overflowY2","_a","touches","CropperPositionService_Factory","testAutoOrientationImageURL","supportsAutomaticRotation","Image","onload","supported","src","getTransformationsFromExifData","exifRotationOrBase64Image","getExifRotation","flip","imageBase64","view","DataView","base64ToArrayBuffer","getUint16","byteLength","offset","marker","getUint32","little","tags","replace","binaryString","atob","len","bytes","Uint8Array","charCodeAt","buffer","LoadImageBase64","LoadImageService","autoRotateSupported","file","cropperSettings","fileReader","FileReader","loadImage","target","then","readAsDataURL","imageType","isValidImageType","loadBase64Image","test","url","onerror","context","crossOrigin","originalImage","originalBase64","transformImageBase64","autoRotate","complete","naturalWidth","naturalHeight","transformLoadedImage","originalSize","transformedSize","getTransformedSize","transformedBase64","loadImageFromBase64","minWidthToContain","minHeightToContain","LoadImageService_Factory","getPositionForKey","key","getInvertedPositionForKey","getEventForKey","ImageCropperComponent","cropService","cropperPositionService","loadImageService","sanitizer","cd","Hammer","window","setImageMaxSizeRetries","disabled","startCropImage","reset","onChangesUpdateSettings","onChangesInputImage","setLoadedImage","loadImageError","setMaxSize","setCropperScaledMinSize","setCropperScaledMaxSize","resetCropperPosition","checkCropperPosition","doAutoCrop","markForCheck","setCssTransform","setOptionsFromChanges","setOptions","imageURL","imageFile","isValidImageChangedEvent","loadImageFile","files","loadImageFromURL","_b","_c","bypassSecurityTrustStyle","activatePinchGesture","active","bypassSecurityTrustResourceUrl","console","emit","setTimeout","checkImageMaxSizeRecursively","sourceImageLoaded","resizeCropperPosition","hammer","wrapper","set","enable","on","onPinch","bind","pinchStop","startPinch","warn","changeKeyboardStepSize","keyboardMoveCropper","keyboardWhiteList","moveType","shiftKey","altKey","moveEvent","preventDefault","stopPropagation","moveImg","moveStop","move","resize","detectChanges","setCropperScaledMinWidth","setCropperScaledMinHeight","maintainSize","crop","ImageCropperComponent_Factory","ɵcmp","selectors","viewQuery","ImageCropperComponent_Query","_t","first","hostVars","hostBindings","ImageCropperComponent_HostBindings","ImageCropperComponent_resize_HostBindingHandler","onResize","ImageCropperComponent_mousemove_HostBindingHandler","ImageCropperComponent_touchmove_HostBindingHandler","ImageCropperComponent_mouseup_HostBindingHandler","ImageCropperComponent_touchend_HostBindingHandler","inputs","outputs","features","decls","vars","consts","ImageCropperComponent_Template","directives","styles","changeDetection","ctorParameters","propDecorators","OnPush","ImageCropperModule","ɵmod","ɵinj","ImageCropperModule_Factory","ngJitMode","exports","base64ToFile","base64Image","split","byteString","ab","ArrayBuffer","ia","Blob","VehicleDamageDialogComponent","fb","selectedDamage","damageForm","group","required","uid","invalid","values","controls","control","markAsTouched","saveVehicleDamage","value","VehicleTemplateComponent","templates","deleteVehicleTemplate"],"mappings":"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","file":"administration-administration-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { VehicleTemplateComponent } from './vehicle-template/vehicle-template.component'\nimport { RouterModule } from '@angular/router'\nimport { SharedModule } from '../shared/shared.module'\nimport { VehicleTemplateDialogComponent } from './vehicle-template/vehicle-template-dialog/vehicle-template-dialog.component'\nimport { ImageCropperModule } from 'ngx-image-cropper'\nimport { VehicleDamageComponent } from './vehicle-damage/vehicle-damage.component'\nimport { VehicleDamageDialogComponent } from './vehicle-damage/vehicle-damage-dialog/vehicle-damage-dialog.component'\n\nexport const administrationRoutes = [\n  {\n    path: 'vehicle-templates',\n    component: VehicleTemplateComponent,\n  },\n  {\n    path: 'vehicle-damage',\n    component: VehicleDamageComponent,\n  },\n]\n\n@NgModule({\n  declarations: [\n    VehicleTemplateComponent,\n    VehicleTemplateDialogComponent,\n    VehicleDamageComponent,\n    VehicleDamageDialogComponent,\n  ],\n  imports: [CommonModule, RouterModule.forChild(administrationRoutes), SharedModule, ImageCropperModule],\n})\nexport class AdministrationModule {}\n","import { Injectable } from \"@angular/core\";\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\nimport { NotificationTemplateComponent } from \"../notification-template/notification-template.component\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class NotificationService {\n  mySnackBarRef: any;\n\n  constructor(public snackBar: MatSnackBar) {}\n\n  success(msg: string = \"Action successfully\") {\n    this.showNotification(msg, \"success\", \"check-circle\");\n  }\n\n  error(msg: string = \"Action failed\") {\n    this.showNotification(msg, \"danger\", \"exclamation-triangle\");\n  }\n\n  info(msg: string) {\n    this.showNotification(msg, \"info\", \"info\");\n  }\n\n  warning(msg: string) {\n    this.showNotification(msg, \"warning\", \"info\");\n  }\n\n  private showNotification(msg = \"Missed message\", type: \"danger\" | \"info\" | \"success\" | \"warning\", icon: string): void {\n    // for more info about Angular Material snackBar check: https://material.angular.io/components/snack-bar/overview\n    this.mySnackBarRef = this.snackBar.openFromComponent(NotificationTemplateComponent, {\n      data: {\n        message: msg,\n        icon,\n        type,\n        dismissible: true,\n        // you can add everything you want here\n      },\n      duration: type !== \"success\" ? 6000 : 3000,\n      horizontalPosition: \"right\", // 'start' | 'center' | 'end' | 'left' | 'right'\n      verticalPosition: \"bottom\", // 'top' | 'bottom'\n      panelClass: [\"notification-wrapper\"],\n    });\n    // this is to be able to close it from the NotificationComponent\n    this.mySnackBarRef.instance.snackBarRef = this.mySnackBarRef;\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog'\nimport { ConfirmDialogComponent, ConfirmDialogData } from './confirm/confirm-dialog.component'\nimport { LoaderDialogComponent, LoaderDialogComponentData } from './loader/loader-dialog.component'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DialogService {\n  currentLoaderDialogRef: MatDialogRef<LoaderDialogComponent>\n\n  constructor(public dialog: MatDialog) {}\n\n  showConfirm(args: ConfirmDialogData, onConfirm: (...args: any) => any) {\n    this.dialog\n      .open<ConfirmDialogComponent, ConfirmDialogData>(ConfirmDialogComponent, {\n        width: '400px',\n        data: args,\n      })\n      .afterClosed()\n      .subscribe((confirm: boolean) => {\n        if (confirm) {\n          onConfirm()\n        }\n      })\n  }\n\n  showLoader() {\n    this.dialog\n      .open<LoaderDialogComponent, LoaderDialogComponentData>(LoaderDialogComponent, {\n        width: '300px',\n        data: {\n          setDialogRef: (dialogRef) => {\n            this.currentLoaderDialogRef = dialogRef\n          },\n        },\n        disableClose: true,\n      })\n      .afterClosed()\n      .subscribe()\n  }\n\n  hideLoader() {\n    this.currentLoaderDialogRef?.close()\n    this.currentLoaderDialogRef = null\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { BehaviorSubject, Observable } from 'rxjs'\nimport { map, take } from 'rxjs/operators'\nimport { environment } from 'src/environments/environment'\nimport { Customer, CustomerBody } from '../models/customer.models'\nimport {\n  VehicleDamage,\n  VehicleDamageBody,\n  VehicleTemplate,\n  VehicleTemplateBody,\n} from '../models/vehicleTemplate.models'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AdministrationService {\n  private baseUrl = environment.apiUrl\n  public vehicleTemplates: BehaviorSubject<VehicleTemplate[]> = new BehaviorSubject([])\n  public vehicleDamage: BehaviorSubject<VehicleDamage[]> = new BehaviorSubject([])\n\n  constructor(private http: HttpClient) {}\n\n  fetchVehicleTemplates() {\n    return new Promise((resolve, reject) => {\n      this.http.get<any[]>(`${this.baseUrl}/administration/vehicleTemplate`).subscribe(\n        (data) => {\n          const dataParsed = data.map((temp) => {\n            return { id: temp.id, name: temp.name, imageUrl: temp.imageB64 }\n          })\n\n          this.vehicleTemplates.next(dataParsed)\n          resolve(data)\n        },\n        (err) => {\n          reject(err)\n        }\n      )\n    })\n  }\n\n  fetchVehicleDamage() {\n    return new Promise((resolve, reject) => {\n      this.http.get<any[]>(`${this.baseUrl}/administration/vehicleDamage`).subscribe(\n        (data) => {\n          this.vehicleDamage.next(data)\n          resolve(data)\n        },\n        (err) => {\n          reject(err)\n        }\n      )\n    })\n  }\n\n  saveVehicleTemplate(body: VehicleTemplateBody) {\n    return this.http.post<VehicleTemplate>(`${this.baseUrl}/administration/vehicleTemplate`, body).pipe(\n      map((res) => {\n        this.fetchVehicleTemplates()\n        return res\n      })\n    )\n  }\n\n  saveVehicleDamage(body: VehicleDamageBody) {\n    return this.http.post<VehicleTemplate>(`${this.baseUrl}/administration/vehicleDamage`, body).pipe(\n      map((res) => {\n        this.fetchVehicleDamage()\n        return res\n      })\n    )\n  }\n\n  updateVehicleTemplate(body: VehicleTemplateBody, id: string) {\n    return this.http.put<any>(`${this.baseUrl}/administration/vehicleTemplate/${id}`, body).pipe(\n      map((res) => {\n        this.fetchVehicleTemplates()\n        return res\n      })\n    )\n  }\n\n  deleteVehicleTemplate(id: string) {\n    return this.http.delete<any>(`${this.baseUrl}/administration/vehicleTemplate/${id}`).pipe(\n      map((res) => {\n        this.fetchVehicleTemplates()\n        return res\n      })\n    )\n  }\n\n  deleteVehicleDamage(id: string) {\n    return this.http.delete<any>(`${this.baseUrl}/administration/vehicleDamage/${id}`).pipe(\n      map((res) => {\n        this.fetchVehicleDamage()\n        return res\n      })\n    )\n  }\n\n  getMostRecents() {\n    return this.http.get<Customer[]>(`${this.baseUrl}/customers/mostRecents`)\n  }\n}\n","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core'\nimport { MatDialog } from '@angular/material/dialog'\nimport { MatPaginator } from '@angular/material/paginator'\nimport { MatSort } from '@angular/material/sort'\nimport { MatTableDataSource } from '@angular/material/table'\nimport { Subscription } from 'rxjs'\nimport { VehicleDamage } from 'src/app/business/models/vehicleTemplate.models'\nimport { AdministrationService } from 'src/app/business/services/administration.service'\nimport { DialogService } from 'src/app/shared/dialogs/dialog.service'\nimport { NotificationService } from 'src/app/shared/notifications/notification.service'\nimport {\n  VehicleDamageDialogComponent,\n  VehicleDamageDialogData,\n} from './vehicle-damage-dialog/vehicle-damage-dialog.component'\n\n@Component({\n  selector: 'app-vehicle-damage',\n  templateUrl: './vehicle-damage.component.html',\n  styleUrls: ['./vehicle-damage.component.scss'],\n})\nexport class VehicleDamageComponent implements AfterViewInit, OnInit, OnDestroy {\n  displayedColumns = ['uid', 'name', 'space', 'space2', 'actions']\n  pageSizeOptions: number[] = [12, 24, 50, 100]\n\n  @ViewChild(MatSort) sort: MatSort\n  @ViewChild(MatPaginator) paginator: MatPaginator\n\n  subscriptions: Subscription[] = []\n  items: MatTableDataSource<VehicleDamage>\n  loading: boolean\n\n  constructor(\n    public dialog: MatDialog,\n    private dialogService: DialogService,\n    public notificationService: NotificationService,\n    private adminService: AdministrationService\n  ) {\n    this.items = new MatTableDataSource([])\n    const sub = this.adminService.vehicleDamage.subscribe((data) => {\n      this.items.data = data\n    })\n    this.subscriptions.push(sub)\n  }\n\n  ngOnInit() {\n    this.dialogService.showLoader()\n    this.adminService.fetchVehicleDamage().finally(() => {\n      this.dialogService.hideLoader()\n    })\n  }\n\n  applyFilter(filterValue: string) {\n    this.items.filter = filterValue.trim().toLocaleLowerCase()\n  }\n\n  openNewDialog() {\n    this.dialog.open<VehicleDamageDialogComponent, VehicleDamageDialogData>(VehicleDamageDialogComponent, {\n      width: '800px',\n      data: {\n        action: 'new',\n      },\n    })\n  }\n\n  openEditDialog(damage: VehicleDamage) {\n    this.dialog.open<VehicleDamageDialogComponent, VehicleDamageDialogData>(VehicleDamageDialogComponent, {\n      width: '700px',\n      data: {\n        action: 'edit',\n        damage,\n      },\n    })\n  }\n\n  onDelete(damage: any) {\n    this.dialogService.showConfirm({ title: 'Delete item', msg: 'Are you sure?' }, () => {\n      this.loading = true\n      this.adminService.deleteVehicleDamage(damage.id).subscribe(\n        (res) => {\n          this.loading = false\n          this.notificationService.success('Item deleted')\n        },\n        (err) => {\n          this.loading = false\n          this.notificationService.error()\n        }\n      )\n    })\n  }\n\n  ngAfterViewInit() {\n    this.items.sort = this.sort\n    this.items.paginator = this.paginator\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub) => sub.unsubscribe())\n  }\n}\n","<div class=\"px-2 px-md-5 py-3 position-relative\">\n    <div *ngIf=\"loading\" class=\"loader\">\n      <mat-spinner [diameter]=\"50\"></mat-spinner>\n    </div>\n    <div class=\"d-flex flex-wrap w-100 justify-content-between align-items-center mb-3\">\n      <h1 class=\"text-dark d-inline-block content-title\">Vehicle damage</h1>\n      <div class=\"d-flex content-options-bar\">\n        <div class=\"input-group\">\n          <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\">\n              <i class=\"fas fa-search\"></i>\n            </span>\n          </div>\n          <input type=\"text\" class=\"form-control\" (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter by any field...\" />\n        </div>\n        <button (click)=\"openNewDialog()\" class=\"btn font-weight-bold bg-blue-main text-light ml-3\">+Add</button>\n      </div>\n    </div>\n  \n    <div class=\"row mb-4\">\n      <div class=\"col-12 table-wrapper table-responsive\">\n        <table mat-table [dataSource]=\"items\" class=\"table table-borderless table-striped\" matSort>\n          <ng-container matColumnDef=\"uid\">\n            <th mat-header-cell *matHeaderCellDef>ID</th>\n            <td mat-cell *matCellDef=\"let damage\">{{ damage.uid }}</td>\n          </ng-container>\n  \n  \n          <ng-container matColumnDef=\"name\">\n            <th mat-header-cell *matHeaderCellDef>Name</th>\n            <td mat-cell *matCellDef=\"let damage\">{{ damage.name }}</td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"space\">\n            <th mat-header-cell *matHeaderCellDef></th>\n            <td mat-cell *matCellDef=\"let damage\"></td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"space2\">\n            <th mat-header-cell *matHeaderCellDef></th>\n            <td mat-cell *matCellDef=\"let damage\"></td>\n          </ng-container>\n  \n  \n          <ng-container matColumnDef=\"actions\">\n            <th mat-header-cell *matHeaderCellDef>Actions</th>\n            <td mat-cell *matCellDef=\"let damage\">\n              <div class=\"action-buttons\">\n                <!-- <button (click)=\"openEditDialog(damage)\" class=\"text-dark mr-4\" aria-label=\"edit\">\n                  <i class=\"fas fa-edit text-xl\"></i>\n                </button> -->\n                <button (click)=\"onDelete(damage)\" class=\"text-dark\" aria-label=\"edit\">\n                  <i class=\"fas fa-trash-alt text-xl\"></i>\n                </button>\n              </div>\n            </td>\n          </ng-container>\n  \n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n        </table>\n        <div *ngIf=\"!items.data.length || !items.filteredData.length\" class=\"text-center border py-3 mt-n3 table-width\">No items found</div>\n        <mat-paginator [pageSizeOptions]=\"pageSizeOptions\" aria-label=\"Select page\"> </mat-paginator>\n      </div>\n    </div>\n  </div>\n  ","import { Component, Inject, OnDestroy, OnInit } from \"@angular/core\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\nimport { ImageCroppedEvent, LoadedImage } from \"ngx-image-cropper\";\nimport { Subscription } from \"rxjs\";\nimport { VehicleTemplate } from \"src/app/business/models/vehicleTemplate.models\";\nimport { AdministrationService } from \"src/app/business/services/administration.service\";\nimport { NotificationService } from \"src/app/shared/notifications/notification.service\";\n\nexport interface VehicleTemplateDialogData {\n  action: \"new\" | \"edit\";\n  template?: VehicleTemplate;\n}\n\n@Component({\n  selector: \"app-vehicle-template-dialog\",\n  templateUrl: \"./vehicle-template-dialog.component.html\",\n  styleUrls: [\"./vehicle-template-dialog.component.scss\"],\n})\nexport class VehicleTemplateDialogComponent implements OnInit, OnDestroy {\n  subscriptions: Subscription[] = [];\n  isLoading = false;\n  imageChangedEvent: any = \"\";\n  croppedImage: any = null;\n  templateName = \"\";\n  templateNameError = false;\n  selectedTemplate: VehicleTemplate;\n\n  constructor(\n    public dialogRef: MatDialogRef<VehicleTemplateDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: VehicleTemplateDialogData,\n    private administrationService: AdministrationService,\n    private notificationService: NotificationService\n  ) {\n    if (this.data.action === \"edit\") {\n      this.selectedTemplate = this.data.template;\n      this.templateName = this.selectedTemplate?.name;\n    }\n  }\n\n  ngOnInit() {}\n\n  fileChangeEvent(event: any): void {\n    this.imageChangedEvent = event;\n  }\n  imageCropped(event: ImageCroppedEvent) {\n    this.croppedImage = event.base64;\n  }\n  imageLoaded(image?: LoadedImage) {\n    // show cropper\n  }\n  cropperReady() {\n    // cropper ready\n  }\n  loadImageFailed() {\n    // show message\n  }\n\n  onSubmit() {\n    this.templateNameError = !this.templateName;\n    if (!this.templateName) {\n      this.notificationService.error(\"Template name is required\");\n      return;\n    }\n\n    if (!this.selectedTemplate?.imageUrl && !this.croppedImage) {\n      this.notificationService.error(\"Image is required\");\n      return;\n    }\n\n    this.isLoading = true;\n    (this.data.action === \"new\"\n      ? this.administrationService.saveVehicleTemplate({ name: this.templateName, imageB64: this.croppedImage })\n      : this.administrationService.updateVehicleTemplate(\n          { name: this.templateName, imageB64: this.croppedImage ?? this.selectedTemplate.imageUrl },\n          this.selectedTemplate.id\n        )\n    ).subscribe(\n      (res) => {\n        this.isLoading = false;\n        this.dialogRef.close();\n      },\n      (err) => {\n        this.isLoading = false;\n        if (err.error?.message?.includes(\"expected `name` to be unique\")) {\n          this.notificationService.error(\"Name already exists\");\n          this.templateNameError = true;\n        } else {\n          this.notificationService.error();\n        }\n      }\n    );\n  }\n\n  onCancel() {\n    this.dialogRef.close();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub) => sub.unsubscribe());\n  }\n}\n","<div class=\"dialog-content custom-scroll\">\n  <div *ngIf=\"isLoading\" class=\"dialog-loader\">\n    <mat-spinner [diameter]=\"50\"></mat-spinner>\n  </div>\n\n  <h3 *ngIf=\"data.action === 'new'\">Add vehicle template</h3>\n  <h3 *ngIf=\"data.action === 'edit'\">Edit vehicle template</h3>\n\n  <form class=\"form-group\">\n    <div class=\"w-100 input-group pt-2 mb-3\">\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"Template name...\"\n        name=\"name\"\n        [value]=\"templateName\"\n         (change)=\"templateName = $event.target.value\"\n        [class.is-invalid]=\"templateNameError\"\n      />\n    </div>\n    \n    <div *ngIf=\"selectedTemplate && !croppedImage\" class=\"w-100 input-group\">\n      <img class=\"border mx-auto\" [src]=\"selectedTemplate.imageUrl\" style=\"min-width: 90%;\"/>\n    </div>\n\n    <div class=\"w-100 input-group pt-2 mb-3\">\n      <input type=\"file\" accept=\"image/png,image/jpeg,image/jpg,image/webp\" (change)=\"fileChangeEvent($event)\" class=\"mb-2\"/>\n\n      <image-cropper\n        [imageChangedEvent]=\"imageChangedEvent\"\n        [maintainAspectRatio]=\"true\"\n        [aspectRatio]=\"4 / 2.5\"\n        format=\"png\"\n        (imageCropped)=\"imageCropped($event)\"\n        (imageLoaded)=\"imageLoaded()\"\n        (cropperReady)=\"cropperReady()\"\n        (loadImageFailed)=\"loadImageFailed()\"\n      ></image-cropper>\n\n      <!-- <div *ngIf=\"!!croppedImage\" class=\"w-100 mt-2 text-center\">\n        <h6 class=\"w-100 text-center mb-2\">Preview</h6>\n        <img class=\"border mx-auto\" [src]=\"croppedImage\" />\n      </div> -->\n    </div>\n\n    <div class=\"d-flex w-100 px-4 pt-3 justify-content-between mt-3\">\n      <div class=\"col-5\">\n        <button class=\"btn w-100 btn-outline-secondary\" type=\"button\" (click)=\"onCancel()\">Cancel</button>\n      </div>\n      <div class=\"col-5\">\n        <button class=\"btn w-100 btn-success\" (click)=\"onSubmit()\">Save</button>\n      </div>\n    </div>\n  </form>\n</div>\n","import { Injectable, ɵɵdefineInjectable, EventEmitter, isDevMode, Component, ChangeDetectionStrategy, ChangeDetectorRef, ViewChild, Input, HostBinding, Output, HostListener, NgModule } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { __awaiter } from 'tslib';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/interfaces/cropper.settings.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/platform-browser';\nimport * as ɵngcc2 from '@angular/common';\n\nconst _c0 = [\"wrapper\"];\nconst _c1 = [\"sourceImage\"];\nfunction ImageCropperComponent_img_2_Template(rf, ctx) { if (rf & 1) {\n    const _r5 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"img\", 4, 5);\n    ɵngcc0.ɵɵlistener(\"load\", function ImageCropperComponent_img_2_Template_img_load_0_listener() { ɵngcc0.ɵɵrestoreView(_r5); const ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.imageLoadedInView(); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"visibility\", ctx_r1.imageVisible ? \"visible\" : \"hidden\")(\"transform\", ctx_r1.safeTransformStyle);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r1.safeImgDataUrl, ɵngcc0.ɵɵsanitizeUrl);\n} }\nfunction ImageCropperComponent_div_4_ng_container_2_Template(rf, ctx) { if (rf & 1) {\n    const _r8 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementStart(1, \"span\", 9);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r7 = ɵngcc0.ɵɵnextContext(2); return ctx_r7.startMove($event, ctx_r7.moveTypes.Resize, \"topleft\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r9 = ɵngcc0.ɵɵnextContext(2); return ctx_r9.startMove($event, ctx_r9.moveTypes.Resize, \"topleft\"); });\n    ɵngcc0.ɵɵelement(2, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"span\", 11);\n    ɵngcc0.ɵɵelement(4, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(5, \"span\", 12);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_5_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r10 = ɵngcc0.ɵɵnextContext(2); return ctx_r10.startMove($event, ctx_r10.moveTypes.Resize, \"topright\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_5_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r11 = ɵngcc0.ɵɵnextContext(2); return ctx_r11.startMove($event, ctx_r11.moveTypes.Resize, \"topright\"); });\n    ɵngcc0.ɵɵelement(6, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(7, \"span\", 13);\n    ɵngcc0.ɵɵelement(8, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(9, \"span\", 14);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_9_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r12 = ɵngcc0.ɵɵnextContext(2); return ctx_r12.startMove($event, ctx_r12.moveTypes.Resize, \"bottomright\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_9_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r13 = ɵngcc0.ɵɵnextContext(2); return ctx_r13.startMove($event, ctx_r13.moveTypes.Resize, \"bottomright\"); });\n    ɵngcc0.ɵɵelement(10, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(11, \"span\", 15);\n    ɵngcc0.ɵɵelement(12, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(13, \"span\", 16);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_13_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r14 = ɵngcc0.ɵɵnextContext(2); return ctx_r14.startMove($event, ctx_r14.moveTypes.Resize, \"bottomleft\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_13_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r15 = ɵngcc0.ɵɵnextContext(2); return ctx_r15.startMove($event, ctx_r15.moveTypes.Resize, \"bottomleft\"); });\n    ɵngcc0.ɵɵelement(14, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(15, \"span\", 17);\n    ɵngcc0.ɵɵelement(16, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(17, \"span\", 18);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_17_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r16 = ɵngcc0.ɵɵnextContext(2); return ctx_r16.startMove($event, ctx_r16.moveTypes.Resize, \"top\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_17_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r17 = ɵngcc0.ɵɵnextContext(2); return ctx_r17.startMove($event, ctx_r17.moveTypes.Resize, \"top\"); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(18, \"span\", 19);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_18_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r18 = ɵngcc0.ɵɵnextContext(2); return ctx_r18.startMove($event, ctx_r18.moveTypes.Resize, \"right\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_18_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r19 = ɵngcc0.ɵɵnextContext(2); return ctx_r19.startMove($event, ctx_r19.moveTypes.Resize, \"right\"); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(19, \"span\", 20);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_19_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r20 = ɵngcc0.ɵɵnextContext(2); return ctx_r20.startMove($event, ctx_r20.moveTypes.Resize, \"bottom\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_19_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r21 = ɵngcc0.ɵɵnextContext(2); return ctx_r21.startMove($event, ctx_r21.moveTypes.Resize, \"bottom\"); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(20, \"span\", 21);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_20_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r22 = ɵngcc0.ɵɵnextContext(2); return ctx_r22.startMove($event, ctx_r22.moveTypes.Resize, \"left\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_20_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r23 = ɵngcc0.ɵɵnextContext(2); return ctx_r23.startMove($event, ctx_r23.moveTypes.Resize, \"left\"); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementContainerEnd();\n} }\nfunction ImageCropperComponent_div_4_Template(rf, ctx) { if (rf & 1) {\n    const _r25 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 6);\n    ɵngcc0.ɵɵlistener(\"keydown\", function ImageCropperComponent_div_4_Template_div_keydown_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r25); const ctx_r24 = ɵngcc0.ɵɵnextContext(); return ctx_r24.keyboardAccess($event); });\n    ɵngcc0.ɵɵelementStart(1, \"div\", 7);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_4_Template_div_mousedown_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r25); const ctx_r26 = ɵngcc0.ɵɵnextContext(); return ctx_r26.startMove($event, ctx_r26.moveTypes.Move); })(\"touchstart\", function ImageCropperComponent_div_4_Template_div_touchstart_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r25); const ctx_r27 = ɵngcc0.ɵɵnextContext(); return ctx_r27.startMove($event, ctx_r27.moveTypes.Move); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(2, ImageCropperComponent_div_4_ng_container_2_Template, 21, 0, \"ng-container\", 8);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"top\", ctx_r2.cropper.y1, \"px\")(\"left\", ctx_r2.cropper.x1, \"px\")(\"width\", ctx_r2.cropper.x2 - ctx_r2.cropper.x1, \"px\")(\"height\", ctx_r2.cropper.y2 - ctx_r2.cropper.y1, \"px\")(\"margin-left\", ctx_r2.alignImage === \"center\" ? ctx_r2.marginLeft : null)(\"visibility\", ctx_r2.imageVisible ? \"visible\" : \"hidden\");\n    ɵngcc0.ɵɵclassProp(\"ngx-ic-round\", ctx_r2.roundCropper);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r2.hideResizeSquares);\n} }\nclass CropperSettings {\n    constructor() {\n        // From options\n        this.format = 'png';\n        this.maintainAspectRatio = true;\n        this.transform = {};\n        this.aspectRatio = 1;\n        this.resizeToWidth = 0;\n        this.resizeToHeight = 0;\n        this.cropperMinWidth = 0;\n        this.cropperMinHeight = 0;\n        this.cropperMaxHeight = 0;\n        this.cropperMaxWidth = 0;\n        this.cropperStaticWidth = 0;\n        this.cropperStaticHeight = 0;\n        this.canvasRotation = 0;\n        this.initialStepSize = 3;\n        this.roundCropper = false;\n        this.onlyScaleDown = false;\n        this.imageQuality = 92;\n        this.autoCrop = true;\n        this.backgroundColor = undefined;\n        this.containWithinAspectRatio = false;\n        this.hideResizeSquares = false;\n        this.alignImage = 'center';\n        // Internal\n        this.cropperScaledMinWidth = 20;\n        this.cropperScaledMinHeight = 20;\n        this.cropperScaledMaxWidth = 20;\n        this.cropperScaledMaxHeight = 20;\n        this.stepSize = this.initialStepSize;\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    setOptions(options) {\n        Object.keys(options)\n            .filter((/**\n         * @param {?} k\n         * @return {?}\n         */\n        (k) => k in this))\n            .forEach((/**\n         * @param {?} k\n         * @return {?}\n         */\n        (k) => this[k] = options[k]));\n        this.validateOptions();\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    setOptionsFromChanges(changes) {\n        Object.keys(changes)\n            .filter((/**\n         * @param {?} k\n         * @return {?}\n         */\n        (k) => k in this))\n            .forEach((/**\n         * @param {?} k\n         * @return {?}\n         */\n        (k) => this[k] = changes[k].currentValue));\n        this.validateOptions();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    validateOptions() {\n        if (this.maintainAspectRatio && !this.aspectRatio) {\n            throw new Error('`aspectRatio` should > 0 when `maintainAspectRatio` is enabled');\n        }\n    }\n}\nif (false) {\n    /** @type {?} */\n    CropperSettings.prototype.format;\n    /** @type {?} */\n    CropperSettings.prototype.maintainAspectRatio;\n    /** @type {?} */\n    CropperSettings.prototype.transform;\n    /** @type {?} */\n    CropperSettings.prototype.aspectRatio;\n    /** @type {?} */\n    CropperSettings.prototype.resizeToWidth;\n    /** @type {?} */\n    CropperSettings.prototype.resizeToHeight;\n    /** @type {?} */\n    CropperSettings.prototype.cropperMinWidth;\n    /** @type {?} */\n    CropperSettings.prototype.cropperMinHeight;\n    /** @type {?} */\n    CropperSettings.prototype.cropperMaxHeight;\n    /** @type {?} */\n    CropperSettings.prototype.cropperMaxWidth;\n    /** @type {?} */\n    CropperSettings.prototype.cropperStaticWidth;\n    /** @type {?} */\n    CropperSettings.prototype.cropperStaticHeight;\n    /** @type {?} */\n    CropperSettings.prototype.canvasRotation;\n    /** @type {?} */\n    CropperSettings.prototype.initialStepSize;\n    /** @type {?} */\n    CropperSettings.prototype.roundCropper;\n    /** @type {?} */\n    CropperSettings.prototype.onlyScaleDown;\n    /** @type {?} */\n    CropperSettings.prototype.imageQuality;\n    /** @type {?} */\n    CropperSettings.prototype.autoCrop;\n    /** @type {?} */\n    CropperSettings.prototype.backgroundColor;\n    /** @type {?} */\n    CropperSettings.prototype.containWithinAspectRatio;\n    /** @type {?} */\n    CropperSettings.prototype.hideResizeSquares;\n    /** @type {?} */\n    CropperSettings.prototype.alignImage;\n    /** @type {?} */\n    CropperSettings.prototype.cropperScaledMinWidth;\n    /** @type {?} */\n    CropperSettings.prototype.cropperScaledMinHeight;\n    /** @type {?} */\n    CropperSettings.prototype.cropperScaledMaxWidth;\n    /** @type {?} */\n    CropperSettings.prototype.cropperScaledMaxHeight;\n    /** @type {?} */\n    CropperSettings.prototype.stepSize;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/interfaces/move-start.interface.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction MoveStart() { }\nif (false) {\n    /** @type {?} */\n    MoveStart.prototype.active;\n    /** @type {?} */\n    MoveStart.prototype.type;\n    /** @type {?} */\n    MoveStart.prototype.position;\n    /** @type {?} */\n    MoveStart.prototype.x1;\n    /** @type {?} */\n    MoveStart.prototype.y1;\n    /** @type {?} */\n    MoveStart.prototype.x2;\n    /** @type {?} */\n    MoveStart.prototype.y2;\n    /** @type {?} */\n    MoveStart.prototype.clientX;\n    /** @type {?} */\n    MoveStart.prototype.clientY;\n}\n/** @enum {string} */\nconst MoveTypes = {\n    Move: \"move\",\n    Resize: \"resize\",\n    Pinch: \"pinch\",\n};\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/utils/resize.utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/*\n * Hermite resize - fast image resize/resample using Hermite filter.\n * https://github.com/viliusle/Hermite-resize\n */\n/**\n * @param {?} canvas\n * @param {?} width\n * @param {?} height\n * @return {?}\n */\nfunction resizeCanvas(canvas, width, height) {\n    /** @type {?} */\n    const width_source = canvas.width;\n    /** @type {?} */\n    const height_source = canvas.height;\n    width = Math.round(width);\n    height = Math.round(height);\n    /** @type {?} */\n    const ratio_w = width_source / width;\n    /** @type {?} */\n    const ratio_h = height_source / height;\n    /** @type {?} */\n    const ratio_w_half = Math.ceil(ratio_w / 2);\n    /** @type {?} */\n    const ratio_h_half = Math.ceil(ratio_h / 2);\n    /** @type {?} */\n    const ctx = canvas.getContext('2d');\n    if (ctx) {\n        /** @type {?} */\n        const img = ctx.getImageData(0, 0, width_source, height_source);\n        /** @type {?} */\n        const img2 = ctx.createImageData(width, height);\n        /** @type {?} */\n        const data = img.data;\n        /** @type {?} */\n        const data2 = img2.data;\n        for (let j = 0; j < height; j++) {\n            for (let i = 0; i < width; i++) {\n                /** @type {?} */\n                const x2 = (i + j * width) * 4;\n                /** @type {?} */\n                const center_y = j * ratio_h;\n                /** @type {?} */\n                let weight = 0;\n                /** @type {?} */\n                let weights = 0;\n                /** @type {?} */\n                let weights_alpha = 0;\n                /** @type {?} */\n                let gx_r = 0;\n                /** @type {?} */\n                let gx_g = 0;\n                /** @type {?} */\n                let gx_b = 0;\n                /** @type {?} */\n                let gx_a = 0;\n                /** @type {?} */\n                const xx_start = Math.floor(i * ratio_w);\n                /** @type {?} */\n                const yy_start = Math.floor(j * ratio_h);\n                /** @type {?} */\n                let xx_stop = Math.ceil((i + 1) * ratio_w);\n                /** @type {?} */\n                let yy_stop = Math.ceil((j + 1) * ratio_h);\n                xx_stop = Math.min(xx_stop, width_source);\n                yy_stop = Math.min(yy_stop, height_source);\n                for (let yy = yy_start; yy < yy_stop; yy++) {\n                    /** @type {?} */\n                    const dy = Math.abs(center_y - yy) / ratio_h_half;\n                    /** @type {?} */\n                    const center_x = i * ratio_w;\n                    /** @type {?} */\n                    const w0 = dy * dy;\n                    for (let xx = xx_start; xx < xx_stop; xx++) {\n                        /** @type {?} */\n                        const dx = Math.abs(center_x - xx) / ratio_w_half;\n                        /** @type {?} */\n                        const w = Math.sqrt(w0 + dx * dx);\n                        if (w >= 1) {\n                            //pixel too far\n                            continue;\n                        }\n                        //hermite filter\n                        weight = 2 * w * w * w - 3 * w * w + 1;\n                        /** @type {?} */\n                        const pos_x = 4 * (xx + yy * width_source);\n                        //alpha\n                        gx_a += weight * data[pos_x + 3];\n                        weights_alpha += weight;\n                        //colors\n                        if (data[pos_x + 3] < 255)\n                            weight = weight * data[pos_x + 3] / 250;\n                        gx_r += weight * data[pos_x];\n                        gx_g += weight * data[pos_x + 1];\n                        gx_b += weight * data[pos_x + 2];\n                        weights += weight;\n                    }\n                }\n                data2[x2] = gx_r / weights;\n                data2[x2 + 1] = gx_g / weights;\n                data2[x2 + 2] = gx_b / weights;\n                data2[x2 + 3] = gx_a / weights_alpha;\n            }\n        }\n        canvas.width = width;\n        canvas.height = height;\n        //draw\n        ctx.putImageData(img2, 0, 0);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/services/crop.service.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass CropService {\n    /**\n     * @param {?} sourceImage\n     * @param {?} loadedImage\n     * @param {?} cropper\n     * @param {?} settings\n     * @return {?}\n     */\n    crop(sourceImage, loadedImage, cropper, settings) {\n        /** @type {?} */\n        const imagePosition = this.getImagePosition(sourceImage, loadedImage, cropper, settings);\n        /** @type {?} */\n        const width = imagePosition.x2 - imagePosition.x1;\n        /** @type {?} */\n        const height = imagePosition.y2 - imagePosition.y1;\n        /** @type {?} */\n        const cropCanvas = (/** @type {?} */ (document.createElement('canvas')));\n        cropCanvas.width = width;\n        cropCanvas.height = height;\n        /** @type {?} */\n        const ctx = cropCanvas.getContext('2d');\n        if (!ctx) {\n            return;\n        }\n        if (settings.backgroundColor != null) {\n            ctx.fillStyle = settings.backgroundColor;\n            ctx.fillRect(0, 0, width, height);\n        }\n        /** @type {?} */\n        const scaleX = (settings.transform.scale || 1) * (settings.transform.flipH ? -1 : 1);\n        /** @type {?} */\n        const scaleY = (settings.transform.scale || 1) * (settings.transform.flipV ? -1 : 1);\n        /** @type {?} */\n        const transformedImage = loadedImage.transformed;\n        ctx.setTransform(scaleX, 0, 0, scaleY, transformedImage.size.width / 2, transformedImage.size.height / 2);\n        ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\n        ctx.rotate((settings.transform.rotate || 0) * Math.PI / 180);\n        ctx.drawImage(transformedImage.image, -transformedImage.size.width / 2, -transformedImage.size.height / 2);\n        /** @type {?} */\n        const output = {\n            width, height,\n            imagePosition,\n            cropperPosition: Object.assign({}, cropper)\n        };\n        if (settings.containWithinAspectRatio) {\n            output.offsetImagePosition = this.getOffsetImagePosition(sourceImage, loadedImage, cropper, settings);\n        }\n        /** @type {?} */\n        const resizeRatio = this.getResizeRatio(width, height, settings);\n        if (resizeRatio !== 1) {\n            output.width = Math.round(width * resizeRatio);\n            output.height = settings.maintainAspectRatio\n                ? Math.round(output.width / settings.aspectRatio)\n                : Math.round(height * resizeRatio);\n            resizeCanvas(cropCanvas, output.width, output.height);\n        }\n        output.base64 = cropCanvas.toDataURL('image/' + settings.format, this.getQuality(settings));\n        return output;\n    }\n    /**\n     * @private\n     * @param {?} sourceImage\n     * @param {?} loadedImage\n     * @param {?} cropper\n     * @param {?} settings\n     * @return {?}\n     */\n    getImagePosition(sourceImage, loadedImage, cropper, settings) {\n        /** @type {?} */\n        const sourceImageElement = sourceImage.nativeElement;\n        /** @type {?} */\n        const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\n        /** @type {?} */\n        const out = {\n            x1: Math.round(cropper.x1 * ratio),\n            y1: Math.round(cropper.y1 * ratio),\n            x2: Math.round(cropper.x2 * ratio),\n            y2: Math.round(cropper.y2 * ratio)\n        };\n        if (!settings.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\n        }\n        return out;\n    }\n    /**\n     * @private\n     * @param {?} sourceImage\n     * @param {?} loadedImage\n     * @param {?} cropper\n     * @param {?} settings\n     * @return {?}\n     */\n    getOffsetImagePosition(sourceImage, loadedImage, cropper, settings) {\n        /** @type {?} */\n        const canvasRotation = settings.canvasRotation + loadedImage.exifTransform.rotate;\n        /** @type {?} */\n        const sourceImageElement = sourceImage.nativeElement;\n        /** @type {?} */\n        const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\n        /** @type {?} */\n        let offsetX;\n        /** @type {?} */\n        let offsetY;\n        if (canvasRotation % 2) {\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.height) / 2;\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.width) / 2;\n        }\n        else {\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.width) / 2;\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.height) / 2;\n        }\n        /** @type {?} */\n        const out = {\n            x1: Math.round(cropper.x1 * ratio) - offsetX,\n            y1: Math.round(cropper.y1 * ratio) - offsetY,\n            x2: Math.round(cropper.x2 * ratio) - offsetX,\n            y2: Math.round(cropper.y2 * ratio) - offsetY\n        };\n        if (!settings.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\n        }\n        return out;\n    }\n    /**\n     * @param {?} width\n     * @param {?} height\n     * @param {?} settings\n     * @return {?}\n     */\n    getResizeRatio(width, height, settings) {\n        /** @type {?} */\n        const ratioWidth = settings.resizeToWidth / width;\n        /** @type {?} */\n        const ratioHeight = settings.resizeToHeight / height;\n        /** @type {?} */\n        const ratios = new Array();\n        if (settings.resizeToWidth > 0) {\n            ratios.push(ratioWidth);\n        }\n        if (settings.resizeToHeight > 0) {\n            ratios.push(ratioHeight);\n        }\n        /** @type {?} */\n        const result = ratios.length === 0 ? 1 : Math.min(...ratios);\n        if (result > 1 && !settings.onlyScaleDown) {\n            return result;\n        }\n        return Math.min(result, 1);\n    }\n    /**\n     * @param {?} settings\n     * @return {?}\n     */\n    getQuality(settings) {\n        return Math.min(1, Math.max(0, settings.imageQuality / 100));\n    }\n}\nCropService.ɵfac = function CropService_Factory(t) { return new (t || CropService)(); };\n/** @nocollapse */ CropService.ɵprov = ɵɵdefineInjectable({ factory: function CropService_Factory() { return new CropService(); }, token: CropService, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CropService, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/services/cropper-position.service.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass CropperPositionService {\n    /**\n     * @param {?} sourceImage\n     * @param {?} cropperPosition\n     * @param {?} settings\n     * @return {?}\n     */\n    resetCropperPosition(sourceImage, cropperPosition, settings) {\n        if (!(sourceImage === null || sourceImage === void 0 ? void 0 : sourceImage.nativeElement)) {\n            return;\n        }\n        /** @type {?} */\n        const sourceImageElement = sourceImage.nativeElement;\n        if (settings.cropperStaticHeight && settings.cropperStaticWidth) {\n            cropperPosition.x1 = 0;\n            cropperPosition.x2 = sourceImageElement.offsetWidth > settings.cropperStaticWidth ?\n                settings.cropperStaticWidth : sourceImageElement.offsetWidth;\n            cropperPosition.y1 = 0;\n            cropperPosition.y2 = sourceImageElement.offsetHeight > settings.cropperStaticHeight ?\n                settings.cropperStaticHeight : sourceImageElement.offsetHeight;\n        }\n        else {\n            /** @type {?} */\n            const cropperWidth = Math.min(settings.cropperScaledMaxWidth, sourceImageElement.offsetWidth);\n            /** @type {?} */\n            const cropperHeight = Math.min(settings.cropperScaledMaxHeight, sourceImageElement.offsetHeight);\n            if (!settings.maintainAspectRatio) {\n                cropperPosition.x1 = 0;\n                cropperPosition.x2 = cropperWidth;\n                cropperPosition.y1 = 0;\n                cropperPosition.y2 = cropperHeight;\n            }\n            else if (sourceImageElement.offsetWidth / settings.aspectRatio < sourceImageElement.offsetHeight) {\n                cropperPosition.x1 = 0;\n                cropperPosition.x2 = cropperWidth;\n                /** @type {?} */\n                const cropperHeightWithAspectRatio = cropperWidth / settings.aspectRatio;\n                cropperPosition.y1 = (sourceImageElement.offsetHeight - cropperHeightWithAspectRatio) / 2;\n                cropperPosition.y2 = cropperPosition.y1 + cropperHeightWithAspectRatio;\n            }\n            else {\n                cropperPosition.y1 = 0;\n                cropperPosition.y2 = cropperHeight;\n                /** @type {?} */\n                const cropperWidthWithAspectRatio = cropperHeight * settings.aspectRatio;\n                cropperPosition.x1 = (sourceImageElement.offsetWidth - cropperWidthWithAspectRatio) / 2;\n                cropperPosition.x2 = cropperPosition.x1 + cropperWidthWithAspectRatio;\n            }\n        }\n    }\n    /**\n     * @param {?} event\n     * @param {?} moveStart\n     * @param {?} cropperPosition\n     * @return {?}\n     */\n    move(event, moveStart, cropperPosition) {\n        /** @type {?} */\n        const diffX = this.getClientX(event) - moveStart.clientX;\n        /** @type {?} */\n        const diffY = this.getClientY(event) - moveStart.clientY;\n        cropperPosition.x1 = moveStart.x1 + diffX;\n        cropperPosition.y1 = moveStart.y1 + diffY;\n        cropperPosition.x2 = moveStart.x2 + diffX;\n        cropperPosition.y2 = moveStart.y2 + diffY;\n    }\n    /**\n     * @param {?} event\n     * @param {?} moveStart\n     * @param {?} cropperPosition\n     * @param {?} maxSize\n     * @param {?} settings\n     * @return {?}\n     */\n    resize(event, moveStart, cropperPosition, maxSize, settings) {\n        /** @type {?} */\n        const moveX = this.getClientX(event) - moveStart.clientX;\n        /** @type {?} */\n        const moveY = this.getClientY(event) - moveStart.clientY;\n        switch (moveStart.position) {\n            case 'left':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                break;\n            case 'topleft':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'top':\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'topright':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'right':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                break;\n            case 'bottomright':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'bottom':\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'bottomleft':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'center':\n                /** @type {?} */\n                const scale = event.scale;\n                /** @type {?} */\n                const newWidth = Math.min(Math.max(settings.cropperScaledMinWidth, (Math.abs(moveStart.x2 - moveStart.x1)) * scale), settings.cropperScaledMaxWidth);\n                /** @type {?} */\n                const newHeight = Math.min(Math.max(settings.cropperScaledMinHeight, (Math.abs(moveStart.y2 - moveStart.y1)) * scale), settings.cropperScaledMaxHeight);\n                cropperPosition.x1 = moveStart.clientX - newWidth / 2;\n                cropperPosition.x2 = moveStart.clientX + newWidth / 2;\n                cropperPosition.y1 = moveStart.clientY - newHeight / 2;\n                cropperPosition.y2 = moveStart.clientY + newHeight / 2;\n                if (cropperPosition.x1 < 0) {\n                    cropperPosition.x2 -= cropperPosition.x1;\n                    cropperPosition.x1 = 0;\n                }\n                else if (cropperPosition.x2 > maxSize.width) {\n                    cropperPosition.x1 -= (cropperPosition.x2 - maxSize.width);\n                    cropperPosition.x2 = maxSize.width;\n                }\n                if (cropperPosition.y1 < 0) {\n                    cropperPosition.y2 -= cropperPosition.y1;\n                    cropperPosition.y1 = 0;\n                }\n                else if (cropperPosition.y2 > maxSize.height) {\n                    cropperPosition.y1 -= (cropperPosition.y2 - maxSize.height);\n                    cropperPosition.y2 = maxSize.height;\n                }\n                break;\n        }\n        if (settings.maintainAspectRatio) {\n            this.checkAspectRatio(moveStart.position, cropperPosition, maxSize, settings);\n        }\n    }\n    /**\n     * @param {?} position\n     * @param {?} cropperPosition\n     * @param {?} maxSize\n     * @param {?} settings\n     * @return {?}\n     */\n    checkAspectRatio(position, cropperPosition, maxSize, settings) {\n        /** @type {?} */\n        let overflowX = 0;\n        /** @type {?} */\n        let overflowY = 0;\n        switch (position) {\n            case 'top':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'bottom':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : (overflowX / settings.aspectRatio);\n                }\n                break;\n            case 'topleft':\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'topright':\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'right':\n            case 'bottomright':\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'left':\n            case 'bottomleft':\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'center':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                /** @type {?} */\n                const overflowX1 = Math.max(0 - cropperPosition.x1, 0);\n                /** @type {?} */\n                const overflowX2 = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                /** @type {?} */\n                const overflowY1 = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                /** @type {?} */\n                const overflowY2 = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX1 > 0 || overflowX2 > 0 || overflowY1 > 0 || overflowY2 > 0) {\n                    cropperPosition.x1 += (overflowY1 * settings.aspectRatio) > overflowX1 ? (overflowY1 * settings.aspectRatio) : overflowX1;\n                    cropperPosition.x2 -= (overflowY2 * settings.aspectRatio) > overflowX2 ? (overflowY2 * settings.aspectRatio) : overflowX2;\n                    cropperPosition.y1 += (overflowY2 * settings.aspectRatio) > overflowX2 ? overflowY2 : overflowX2 / settings.aspectRatio;\n                    cropperPosition.y2 -= (overflowY1 * settings.aspectRatio) > overflowX1 ? overflowY1 : overflowX1 / settings.aspectRatio;\n                }\n                break;\n        }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    getClientX(event) {\n        var _a;\n        return ((_a = event.touches) === null || _a === void 0 ? void 0 : _a[0].clientX) || event.clientX || 0;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    getClientY(event) {\n        var _a;\n        return ((_a = event.touches) === null || _a === void 0 ? void 0 : _a[0].clientY) || event.clientY || 0;\n    }\n}\nCropperPositionService.ɵfac = function CropperPositionService_Factory(t) { return new (t || CropperPositionService)(); };\n/** @nocollapse */ CropperPositionService.ɵprov = ɵɵdefineInjectable({ factory: function CropperPositionService_Factory() { return new CropperPositionService(); }, token: CropperPositionService, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CropperPositionService, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/utils/exif.utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n// Black 2x1 JPEG, with the following meta information set:\n// - EXIF Orientation: 6 (Rotated 90° CCW)\n// Source: https://github.com/blueimp/JavaScript-Load-Image\n/** @type {?} */\nconst testAutoOrientationImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n    'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n    'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n    'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\n    'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\n    'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\n/**\n * @return {?}\n */\nfunction supportsAutomaticRotation() {\n    return new Promise((/**\n     * @param {?} resolve\n     * @return {?}\n     */\n    (resolve) => {\n        /** @type {?} */\n        const img = new Image();\n        img.onload = (/**\n         * @return {?}\n         */\n        () => {\n            // Check if browser supports automatic image orientation:\n            /** @type {?} */\n            const supported = img.width === 1 && img.height === 2;\n            resolve(supported);\n        });\n        img.src = testAutoOrientationImageURL;\n    }));\n}\n/**\n * @param {?} exifRotationOrBase64Image\n * @return {?}\n */\nfunction getTransformationsFromExifData(exifRotationOrBase64Image) {\n    if (typeof exifRotationOrBase64Image === 'string') {\n        exifRotationOrBase64Image = getExifRotation(exifRotationOrBase64Image);\n    }\n    switch (exifRotationOrBase64Image) {\n        case 2:\n            return { rotate: 0, flip: true };\n        case 3:\n            return { rotate: 2, flip: false };\n        case 4:\n            return { rotate: 2, flip: true };\n        case 5:\n            return { rotate: 1, flip: true };\n        case 6:\n            return { rotate: 1, flip: false };\n        case 7:\n            return { rotate: 3, flip: true };\n        case 8:\n            return { rotate: 3, flip: false };\n        default:\n            return { rotate: 0, flip: false };\n    }\n}\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nfunction getExifRotation(imageBase64) {\n    /** @type {?} */\n    const view = new DataView(base64ToArrayBuffer(imageBase64));\n    if (view.getUint16(0, false) !== 0xFFD8) {\n        return -2;\n    }\n    /** @type {?} */\n    const length = view.byteLength;\n    /** @type {?} */\n    let offset = 2;\n    while (offset < length) {\n        if (view.getUint16(offset + 2, false) <= 8)\n            return -1;\n        /** @type {?} */\n        const marker = view.getUint16(offset, false);\n        offset += 2;\n        if (marker == 0xFFE1) {\n            if (view.getUint32(offset += 2, false) !== 0x45786966) {\n                return -1;\n            }\n            /** @type {?} */\n            const little = view.getUint16(offset += 6, false) == 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            /** @type {?} */\n            const tags = view.getUint16(offset, little);\n            offset += 2;\n            for (let i = 0; i < tags; i++) {\n                if (view.getUint16(offset + (i * 12), little) == 0x0112) {\n                    return view.getUint16(offset + (i * 12) + 8, little);\n                }\n            }\n        }\n        else if ((marker & 0xFF00) !== 0xFF00) {\n            break;\n        }\n        else {\n            offset += view.getUint16(offset, false);\n        }\n    }\n    return -1;\n}\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nfunction base64ToArrayBuffer(imageBase64) {\n    imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n    /** @type {?} */\n    const binaryString = atob(imageBase64);\n    /** @type {?} */\n    const len = binaryString.length;\n    /** @type {?} */\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes.buffer;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/services/load-image.service.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction LoadImageBase64() { }\nif (false) {\n    /** @type {?} */\n    LoadImageBase64.prototype.originalImage;\n    /** @type {?} */\n    LoadImageBase64.prototype.originalBase64;\n}\nclass LoadImageService {\n    constructor() {\n        this.autoRotateSupported = supportsAutomaticRotation();\n    }\n    /**\n     * @param {?} file\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    loadImageFile(file, cropperSettings) {\n        return new Promise((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        (resolve, reject) => {\n            /** @type {?} */\n            const fileReader = new FileReader();\n            fileReader.onload = (/**\n             * @param {?} event\n             * @return {?}\n             */\n            (event) => {\n                this.loadImage(event.target.result, file.type, cropperSettings)\n                    .then(resolve)\n                    .catch(reject);\n            });\n            fileReader.readAsDataURL(file);\n        }));\n    }\n    /**\n     * @private\n     * @param {?} imageBase64\n     * @param {?} imageType\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    loadImage(imageBase64, imageType, cropperSettings) {\n        if (!this.isValidImageType(imageType)) {\n            return Promise.reject(new Error('Invalid image type'));\n        }\n        return this.loadBase64Image(imageBase64, cropperSettings);\n    }\n    /**\n     * @private\n     * @param {?} type\n     * @return {?}\n     */\n    isValidImageType(type) {\n        return /image\\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(type);\n    }\n    /**\n     * @param {?} url\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    loadImageFromURL(url, cropperSettings) {\n        return new Promise((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        (resolve, reject) => {\n            /** @type {?} */\n            const img = new Image();\n            img.onerror = (/**\n             * @return {?}\n             */\n            () => reject);\n            img.onload = (/**\n             * @return {?}\n             */\n            () => {\n                /** @type {?} */\n                const canvas = document.createElement('canvas');\n                /** @type {?} */\n                const context = canvas.getContext('2d');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                context.drawImage(img, 0, 0);\n                this.loadBase64Image(canvas.toDataURL(), cropperSettings).then(resolve);\n            });\n            img.crossOrigin = 'anonymous';\n            img.src = url;\n        }));\n    }\n    /**\n     * @param {?} imageBase64\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    loadBase64Image(imageBase64, cropperSettings) {\n        return new Promise((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        (resolve, reject) => {\n            /** @type {?} */\n            const originalImage = new Image();\n            originalImage.onload = (/**\n             * @return {?}\n             */\n            () => resolve({\n                originalImage,\n                originalBase64: imageBase64\n            }));\n            originalImage.onerror = reject;\n            originalImage.src = imageBase64;\n        })).then((/**\n         * @param {?} res\n         * @return {?}\n         */\n        (res) => this.transformImageBase64(res, cropperSettings)));\n    }\n    /**\n     * @private\n     * @param {?} res\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    transformImageBase64(res, cropperSettings) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {?} */\n            const autoRotate = yield this.autoRotateSupported;\n            /** @type {?} */\n            const exifTransform = yield getTransformationsFromExifData(autoRotate ? -1 : res.originalBase64);\n            if (!res.originalImage || !res.originalImage.complete) {\n                return Promise.reject(new Error('No image loaded'));\n            }\n            /** @type {?} */\n            const loadedImage = {\n                original: {\n                    base64: res.originalBase64,\n                    image: res.originalImage,\n                    size: {\n                        width: res.originalImage.naturalWidth,\n                        height: res.originalImage.naturalHeight\n                    }\n                },\n                exifTransform\n            };\n            return this.transformLoadedImage(loadedImage, cropperSettings);\n        });\n    }\n    /**\n     * @param {?} loadedImage\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    transformLoadedImage(loadedImage, cropperSettings) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {?} */\n            const canvasRotation = cropperSettings.canvasRotation + loadedImage.exifTransform.rotate;\n            /** @type {?} */\n            const originalSize = {\n                width: loadedImage.original.image.naturalWidth,\n                height: loadedImage.original.image.naturalHeight\n            };\n            if (canvasRotation === 0 && !loadedImage.exifTransform.flip && !cropperSettings.containWithinAspectRatio) {\n                return {\n                    original: {\n                        base64: loadedImage.original.base64,\n                        image: loadedImage.original.image,\n                        size: Object.assign({}, originalSize)\n                    },\n                    transformed: {\n                        base64: loadedImage.original.base64,\n                        image: loadedImage.original.image,\n                        size: Object.assign({}, originalSize)\n                    },\n                    exifTransform: loadedImage.exifTransform\n                };\n            }\n            /** @type {?} */\n            const transformedSize = this.getTransformedSize(originalSize, loadedImage.exifTransform, cropperSettings);\n            /** @type {?} */\n            const canvas = document.createElement('canvas');\n            canvas.width = transformedSize.width;\n            canvas.height = transformedSize.height;\n            /** @type {?} */\n            const ctx = canvas.getContext('2d');\n            ctx.setTransform(loadedImage.exifTransform.flip ? -1 : 1, 0, 0, 1, canvas.width / 2, canvas.height / 2);\n            ctx.rotate(Math.PI * (canvasRotation / 2));\n            ctx.drawImage(loadedImage.original.image, -originalSize.width / 2, -originalSize.height / 2);\n            /** @type {?} */\n            const transformedBase64 = canvas.toDataURL();\n            /** @type {?} */\n            const transformedImage = yield this.loadImageFromBase64(transformedBase64);\n            return {\n                original: {\n                    base64: loadedImage.original.base64,\n                    image: loadedImage.original.image,\n                    size: Object.assign({}, originalSize)\n                },\n                transformed: {\n                    base64: transformedBase64,\n                    image: transformedImage,\n                    size: {\n                        width: transformedImage.width,\n                        height: transformedImage.height\n                    }\n                },\n                exifTransform: loadedImage.exifTransform\n            };\n        });\n    }\n    /**\n     * @private\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    loadImageFromBase64(imageBase64) {\n        return new Promise(((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        (resolve, reject) => {\n            /** @type {?} */\n            const image = new Image();\n            image.onload = (/**\n             * @return {?}\n             */\n            () => resolve(image));\n            image.onerror = reject;\n            image.src = imageBase64;\n        })));\n    }\n    /**\n     * @private\n     * @param {?} originalSize\n     * @param {?} exifTransform\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    getTransformedSize(originalSize, exifTransform, cropperSettings) {\n        /** @type {?} */\n        const canvasRotation = cropperSettings.canvasRotation + exifTransform.rotate;\n        if (cropperSettings.containWithinAspectRatio) {\n            if (canvasRotation % 2) {\n                /** @type {?} */\n                const minWidthToContain = originalSize.width * cropperSettings.aspectRatio;\n                /** @type {?} */\n                const minHeightToContain = originalSize.height / cropperSettings.aspectRatio;\n                return {\n                    width: Math.max(originalSize.height, minWidthToContain),\n                    height: Math.max(originalSize.width, minHeightToContain)\n                };\n            }\n            else {\n                /** @type {?} */\n                const minWidthToContain = originalSize.height * cropperSettings.aspectRatio;\n                /** @type {?} */\n                const minHeightToContain = originalSize.width / cropperSettings.aspectRatio;\n                return {\n                    width: Math.max(originalSize.width, minWidthToContain),\n                    height: Math.max(originalSize.height, minHeightToContain)\n                };\n            }\n        }\n        if (canvasRotation % 2) {\n            return {\n                height: originalSize.width,\n                width: originalSize.height\n            };\n        }\n        return {\n            width: originalSize.width,\n            height: originalSize.height\n        };\n    }\n}\nLoadImageService.ɵfac = function LoadImageService_Factory(t) { return new (t || LoadImageService)(); };\n/** @nocollapse */ LoadImageService.ɵprov = ɵɵdefineInjectable({ factory: function LoadImageService_Factory() { return new LoadImageService(); }, token: LoadImageService, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LoadImageService, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return []; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    LoadImageService.prototype.autoRotateSupported;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/utils/keyboard.utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} key\n * @return {?}\n */\nfunction getPositionForKey(key) {\n    switch (key) {\n        case 'ArrowUp':\n            return 'top';\n        case 'ArrowRight':\n            return 'right';\n        case 'ArrowDown':\n            return 'bottom';\n        case 'ArrowLeft':\n        default:\n            return 'left';\n    }\n}\n/**\n * @param {?} key\n * @return {?}\n */\nfunction getInvertedPositionForKey(key) {\n    switch (key) {\n        case 'ArrowUp':\n            return 'bottom';\n        case 'ArrowRight':\n            return 'left';\n        case 'ArrowDown':\n            return 'top';\n        case 'ArrowLeft':\n        default:\n            return 'right';\n    }\n}\n/**\n * @param {?} key\n * @param {?} stepSize\n * @return {?}\n */\nfunction getEventForKey(key, stepSize) {\n    switch (key) {\n        case 'ArrowUp':\n            return { clientX: 0, clientY: stepSize * -1 };\n        case 'ArrowRight':\n            return { clientX: stepSize, clientY: 0 };\n        case 'ArrowDown':\n            return { clientX: 0, clientY: stepSize };\n        case 'ArrowLeft':\n        default:\n            return { clientX: stepSize * -1, clientY: 0 };\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/component/image-cropper.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ImageCropperComponent {\n    /**\n     * @param {?} cropService\n     * @param {?} cropperPositionService\n     * @param {?} loadImageService\n     * @param {?} sanitizer\n     * @param {?} cd\n     */\n    constructor(cropService, cropperPositionService, loadImageService, sanitizer, cd) {\n        this.cropService = cropService;\n        this.cropperPositionService = cropperPositionService;\n        this.loadImageService = loadImageService;\n        this.sanitizer = sanitizer;\n        this.cd = cd;\n        this.Hammer = (window === null || window === void 0 ? void 0 : window['Hammer']) || null;\n        this.settings = new CropperSettings();\n        this.setImageMaxSizeRetries = 0;\n        this.marginLeft = '0px';\n        this.moveTypes = MoveTypes;\n        this.imageVisible = false;\n        this.format = this.settings.format;\n        this.transform = {};\n        this.maintainAspectRatio = this.settings.maintainAspectRatio;\n        this.aspectRatio = this.settings.aspectRatio;\n        this.resizeToWidth = this.settings.resizeToWidth;\n        this.resizeToHeight = this.settings.resizeToHeight;\n        this.cropperMinWidth = this.settings.cropperMinWidth;\n        this.cropperMinHeight = this.settings.cropperMinHeight;\n        this.cropperMaxHeight = this.settings.cropperMaxHeight;\n        this.cropperMaxWidth = this.settings.cropperMaxWidth;\n        this.cropperStaticWidth = this.settings.cropperStaticWidth;\n        this.cropperStaticHeight = this.settings.cropperStaticHeight;\n        this.canvasRotation = this.settings.canvasRotation;\n        this.initialStepSize = this.settings.initialStepSize;\n        this.roundCropper = this.settings.roundCropper;\n        this.onlyScaleDown = this.settings.onlyScaleDown;\n        this.imageQuality = this.settings.imageQuality;\n        this.autoCrop = this.settings.autoCrop;\n        this.backgroundColor = this.settings.backgroundColor;\n        this.containWithinAspectRatio = this.settings.containWithinAspectRatio;\n        this.hideResizeSquares = this.settings.hideResizeSquares;\n        this.cropper = {\n            x1: -100,\n            y1: -100,\n            x2: 10000,\n            y2: 10000\n        };\n        this.alignImage = this.settings.alignImage;\n        this.disabled = false;\n        this.imageCropped = new EventEmitter();\n        this.startCropImage = new EventEmitter();\n        this.imageLoaded = new EventEmitter();\n        this.cropperReady = new EventEmitter();\n        this.loadImageFailed = new EventEmitter();\n        this.reset();\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        var _a;\n        this.onChangesUpdateSettings(changes);\n        this.onChangesInputImage(changes);\n        if (((_a = this.loadedImage) === null || _a === void 0 ? void 0 : _a.original.image.complete) && (changes.containWithinAspectRatio || changes.canvasRotation)) {\n            this.loadImageService\n                .transformLoadedImage(this.loadedImage, this.settings)\n                .then((/**\n             * @param {?} res\n             * @return {?}\n             */\n            (res) => this.setLoadedImage(res)))\n                .catch((/**\n             * @param {?} err\n             * @return {?}\n             */\n            (err) => this.loadImageError(err)));\n        }\n        if (changes.cropper || changes.maintainAspectRatio || changes.aspectRatio) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.setCropperScaledMaxSize();\n            if (this.maintainAspectRatio && (changes.maintainAspectRatio || changes.aspectRatio)) {\n                this.resetCropperPosition();\n            }\n            else if (changes.cropper) {\n                this.checkCropperPosition(false);\n                this.doAutoCrop();\n            }\n            this.cd.markForCheck();\n        }\n        if (changes.transform) {\n            this.transform = this.transform || {};\n            this.setCssTransform();\n            this.doAutoCrop();\n        }\n    }\n    /**\n     * @private\n     * @param {?} changes\n     * @return {?}\n     */\n    onChangesUpdateSettings(changes) {\n        this.settings.setOptionsFromChanges(changes);\n        if (this.settings.cropperStaticHeight && this.settings.cropperStaticWidth) {\n            this.settings.setOptions({\n                hideResizeSquares: true,\n                cropperMinWidth: this.settings.cropperStaticWidth,\n                cropperMinHeight: this.settings.cropperStaticHeight,\n                cropperMaxHeight: this.settings.cropperStaticHeight,\n                cropperMaxWidth: this.settings.cropperStaticWidth,\n                maintainAspectRatio: false\n            });\n        }\n    }\n    /**\n     * @private\n     * @param {?} changes\n     * @return {?}\n     */\n    onChangesInputImage(changes) {\n        if (changes.imageChangedEvent || changes.imageURL || changes.imageBase64 || changes.imageFile) {\n            this.reset();\n        }\n        if (changes.imageChangedEvent && this.isValidImageChangedEvent()) {\n            this.loadImageFile(this.imageChangedEvent.target.files[0]);\n        }\n        if (changes.imageURL && this.imageURL) {\n            this.loadImageFromURL(this.imageURL);\n        }\n        if (changes.imageBase64 && this.imageBase64) {\n            this.loadBase64Image(this.imageBase64);\n        }\n        if (changes.imageFile && this.imageFile) {\n            this.loadImageFile(this.imageFile);\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    isValidImageChangedEvent() {\n        var _a, _b, _c;\n        return ((_c = (_b = (_a = this.imageChangedEvent) === null || _a === void 0 ? void 0 : _a.target) === null || _b === void 0 ? void 0 : _b.files) === null || _c === void 0 ? void 0 : _c.length) > 0;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCssTransform() {\n        this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle('scaleX(' + (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1) + ')' +\n            'scaleY(' + (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1) + ')' +\n            'rotate(' + (this.transform.rotate || 0) + 'deg)');\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.settings.stepSize = this.initialStepSize;\n        this.activatePinchGesture();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    reset() {\n        this.imageVisible = false;\n        this.loadedImage = null;\n        this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\n            + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\n            + 'AAarVyFEAAAAASUVORK5CYII=';\n        this.moveStart = {\n            active: false,\n            type: null,\n            position: null,\n            x1: 0,\n            y1: 0,\n            x2: 0,\n            y2: 0,\n            clientX: 0,\n            clientY: 0\n        };\n        this.maxSize = {\n            width: 0,\n            height: 0\n        };\n        this.cropper.x1 = -100;\n        this.cropper.y1 = -100;\n        this.cropper.x2 = 10000;\n        this.cropper.y2 = 10000;\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n    loadImageFile(file) {\n        this.loadImageService\n            .loadImageFile(file, this.settings)\n            .then((/**\n         * @param {?} res\n         * @return {?}\n         */\n        (res) => this.setLoadedImage(res)))\n            .catch((/**\n         * @param {?} err\n         * @return {?}\n         */\n        (err) => this.loadImageError(err)));\n    }\n    /**\n     * @private\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    loadBase64Image(imageBase64) {\n        this.loadImageService\n            .loadBase64Image(imageBase64, this.settings)\n            .then((/**\n         * @param {?} res\n         * @return {?}\n         */\n        (res) => this.setLoadedImage(res)))\n            .catch((/**\n         * @param {?} err\n         * @return {?}\n         */\n        (err) => this.loadImageError(err)));\n    }\n    /**\n     * @private\n     * @param {?} url\n     * @return {?}\n     */\n    loadImageFromURL(url) {\n        this.loadImageService\n            .loadImageFromURL(url, this.settings)\n            .then((/**\n         * @param {?} res\n         * @return {?}\n         */\n        (res) => this.setLoadedImage(res)))\n            .catch((/**\n         * @param {?} err\n         * @return {?}\n         */\n        (err) => this.loadImageError(err)));\n    }\n    /**\n     * @private\n     * @param {?} loadedImage\n     * @return {?}\n     */\n    setLoadedImage(loadedImage) {\n        this.loadedImage = loadedImage;\n        this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(loadedImage.transformed.base64);\n        this.cd.markForCheck();\n    }\n    /**\n     * @private\n     * @param {?} error\n     * @return {?}\n     */\n    loadImageError(error) {\n        console.error(error);\n        this.loadImageFailed.emit();\n    }\n    /**\n     * @return {?}\n     */\n    imageLoadedInView() {\n        if (this.loadedImage != null) {\n            this.imageLoaded.emit(this.loadedImage);\n            this.setImageMaxSizeRetries = 0;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => this.checkImageMaxSizeRecursively()));\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    checkImageMaxSizeRecursively() {\n        if (this.setImageMaxSizeRetries > 40) {\n            this.loadImageFailed.emit();\n        }\n        else if (this.sourceImageLoaded()) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.setCropperScaledMaxSize();\n            this.resetCropperPosition();\n            this.cropperReady.emit(Object.assign({}, this.maxSize));\n            this.cd.markForCheck();\n        }\n        else {\n            this.setImageMaxSizeRetries++;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => this.checkImageMaxSizeRecursively()), 50);\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    sourceImageLoaded() {\n        var _a, _b;\n        return ((_b = (_a = this.sourceImage) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.offsetWidth) > 0;\n    }\n    /**\n     * @return {?}\n     */\n    onResize() {\n        if (!this.loadedImage) {\n            return;\n        }\n        this.resizeCropperPosition();\n        this.setMaxSize();\n        this.setCropperScaledMinSize();\n        this.setCropperScaledMaxSize();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    activatePinchGesture() {\n        if (this.Hammer) {\n            /** @type {?} */\n            const hammer = new this.Hammer(this.wrapper.nativeElement);\n            hammer.get('pinch').set({ enable: true });\n            hammer.on('pinchmove', this.onPinch.bind(this));\n            hammer.on('pinchend', this.pinchStop.bind(this));\n            hammer.on('pinchstart', this.startPinch.bind(this));\n        }\n        else if (isDevMode()) {\n            console.warn('[NgxImageCropper] Could not find HammerJS - Pinch Gesture won\\'t work');\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    resizeCropperPosition() {\n        /** @type {?} */\n        const sourceImageElement = this.sourceImage.nativeElement;\n        if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\n            this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\n            this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    resetCropperPosition() {\n        this.cropperPositionService.resetCropperPosition(this.sourceImage, this.cropper, this.settings);\n        this.doAutoCrop();\n        this.imageVisible = true;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    keyboardAccess(event) {\n        this.changeKeyboardStepSize(event);\n        this.keyboardMoveCropper(event);\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    changeKeyboardStepSize(event) {\n        /** @type {?} */\n        const key = +event.key;\n        if (key >= 1 && key <= 9) {\n            this.settings.stepSize = key;\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    keyboardMoveCropper(event) {\n        /** @type {?} */\n        const keyboardWhiteList = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\n        if (!(keyboardWhiteList.includes(event.key))) {\n            return;\n        }\n        /** @type {?} */\n        const moveType = event.shiftKey ? MoveTypes.Resize : MoveTypes.Move;\n        /** @type {?} */\n        const position = event.altKey ? getInvertedPositionForKey(event.key) : getPositionForKey(event.key);\n        /** @type {?} */\n        const moveEvent = getEventForKey(event.key, this.settings.stepSize);\n        event.preventDefault();\n        event.stopPropagation();\n        this.startMove({ clientX: 0, clientY: 0 }, moveType, position);\n        this.moveImg(moveEvent);\n        this.moveStop();\n    }\n    /**\n     * @param {?} event\n     * @param {?} moveType\n     * @param {?=} position\n     * @return {?}\n     */\n    startMove(event, moveType, position = null) {\n        var _a, _b;\n        if (((_a = this.moveStart) === null || _a === void 0 ? void 0 : _a.active) && ((_b = this.moveStart) === null || _b === void 0 ? void 0 : _b.type) === MoveTypes.Pinch) {\n            return;\n        }\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = Object.assign({ active: true, type: moveType, position, clientX: this.cropperPositionService.getClientX(event), clientY: this.cropperPositionService.getClientY(event) }, this.cropper);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    startPinch(event) {\n        if (!this.safeImgDataUrl) {\n            return;\n        }\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = Object.assign({ active: true, type: MoveTypes.Pinch, position: 'center', clientX: this.cropper.x1 + (this.cropper.x2 - this.cropper.x1) / 2, clientY: this.cropper.y1 + (this.cropper.y2 - this.cropper.y1) / 2 }, this.cropper);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    moveImg(event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === MoveTypes.Move) {\n                this.cropperPositionService.move(event, this.moveStart, this.cropper);\n                this.checkCropperPosition(true);\n            }\n            else if (this.moveStart.type === MoveTypes.Resize) {\n                if (!this.cropperStaticWidth && !this.cropperStaticHeight) {\n                    this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\n                }\n                this.checkCropperPosition(false);\n            }\n            this.cd.detectChanges();\n        }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onPinch(event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === MoveTypes.Pinch) {\n                this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\n                this.checkCropperPosition(false);\n            }\n            this.cd.detectChanges();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setMaxSize() {\n        if (this.sourceImage) {\n            /** @type {?} */\n            const sourceImageElement = this.sourceImage.nativeElement;\n            this.maxSize.width = sourceImageElement.offsetWidth;\n            this.maxSize.height = sourceImageElement.offsetHeight;\n            this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMinSize() {\n        var _a, _b;\n        if ((_b = (_a = this.loadedImage) === null || _a === void 0 ? void 0 : _a.transformed) === null || _b === void 0 ? void 0 : _b.image) {\n            this.setCropperScaledMinWidth();\n            this.setCropperScaledMinHeight();\n        }\n        else {\n            this.settings.cropperScaledMinWidth = 20;\n            this.settings.cropperScaledMinHeight = 20;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMinWidth() {\n        this.settings.cropperScaledMinWidth = this.cropperMinWidth > 0\n            ? Math.max(20, this.cropperMinWidth / this.loadedImage.transformed.image.width * this.maxSize.width)\n            : 20;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMinHeight() {\n        if (this.maintainAspectRatio) {\n            this.settings.cropperScaledMinHeight = Math.max(20, this.settings.cropperScaledMinWidth / this.aspectRatio);\n        }\n        else if (this.cropperMinHeight > 0) {\n            this.settings.cropperScaledMinHeight = Math.max(20, this.cropperMinHeight / this.loadedImage.transformed.image.height * this.maxSize.height);\n        }\n        else {\n            this.settings.cropperScaledMinHeight = 20;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMaxSize() {\n        var _a, _b;\n        if ((_b = (_a = this.loadedImage) === null || _a === void 0 ? void 0 : _a.transformed) === null || _b === void 0 ? void 0 : _b.image) {\n            /** @type {?} */\n            const ratio = this.loadedImage.transformed.size.width / this.maxSize.width;\n            this.settings.cropperScaledMaxWidth = this.cropperMaxWidth > 20 ? this.cropperMaxWidth / ratio : this.maxSize.width;\n            this.settings.cropperScaledMaxHeight = this.cropperMaxHeight > 20 ? this.cropperMaxHeight / ratio : this.maxSize.height;\n            if (this.maintainAspectRatio) {\n                if (this.settings.cropperScaledMaxWidth > this.settings.cropperScaledMaxHeight * this.aspectRatio) {\n                    this.settings.cropperScaledMaxWidth = this.settings.cropperScaledMaxHeight * this.aspectRatio;\n                }\n                else if (this.settings.cropperScaledMaxWidth < this.settings.cropperScaledMaxHeight * this.aspectRatio) {\n                    this.settings.cropperScaledMaxHeight = this.settings.cropperScaledMaxWidth / this.aspectRatio;\n                }\n            }\n        }\n        else {\n            this.settings.cropperScaledMaxWidth = this.maxSize.width;\n            this.settings.cropperScaledMaxHeight = this.maxSize.height;\n        }\n    }\n    /**\n     * @private\n     * @param {?=} maintainSize\n     * @return {?}\n     */\n    checkCropperPosition(maintainSize = false) {\n        if (this.cropper.x1 < 0) {\n            this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\n            this.cropper.x1 = 0;\n        }\n        if (this.cropper.y1 < 0) {\n            this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\n            this.cropper.y1 = 0;\n        }\n        if (this.cropper.x2 > this.maxSize.width) {\n            this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\n            this.cropper.x2 = this.maxSize.width;\n        }\n        if (this.cropper.y2 > this.maxSize.height) {\n            this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\n            this.cropper.y2 = this.maxSize.height;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    moveStop() {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.doAutoCrop();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    pinchStop() {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.doAutoCrop();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    doAutoCrop() {\n        if (this.autoCrop) {\n            this.crop();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    crop() {\n        var _a, _b;\n        if (((_b = (_a = this.loadedImage) === null || _a === void 0 ? void 0 : _a.transformed) === null || _b === void 0 ? void 0 : _b.image) != null) {\n            this.startCropImage.emit();\n            /** @type {?} */\n            const output = this.cropService.crop(this.sourceImage, this.loadedImage, this.cropper, this.settings);\n            if (output != null) {\n                this.imageCropped.emit(output);\n            }\n            return output;\n        }\n        return null;\n    }\n}\nImageCropperComponent.ɵfac = function ImageCropperComponent_Factory(t) { return new (t || ImageCropperComponent)(ɵngcc0.ɵɵdirectiveInject(CropService), ɵngcc0.ɵɵdirectiveInject(CropperPositionService), ɵngcc0.ɵɵdirectiveInject(LoadImageService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nImageCropperComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ImageCropperComponent, selectors: [[\"image-cropper\"]], viewQuery: function ImageCropperComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵstaticViewQuery(_c0, true);\n        ɵngcc0.ɵɵviewQuery(_c1, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.wrapper = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.sourceImage = _t.first);\n    } }, hostVars: 4, hostBindings: function ImageCropperComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function ImageCropperComponent_resize_HostBindingHandler() { return ctx.onResize(); }, false, ɵngcc0.ɵɵresolveWindow)(\"mousemove\", function ImageCropperComponent_mousemove_HostBindingHandler($event) { return ctx.moveImg($event); }, false, ɵngcc0.ɵɵresolveDocument)(\"touchmove\", function ImageCropperComponent_touchmove_HostBindingHandler($event) { return ctx.moveImg($event); }, false, ɵngcc0.ɵɵresolveDocument)(\"mouseup\", function ImageCropperComponent_mouseup_HostBindingHandler() { return ctx.moveStop(); }, false, ɵngcc0.ɵɵresolveDocument)(\"touchend\", function ImageCropperComponent_touchend_HostBindingHandler() { return ctx.moveStop(); }, false, ɵngcc0.ɵɵresolveDocument);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"text-align\", ctx.alignImage);\n        ɵngcc0.ɵɵclassProp(\"disabled\", ctx.disabled);\n    } }, inputs: { format: \"format\", transform: \"transform\", maintainAspectRatio: \"maintainAspectRatio\", aspectRatio: \"aspectRatio\", resizeToWidth: \"resizeToWidth\", resizeToHeight: \"resizeToHeight\", cropperMinWidth: \"cropperMinWidth\", cropperMinHeight: \"cropperMinHeight\", cropperMaxHeight: \"cropperMaxHeight\", cropperMaxWidth: \"cropperMaxWidth\", cropperStaticWidth: \"cropperStaticWidth\", cropperStaticHeight: \"cropperStaticHeight\", canvasRotation: \"canvasRotation\", initialStepSize: \"initialStepSize\", roundCropper: \"roundCropper\", onlyScaleDown: \"onlyScaleDown\", imageQuality: \"imageQuality\", autoCrop: \"autoCrop\", backgroundColor: \"backgroundColor\", containWithinAspectRatio: \"containWithinAspectRatio\", hideResizeSquares: \"hideResizeSquares\", cropper: \"cropper\", alignImage: \"alignImage\", disabled: \"disabled\", imageChangedEvent: \"imageChangedEvent\", imageURL: \"imageURL\", imageBase64: \"imageBase64\", imageFile: \"imageFile\" }, outputs: { imageCropped: \"imageCropped\", startCropImage: \"startCropImage\", imageLoaded: \"imageLoaded\", cropperReady: \"cropperReady\", loadImageFailed: \"loadImageFailed\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 5, vars: 10, consts: [[\"wrapper\", \"\"], [\"class\", \"ngx-ic-source-image\", 3, \"src\", \"visibility\", \"transform\", \"load\", 4, \"ngIf\"], [1, \"ngx-ic-overlay\"], [\"class\", \"ngx-ic-cropper\", \"tabindex\", \"0\", 3, \"ngx-ic-round\", \"top\", \"left\", \"width\", \"height\", \"margin-left\", \"visibility\", \"keydown\", 4, \"ngIf\"], [1, \"ngx-ic-source-image\", 3, \"src\", \"load\"], [\"sourceImage\", \"\"], [\"tabindex\", \"0\", 1, \"ngx-ic-cropper\", 3, \"keydown\"], [1, \"ngx-ic-move\", 3, \"mousedown\", \"touchstart\"], [4, \"ngIf\"], [1, \"ngx-ic-resize\", \"ngx-ic-topleft\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-square\"], [1, \"ngx-ic-resize\", \"ngx-ic-top\"], [1, \"ngx-ic-resize\", \"ngx-ic-topright\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize\", \"ngx-ic-right\"], [1, \"ngx-ic-resize\", \"ngx-ic-bottomright\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize\", \"ngx-ic-bottom\"], [1, \"ngx-ic-resize\", \"ngx-ic-bottomleft\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize\", \"ngx-ic-left\"], [1, \"ngx-ic-resize-bar\", \"ngx-ic-top\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize-bar\", \"ngx-ic-right\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize-bar\", \"ngx-ic-bottom\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize-bar\", \"ngx-ic-left\", 3, \"mousedown\", \"touchstart\"]], template: function ImageCropperComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", null, 0);\n        ɵngcc0.ɵɵtemplate(2, ImageCropperComponent_img_2_Template, 2, 5, \"img\", 1);\n        ɵngcc0.ɵɵelement(3, \"div\", 2);\n        ɵngcc0.ɵɵtemplate(4, ImageCropperComponent_div_4_Template, 3, 15, \"div\", 3);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"background\", ctx.imageVisible && ctx.backgroundColor);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.safeImgDataUrl);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"width\", ctx.maxSize.width, \"px\")(\"height\", ctx.maxSize.height, \"px\")(\"margin-left\", ctx.alignImage === \"center\" ? ctx.marginLeft : null);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.imageVisible);\n    } }, directives: [ɵngcc2.NgIf], styles: [\"[_nghost-%COMP%]{display:flex;max-height:100%;max-width:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:relative;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-height:100%;max-width:100%;transform-origin:center}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{left:0;outline:var(--cropper-overlay-color,#fff) solid 100vw;pointer-events:none;position:absolute;top:0;touch-action:none}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{background:transparent;color:#53535c;display:flex;outline:100vw solid hsla(0,0%,100%,.3);outline:var(--cropper-outline-color,hsla(0,0%,100%,.3)) solid 100vw;position:absolute;touch-action:none}@media (orientation:portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{border:1px dashed;bottom:0;color:inherit;content:\\\"\\\";left:0;opacity:.75;pointer-events:none;position:absolute;right:0;top:0;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.5);cursor:move;width:100%}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{display:inline-block;line-height:6px;opacity:.85;padding:8px;position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{background:#53535c;border:1px solid hsla(0,0%,100%,.5);box-sizing:content-box;display:inline-block;height:6px;width:6px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{cursor:nwse-resize;left:-12px;top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{cursor:ns-resize;left:calc(50% - 12px);top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{cursor:nesw-resize;right:-12px;top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{cursor:ew-resize;right:-12px;top:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;cursor:nwse-resize;right:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;cursor:ns-resize;left:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;cursor:nesw-resize;left:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{cursor:ew-resize;left:-12px;top:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{cursor:ns-resize;height:22px;left:11px;top:-11px;width:calc(100% - 22px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{cursor:ew-resize;height:calc(100% - 22px);right:-11px;top:11px;width:22px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;cursor:ns-resize;height:22px;left:11px;width:calc(100% - 22px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{cursor:ew-resize;height:calc(100% - 22px);left:-11px;top:11px;width:22px}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw hsla(0,0%,100%,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,hsla(0,0%,100%,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh hsla(0,0%,100%,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,hsla(0,0%,100%,.3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{display:none}\"], changeDetection: 0 });\n/** @nocollapse */\nImageCropperComponent.ctorParameters = () => [\n    { type: CropService },\n    { type: CropperPositionService },\n    { type: LoadImageService },\n    { type: DomSanitizer },\n    { type: ChangeDetectorRef }\n];\nImageCropperComponent.propDecorators = {\n    wrapper: [{ type: ViewChild, args: ['wrapper', { static: true },] }],\n    sourceImage: [{ type: ViewChild, args: ['sourceImage', { static: false },] }],\n    imageChangedEvent: [{ type: Input }],\n    imageURL: [{ type: Input }],\n    imageBase64: [{ type: Input }],\n    imageFile: [{ type: Input }],\n    format: [{ type: Input }],\n    transform: [{ type: Input }],\n    maintainAspectRatio: [{ type: Input }],\n    aspectRatio: [{ type: Input }],\n    resizeToWidth: [{ type: Input }],\n    resizeToHeight: [{ type: Input }],\n    cropperMinWidth: [{ type: Input }],\n    cropperMinHeight: [{ type: Input }],\n    cropperMaxHeight: [{ type: Input }],\n    cropperMaxWidth: [{ type: Input }],\n    cropperStaticWidth: [{ type: Input }],\n    cropperStaticHeight: [{ type: Input }],\n    canvasRotation: [{ type: Input }],\n    initialStepSize: [{ type: Input }],\n    roundCropper: [{ type: Input }],\n    onlyScaleDown: [{ type: Input }],\n    imageQuality: [{ type: Input }],\n    autoCrop: [{ type: Input }],\n    backgroundColor: [{ type: Input }],\n    containWithinAspectRatio: [{ type: Input }],\n    hideResizeSquares: [{ type: Input }],\n    cropper: [{ type: Input }],\n    alignImage: [{ type: HostBinding, args: ['style.text-align',] }, { type: Input }],\n    disabled: [{ type: HostBinding, args: ['class.disabled',] }, { type: Input }],\n    imageCropped: [{ type: Output }],\n    startCropImage: [{ type: Output }],\n    imageLoaded: [{ type: Output }],\n    cropperReady: [{ type: Output }],\n    loadImageFailed: [{ type: Output }],\n    onResize: [{ type: HostListener, args: ['window:resize',] }],\n    moveImg: [{ type: HostListener, args: ['document:mousemove', ['$event'],] }, { type: HostListener, args: ['document:touchmove', ['$event'],] }],\n    moveStop: [{ type: HostListener, args: ['document:mouseup',] }, { type: HostListener, args: ['document:touchend',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ImageCropperComponent, [{\n        type: Component,\n        args: [{\n                selector: 'image-cropper',\n                template: \"<div [style.background]=\\\"imageVisible && backgroundColor\\\"\\n     #wrapper\\n>\\n    <img\\n      #sourceImage\\n      class=\\\"ngx-ic-source-image\\\"\\n      *ngIf=\\\"safeImgDataUrl\\\"\\n      [src]=\\\"safeImgDataUrl\\\"\\n      [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n      [style.transform]=\\\"safeTransformStyle\\\"\\n      (load)=\\\"imageLoadedInView()\\\"\\n    />\\n    <div\\n        class=\\\"ngx-ic-overlay\\\"\\n        [style.width.px]=\\\"maxSize.width\\\"\\n        [style.height.px]=\\\"maxSize.height\\\"\\n        [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n    ></div>\\n    <div class=\\\"ngx-ic-cropper\\\"\\n         *ngIf=\\\"imageVisible\\\"\\n         [class.ngx-ic-round]=\\\"roundCropper\\\"\\n         [style.top.px]=\\\"cropper.y1\\\"\\n         [style.left.px]=\\\"cropper.x1\\\"\\n         [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\n         [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\n         [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n         [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n         (keydown)=\\\"keyboardAccess($event)\\\"\\n         tabindex=\\\"0\\\"\\n    >\\n        <div\\n            (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\n            class=\\\"ngx-ic-move\\\">\\n        </div>\\n        <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\n            <span class=\\\"ngx-ic-resize ngx-ic-topleft\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-top\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-topright\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-right\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-bottomright\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-bottom\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-bottomleft\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-left\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize-bar ngx-ic-top\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\n            </span>\\n            <span class=\\\"ngx-ic-resize-bar ngx-ic-right\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\n            </span>\\n            <span class=\\\"ngx-ic-resize-bar ngx-ic-bottom\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\n            </span>\\n            <span class=\\\"ngx-ic-resize-bar ngx-ic-left\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\n            </span>\\n        </ng-container>\\n    </div>\\n</div>\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\":host{display:flex;max-height:100%;max-width:100%;overflow:hidden;padding:5px;text-align:center}:host,:host>div{position:relative;width:100%}:host>div img.ngx-ic-source-image{max-height:100%;max-width:100%;transform-origin:center}:host .ngx-ic-overlay{left:0;outline:var(--cropper-overlay-color,#fff) solid 100vw;pointer-events:none;position:absolute;top:0;touch-action:none}:host .ngx-ic-cropper{background:transparent;color:#53535c;display:flex;outline:100vw solid hsla(0,0%,100%,.3);outline:var(--cropper-outline-color,hsla(0,0%,100%,.3)) solid 100vw;position:absolute;touch-action:none}@media (orientation:portrait){:host .ngx-ic-cropper{outline-width:100vh}}:host .ngx-ic-cropper:after{border:1px dashed;bottom:0;color:inherit;content:\\\"\\\";left:0;opacity:.75;pointer-events:none;position:absolute;right:0;top:0;z-index:1}:host .ngx-ic-cropper .ngx-ic-move{border:1px solid hsla(0,0%,100%,.5);cursor:move;width:100%}:host .ngx-ic-cropper:focus .ngx-ic-move{border-color:#1e90ff;border-width:2px}:host .ngx-ic-cropper .ngx-ic-resize{display:inline-block;line-height:6px;opacity:.85;padding:8px;position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize .ngx-ic-square{background:#53535c;border:1px solid hsla(0,0%,100%,.5);box-sizing:content-box;display:inline-block;height:6px;width:6px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topleft{cursor:nwse-resize;left:-12px;top:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-top{cursor:ns-resize;left:calc(50% - 12px);top:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topright{cursor:nesw-resize;right:-12px;top:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-right{cursor:ew-resize;right:-12px;top:calc(50% - 12px)}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomright{bottom:-12px;cursor:nwse-resize;right:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottom{bottom:-12px;cursor:ns-resize;left:calc(50% - 12px)}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomleft{bottom:-12px;cursor:nesw-resize;left:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-left{cursor:ew-resize;left:-12px;top:calc(50% - 12px)}:host .ngx-ic-cropper .ngx-ic-resize-bar{position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-top{cursor:ns-resize;height:22px;left:11px;top:-11px;width:calc(100% - 22px)}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-right{cursor:ew-resize;height:calc(100% - 22px);right:-11px;top:11px;width:22px}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-bottom{bottom:-11px;cursor:ns-resize;height:22px;left:11px;width:calc(100% - 22px)}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-left{cursor:ew-resize;height:calc(100% - 22px);left:-11px;top:11px;width:22px}:host .ngx-ic-cropper.ngx-ic-round{outline-color:transparent}:host .ngx-ic-cropper.ngx-ic-round:after{border-radius:100%;box-shadow:0 0 0 100vw hsla(0,0%,100%,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,hsla(0,0%,100%,.3))}@media (orientation:portrait){:host .ngx-ic-cropper.ngx-ic-round:after{box-shadow:0 0 0 100vh hsla(0,0%,100%,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,hsla(0,0%,100%,.3))}}:host .ngx-ic-cropper.ngx-ic-round .ngx-ic-move{border-radius:100%}:host.disabled .ngx-ic-cropper .ngx-ic-move,:host.disabled .ngx-ic-cropper .ngx-ic-resize,:host.disabled .ngx-ic-cropper .ngx-ic-resize-bar{display:none}\"]\n            }]\n    }], function () { return [{ type: CropService }, { type: CropperPositionService }, { type: LoadImageService }, { type: ɵngcc1.DomSanitizer }, { type: ɵngcc0.ChangeDetectorRef }]; }, { format: [{\n            type: Input\n        }], transform: [{\n            type: Input\n        }], maintainAspectRatio: [{\n            type: Input\n        }], aspectRatio: [{\n            type: Input\n        }], resizeToWidth: [{\n            type: Input\n        }], resizeToHeight: [{\n            type: Input\n        }], cropperMinWidth: [{\n            type: Input\n        }], cropperMinHeight: [{\n            type: Input\n        }], cropperMaxHeight: [{\n            type: Input\n        }], cropperMaxWidth: [{\n            type: Input\n        }], cropperStaticWidth: [{\n            type: Input\n        }], cropperStaticHeight: [{\n            type: Input\n        }], canvasRotation: [{\n            type: Input\n        }], initialStepSize: [{\n            type: Input\n        }], roundCropper: [{\n            type: Input\n        }], onlyScaleDown: [{\n            type: Input\n        }], imageQuality: [{\n            type: Input\n        }], autoCrop: [{\n            type: Input\n        }], backgroundColor: [{\n            type: Input\n        }], containWithinAspectRatio: [{\n            type: Input\n        }], hideResizeSquares: [{\n            type: Input\n        }], cropper: [{\n            type: Input\n        }], alignImage: [{\n            type: HostBinding,\n            args: ['style.text-align']\n        }, {\n            type: Input\n        }], disabled: [{\n            type: HostBinding,\n            args: ['class.disabled']\n        }, {\n            type: Input\n        }], imageCropped: [{\n            type: Output\n        }], startCropImage: [{\n            type: Output\n        }], imageLoaded: [{\n            type: Output\n        }], cropperReady: [{\n            type: Output\n        }], loadImageFailed: [{\n            type: Output\n        }], \n    /**\n     * @return {?}\n     */\n    onResize: [{\n            type: HostListener,\n            args: ['window:resize']\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    moveImg: [{\n            type: HostListener,\n            args: ['document:mousemove', ['$event']]\n        }, {\n            type: HostListener,\n            args: ['document:touchmove', ['$event']]\n        }], \n    /**\n     * @return {?}\n     */\n    moveStop: [{\n            type: HostListener,\n            args: ['document:mouseup']\n        }, {\n            type: HostListener,\n            args: ['document:touchend']\n        }], wrapper: [{\n            type: ViewChild,\n            args: ['wrapper', { static: true }]\n        }], sourceImage: [{\n            type: ViewChild,\n            args: ['sourceImage', { static: false }]\n        }], imageChangedEvent: [{\n            type: Input\n        }], imageURL: [{\n            type: Input\n        }], imageBase64: [{\n            type: Input\n        }], imageFile: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.Hammer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.settings;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.setImageMaxSizeRetries;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.moveStart;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.loadedImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.safeImgDataUrl;\n    /** @type {?} */\n    ImageCropperComponent.prototype.safeTransformStyle;\n    /** @type {?} */\n    ImageCropperComponent.prototype.marginLeft;\n    /** @type {?} */\n    ImageCropperComponent.prototype.maxSize;\n    /** @type {?} */\n    ImageCropperComponent.prototype.moveTypes;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageVisible;\n    /** @type {?} */\n    ImageCropperComponent.prototype.wrapper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.sourceImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageChangedEvent;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageURL;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageBase64;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageFile;\n    /** @type {?} */\n    ImageCropperComponent.prototype.format;\n    /** @type {?} */\n    ImageCropperComponent.prototype.transform;\n    /** @type {?} */\n    ImageCropperComponent.prototype.maintainAspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.aspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.resizeToWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.resizeToHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMinWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMinHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMaxHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMaxWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperStaticWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperStaticHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.canvasRotation;\n    /** @type {?} */\n    ImageCropperComponent.prototype.initialStepSize;\n    /** @type {?} */\n    ImageCropperComponent.prototype.roundCropper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.onlyScaleDown;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageQuality;\n    /** @type {?} */\n    ImageCropperComponent.prototype.autoCrop;\n    /** @type {?} */\n    ImageCropperComponent.prototype.backgroundColor;\n    /** @type {?} */\n    ImageCropperComponent.prototype.containWithinAspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.hideResizeSquares;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.alignImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.disabled;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageCropped;\n    /** @type {?} */\n    ImageCropperComponent.prototype.startCropImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageLoaded;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperReady;\n    /** @type {?} */\n    ImageCropperComponent.prototype.loadImageFailed;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cropService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cropperPositionService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.loadImageService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.sanitizer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cd;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/image-cropper.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ImageCropperModule {\n}\nImageCropperModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: ImageCropperModule });\nImageCropperModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function ImageCropperModule_Factory(t) { return new (t || ImageCropperModule)(); }, imports: [[\n            CommonModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ImageCropperModule, { declarations: function () { return [ImageCropperComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [ImageCropperComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ImageCropperModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule\n                ],\n                declarations: [\n                    ImageCropperComponent\n                ],\n                exports: [\n                    ImageCropperComponent\n                ]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/interfaces/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/utils/blob.utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} base64Image\n * @return {?}\n */\nfunction base64ToFile(base64Image) {\n    /** @type {?} */\n    const split = base64Image.split(',');\n    /** @type {?} */\n    const type = split[0].replace('data:', '').replace(';base64', '');\n    /** @type {?} */\n    const byteString = atob(split[1]);\n    /** @type {?} */\n    const ab = new ArrayBuffer(byteString.length);\n    /** @type {?} */\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i += 1) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type });\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ngx-image-cropper.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { ImageCropperComponent, ImageCropperModule, base64ToFile, resizeCanvas, CropService as ɵa, CropperPositionService as ɵb, LoadImageService as ɵc };\n\n//# sourceMappingURL=ngx-image-cropper.js.map","import { Component, Inject, OnDestroy, OnInit } from '@angular/core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog'\nimport { ImageCroppedEvent, LoadedImage } from 'ngx-image-cropper'\nimport { Subscription } from 'rxjs'\nimport { VehicleDamage, VehicleTemplate } from 'src/app/business/models/vehicleTemplate.models'\nimport { AdministrationService } from 'src/app/business/services/administration.service'\nimport { NotificationService } from 'src/app/shared/notifications/notification.service'\n\nexport interface VehicleDamageDialogData {\n  action: 'new' | 'edit'\n  damage?: any\n}\n\n@Component({\n  selector: 'app-vehicle-damage-dialog',\n  templateUrl: './vehicle-damage-dialog.component.html',\n  styleUrls: ['./vehicle-damage-dialog.component.scss'],\n})\nexport class VehicleDamageDialogComponent implements OnInit, OnDestroy {\n  subscriptions: Subscription[] = []\n  isLoading = false\n  damageForm: FormGroup\n  selectedDamage: VehicleDamage\n\n  constructor(\n    public dialogRef: MatDialogRef<VehicleDamageDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: VehicleDamageDialogData,\n    private fb: FormBuilder,\n    private administrationService: AdministrationService,\n    private notificationService: NotificationService\n  ) {\n    if (this.data.action === 'edit') {\n      this.selectedDamage = this.data.damage\n    }\n\n    this.damageForm = this.fb.group({\n      name: [this.selectedDamage?.name ?? '', [Validators.required]],\n      uid: [this.selectedDamage?.uid ?? '', [Validators.required]],\n    })\n  }\n\n  ngOnInit() {}\n\n  onSubmit() {\n    if (this.damageForm.invalid) {\n      return Object.values(this.damageForm.controls).forEach((control) => {\n        if (control instanceof FormGroup) {\n          Object.values(control.controls).forEach((control) => control.markAsTouched())\n        } else {\n          control.markAsTouched()\n        }\n      })\n    } else {\n      //save customer\n      this.isLoading = true\n\n      this.administrationService.saveVehicleDamage(this.damageForm.value).subscribe(\n        (res) => {\n          this.isLoading = false\n          this.notificationService.success('Item added')\n          this.dialogRef.close()\n        },\n        (err) => {\n          this.isLoading = false\n          if (err.error?.message?.includes('Damage key already exists')) {\n            return this.notificationService.error('Damage ID already exists')\n          }\n          this.notificationService.error()\n        }\n      )\n    }\n  }\n\n  onCancel() {\n    this.dialogRef.close()\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub) => sub.unsubscribe())\n  }\n}\n","<div class=\"dialog-content custom-scroll\">\n  <div *ngIf=\"isLoading\" class=\"dialog-loader\">\n    <mat-spinner [diameter]=\"50\"></mat-spinner>\n  </div>\n\n  <h3 *ngIf=\"data.action === 'new'\">Add vehicle damage</h3>\n  <h3 *ngIf=\"data.action === 'edit'\">Edit vehicle damage</h3>\n\n  <form class=\"form-group new-damage-form\" [formGroup]=\"damageForm\" (ngSubmit)=\"onSubmit()\">\n    <div class=\"col-12 mb-3\">\n      <label for=\"first_name\" class=\"text-dark text-base\">Name</label>\n      <input\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        class=\"form-control\"\n        formControlName=\"name\"\n        [class.is-invalid]=\"damageForm.controls.name.touched && damageForm.controls.name.invalid\"\n      />\n      <div class=\"form-text invalid-feedback\" *ngIf=\"true\">Invalid field</div>\n    </div>\n    \n    <div class=\"col-12 mb-3\">\n      <label for=\"uid\" class=\"text-dark text-base\">ID</label>\n      <input\n        id=\"uid\"\n        name=\"uid\"\n        type=\"text\"\n        class=\"form-control\"\n        formControlName=\"uid\"\n        [class.is-invalid]=\"damageForm.controls.uid.touched && damageForm.controls.uid.invalid\"\n      />\n      <div class=\"form-text invalid-feedback\" *ngIf=\"true\">Invalid field</div>\n    </div>\n\n    <div class=\"d-flex w-100 px-4 pt-3 justify-content-between mt-3\">\n      <div class=\"col-5\">\n        <button class=\"btn w-100 btn-outline-secondary\" type=\"button\" (click)=\"onCancel()\">Cancel</button>\n      </div>\n      <div class=\"col-5\">\n        <button class=\"btn w-100 btn-success\" type=\"submit\">Save</button>\n      </div>\n    </div>\n  </form>\n</div>\n","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core'\nimport { MatDialog } from '@angular/material/dialog'\nimport { MatPaginator } from '@angular/material/paginator'\nimport { MatSort } from '@angular/material/sort'\nimport { MatTableDataSource } from '@angular/material/table'\nimport { Subscription } from 'rxjs'\nimport { VehicleTemplate } from 'src/app/business/models/vehicleTemplate.models'\nimport { AdministrationService } from 'src/app/business/services/administration.service'\nimport { DialogService } from 'src/app/shared/dialogs/dialog.service'\nimport { NotificationService } from 'src/app/shared/notifications/notification.service'\nimport {\n  VehicleTemplateDialogComponent,\n  VehicleTemplateDialogData,\n} from './vehicle-template-dialog/vehicle-template-dialog.component'\n\n@Component({\n  selector: 'app-vehicle-template',\n  templateUrl: './vehicle-template.component.html',\n  styleUrls: ['./vehicle-template.component.scss'],\n})\nexport class VehicleTemplateComponent implements AfterViewInit, OnInit, OnDestroy {\n  displayedColumns = ['preview', 'name', 'actions']\n  pageSizeOptions: number[] = [12, 24, 50, 100]\n\n  @ViewChild(MatSort) sort: MatSort\n  @ViewChild(MatPaginator) paginator: MatPaginator\n\n  subscriptions: Subscription[] = []\n  items: MatTableDataSource<any>\n  templates: VehicleTemplate[]\n  loading: boolean\n\n  constructor(\n    public dialog: MatDialog,\n    private dialogService: DialogService,\n    public notificationService: NotificationService,\n    private adminService: AdministrationService\n  ) {\n    this.items = new MatTableDataSource([])\n    const sub = this.adminService.vehicleTemplates.subscribe((data) => {\n      this.templates = data\n      this.items.data = data\n    })\n    this.subscriptions.push(sub)\n  }\n\n  ngOnInit() {\n    this.dialogService.showLoader()\n    this.adminService.fetchVehicleTemplates().finally(() => {\n      this.dialogService.hideLoader()\n    })\n  }\n\n  applyFilter(filterValue: string) {\n    this.items.filter = filterValue.trim().toLocaleLowerCase()\n  }\n\n  openNewDialog() {\n    this.dialog.open<VehicleTemplateDialogComponent, VehicleTemplateDialogData>(VehicleTemplateDialogComponent, {\n      width: '800px',\n      data: {\n        action: 'new',\n      },\n    })\n  }\n\n  openEditDialog(template: VehicleTemplate) {\n    this.dialog.open<VehicleTemplateDialogComponent, VehicleTemplateDialogData>(VehicleTemplateDialogComponent, {\n      width: '700px',\n      data: {\n        action: 'edit',\n        template,\n      },\n    })\n  }\n\n  onDelete(template: any) {\n    // console.log('👉 - VehicleTemplateComponent - template', template.id)\n    this.dialogService.showConfirm({ title: 'Delete template', msg: 'Are you sure?' }, () => {\n      this.loading = true\n      this.adminService.deleteVehicleTemplate(template.id).subscribe(\n        (res) => {\n          this.loading = false\n          this.notificationService.success('Template deleted')\n        },\n        (err) => {\n          this.loading = false\n          this.notificationService.error()\n        }\n      )\n    })\n  }\n\n  ngAfterViewInit() {\n    this.items.sort = this.sort\n    this.items.paginator = this.paginator\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub) => sub.unsubscribe())\n  }\n}\n","<div class=\"px-2 px-md-5 py-3 position-relative\">\n    <div *ngIf=\"loading\" class=\"loader\">\n      <mat-spinner [diameter]=\"50\"></mat-spinner>\n    </div>\n    <div class=\"d-flex flex-wrap w-100 justify-content-between align-items-center mb-3\">\n      <h1 class=\"text-dark d-inline-block content-title\">Vehicle templates</h1>\n      <div class=\"d-flex content-options-bar\">\n        <div class=\"input-group\">\n          <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\">\n              <i class=\"fas fa-search\"></i>\n            </span>\n          </div>\n          <input type=\"text\" class=\"form-control\" (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter by any field...\" />\n        </div>\n        <button (click)=\"openNewDialog()\" class=\"btn font-weight-bold bg-blue-main text-light ml-3\">+Add</button>\n      </div>\n    </div>\n  \n    <div class=\"row mb-4\">\n      <div class=\"col-12 table-wrapper table-responsive\">\n        <table mat-table [dataSource]=\"items\" class=\"table table-borderless table-striped\" matSort>\n          <ng-container matColumnDef=\"preview\">\n            <th mat-header-cell *matHeaderCellDef>Preview</th>\n            <td mat-cell *matCellDef=\"let template\">\n                <img [src]=\"template.imageUrl\" [alt]=\"template.name\" width=\"100px\">\n            </td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"name\">\n            <th mat-header-cell *matHeaderCellDef>Name</th>\n            <td mat-cell *matCellDef=\"let template\">{{ template.name }}</td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"actions\">\n            <th mat-header-cell *matHeaderCellDef>Actions</th>\n            <td mat-cell *matCellDef=\"let template\">\n              <div class=\"action-buttons\">\n                <button (click)=\"openEditDialog(template)\" class=\"text-dark mr-4\" aria-label=\"edit\">\n                  <i class=\"fas fa-edit text-xl\"></i>\n                </button>\n                <button (click)=\"onDelete(template)\" class=\"text-dark\" aria-label=\"edit\">\n                  <i class=\"fas fa-trash-alt text-xl\"></i>\n                </button>\n              </div>\n            </td>\n          </ng-container>\n  \n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n        </table>\n        <div *ngIf=\"!items.data.length || !items.filteredData.length\" class=\"text-center border py-3 mt-n3 table-width\">No templates found</div>\n        <mat-paginator [pageSizeOptions]=\"pageSizeOptions\" aria-label=\"Select page\"> </mat-paginator>\n      </div>\n    </div>\n  </div>\n  "]}
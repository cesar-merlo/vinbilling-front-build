{"version":3,"sources":["./src/app/shared/notifications/notification.service.ts","./src/app/business/services/user.service.ts","./src/app/reports/reports.component.ts","./src/app/reports/reports.component.html","./src/app/reports/reports.module.ts"],"names":[],"mappings":"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","file":"reports-reports-module-es2015.js","sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\nimport { NotificationTemplateComponent } from \"../notification-template/notification-template.component\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class NotificationService {\n  mySnackBarRef: any;\n\n  constructor(public snackBar: MatSnackBar) {}\n\n  success(msg: string = \"Action successfully\") {\n    this.showNotification(msg, \"success\", \"check-circle\");\n  }\n\n  error(msg: string = \"Action failed\") {\n    this.showNotification(msg, \"danger\", \"exclamation-triangle\");\n  }\n\n  info(msg: string) {\n    this.showNotification(msg, \"info\", \"info\");\n  }\n\n  warning(msg: string) {\n    this.showNotification(msg, \"warning\", \"info\");\n  }\n\n  private showNotification(msg = \"Missed message\", type: \"danger\" | \"info\" | \"success\" | \"warning\", icon: string): void {\n    // for more info about Angular Material snackBar check: https://material.angular.io/components/snack-bar/overview\n    this.mySnackBarRef = this.snackBar.openFromComponent(NotificationTemplateComponent, {\n      data: {\n        message: msg,\n        icon,\n        type,\n        dismissible: true,\n        // you can add everything you want here\n      },\n      duration: type !== \"success\" ? 6000 : 3000,\n      horizontalPosition: \"right\", // 'start' | 'center' | 'end' | 'left' | 'right'\n      verticalPosition: \"bottom\", // 'top' | 'bottom'\n      panelClass: [\"notification-wrapper\"],\n    });\n    // this is to be able to close it from the NotificationComponent\n    this.mySnackBarRef.instance.snackBarRef = this.mySnackBarRef;\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { BehaviorSubject } from 'rxjs'\nimport { map } from 'rxjs/operators'\nimport { environment } from 'src/environments/environment'\nimport { User, UserBody } from '../models/user.models'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class UserService {\n  private baseUrl = environment.apiUrl\n\n  public users: BehaviorSubject<User[]> = new BehaviorSubject(null)\n\n  constructor(private http: HttpClient) {}\n\n  fetchUsers() {\n    return new Promise((resolve, reject) => {\n      this.http.get<User[]>(`${this.baseUrl}/users/admin`).subscribe(\n        (data) => {\n          this.users.next(data)\n          resolve(data)\n        },\n        (err) => {\n          reject(err)\n        }\n      )\n    })\n  }\n\n  getUserAuth() {\n    return this.http.get<User>(`${this.baseUrl}/users/me`)\n  }\n\n  saveUser(body: UserBody) {\n    return this.http.post<User>(`${this.baseUrl}/users/admin`, body).pipe(\n      map((res) => {\n        this.fetchUsers()\n        return res\n      })\n    )\n  }\n\n  updateUser(body: UserBody, id: string, isAdmin: boolean = true) {\n    const url = isAdmin ? `${this.baseUrl}/users/admin/${id}` : `${this.baseUrl}/users/me`\n    return this.http.put<User>(url, body).pipe(\n      map((res) => {\n        this.fetchUsers()\n        return res\n      })\n    )\n  }\n\n  deleteUser(id: string) {\n    return this.http.delete<User>(`${this.baseUrl}/users/admin/${id}`).pipe(\n      map((res) => {\n        this.fetchUsers()\n        return res\n      })\n    )\n  }\n\n  changePassword(body: { current_password: string; new_password: string }) {\n    return this.http.post(`${this.baseUrl}/users/me/changePassword`, body)\n  }\n}\n","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from \"@angular/core\";\nimport { MatPaginator } from \"@angular/material/paginator\";\nimport { MatSort } from \"@angular/material/sort\";\nimport { MatTableDataSource } from \"@angular/material/table\";\nimport { addMonths, addWeeks, previousMonday, startOfMonth } from \"date-fns\";\nimport { Subscription } from \"rxjs\";\nimport { Report } from \"../business/models/company.models\";\nimport { ReportInvoice } from \"../business/models/invoice.models\";\nimport { User } from \"../business/models/user.models\";\nimport { CompanyService } from \"../business/services/company.service\";\nimport { UserService } from \"../business/services/user.service\";\nimport { NotificationService } from \"../shared/notifications/notification.service\";\n\n@Component({\n  selector: \"app-reports\",\n  templateUrl: \"./reports.component.html\",\n  styleUrls: [\"./reports.component.scss\"],\n})\nexport class ReportsComponent implements OnInit, AfterViewInit, OnDestroy {\n  @ViewChild(MatSort) sort: MatSort;\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n\n  subscriptions: Subscription[] = [];\n  displayedColumns = [\"date\", \"invoice\", \"ship_from\", \"ship_to\", \"amount\"];\n  pageSizeOptions: number[] = [12, 24, 50, 100];\n  items: MatTableDataSource<ReportInvoice>;\n  users: User[];\n  selectedDriver: User;\n  dateRange: \"week\" | \"month\" = \"week\";\n  dates: Date[] = [];\n  selectedDate: Date;\n  report: Report;\n  loading = false;\n\n  constructor(private userService: UserService, private companyService: CompanyService, private notificationService: NotificationService) {\n    this.items = new MatTableDataSource([]);\n    const sub = this.userService.users.subscribe((data) => {\n      this.users = data;\n    });\n    this.subscriptions.push(sub);\n  }\n\n  ngOnInit() {\n    this.userService.fetchUsers();\n    this.setDates();\n  }\n\n  setDates() {\n    this.dates = [];\n    let sinceDay;\n    if (this.dateRange === \"week\") {\n      sinceDay = previousMonday(new Date());\n      for (let i = 0; i < 30; i++) {\n        this.dates.push(addWeeks(sinceDay, -i));\n      }\n    } else {\n      sinceDay = startOfMonth(new Date());\n      for (let i = 0; i < 24; i++) {\n        this.dates.push(addMonths(sinceDay, -i));\n      }\n    }\n    this.selectedDate = null;\n  }\n\n  onSelectDriver(event: any) {\n    this.selectedDriver = this.users.find((user) => user.id === event.target.value);\n    this.getReport();\n  }\n\n  onSelectDate(event: any) {\n    this.selectedDate = new Date(event.target.value);\n    this.getReport();\n  }\n\n  onDateRangeSelect(event: any) {\n    this.dateRange = event.target.value;\n    this.setDates();\n  }\n\n  getReport() {\n    if (!this.selectedDriver || !this.selectedDate) return;\n    const dateFrom = this.selectedDate.toISOString();\n    const dateTo = this.dateRange === \"week\" ? addWeeks(this.selectedDate, 1).toISOString() : addMonths(this.selectedDate, 1).toISOString();\n    this.loading = true;\n    this.companyService.getReport(this.selectedDriver.id, dateFrom, dateTo).subscribe(\n      (data) => {\n        this.report = data as Report;\n        this.items.data = data.invoices;\n        this.loading = false;\n      },\n      (err) => {\n        this.loading = false;\n        this.notificationService.error(\"Unexpected error\");\n      }\n    );\n  }\n\n  getReportPdf() {\n    if (!this.selectedDriver || !this.selectedDate) return;\n    const dateFrom = this.selectedDate.toISOString();\n    const dateTo = this.dateRange === \"week\" ? addWeeks(this.selectedDate, 1).toISOString() : addMonths(this.selectedDate, 1).toISOString();\n    this.companyService.getReportPdf(this.selectedDriver, dateFrom, dateTo)\n  }\n\n  ngAfterViewInit() {\n    this.items.sort = this.sort;\n    this.items.paginator = this.paginator;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub) => sub.unsubscribe());\n  }\n}\n","<div class=\"px-2 px-md-5 py-3 position-relative\">\n  <div *ngIf=\"loading\" class=\"loader\">\n    <mat-spinner [diameter]=\"50\"></mat-spinner>\n  </div>\n  <!-- HEADER -->\n  <div class=\"d-flex flex-wrap justify-content-between col-12 align-items-end mb-4\">\n    <div>\n      <h1 class=\"text-dark content-title\">Reports</h1>\n      <span class=\"content-sub-title w-100 d-block mb-2\" *ngIf=\"!!report\"\n        >Data from <b>{{ report?.formatDateFrom | date: \"MM/dd/yyyy\" }}</b> to <b>{{ report?.formatDateTo | date: \"MM/dd/yyyy\" }}</b></span\n      >\n    </div>\n    <div class=\"flex-grow-1 d-flex flex-wrap justify-content-between\">\n      <div class=\"d-none d-md-block flex-grow-1\"></div>\n      <div class=\"col-5 col-sm-3 col-md-2 px-0 pr-md-1 mt-2 mt-md-0\">\n        <div class=\"custom-select-wrapper\">\n          <select class=\"custom-select form-control\" (change)=\"onDateRangeSelect($event)\">\n            <option value=\"week\">Weekly</option>\n            <option value=\"month\">Monthly</option>\n          </select>\n          <mat-icon class=\"half-arrow-icon\" svgIcon=\"half-arrow-down\"></mat-icon>\n        </div>\n      </div>\n\n      <div class=\"col-6 col-sm-5 col-md-4 px-0 px-md-1 mt-2 mt-md-0\">\n        <div class=\"custom-select-wrapper\">\n          <select class=\"custom-select form-control\" (change)=\"onSelectDate($event)\">\n            <option *ngIf=\"!selectedDate\" selected disabled value=\"\">Select date...</option>\n            <option *ngFor=\"let date of dates\" [value]=\"date\">\n              {{ date | date: \"MM/dd/yyyy\" }}\n            </option>\n          </select>\n          <mat-icon class=\"half-arrow-icon\" svgIcon=\"half-arrow-down\"></mat-icon>\n        </div>\n      </div>\n\n      <div class=\"col-9 col-sm-6 col-md-4 px-0 px-md-1 mt-2 mt-md-0\">\n        <div class=\"custom-select-wrapper\">\n          <select class=\"custom-select form-control\" (change)=\"onSelectDriver($event)\">\n            <option *ngIf=\"!selectedDriver\" selected disabled value=\"\">Select driver...</option>\n            <option *ngFor=\"let driver of users\" [value]=\"driver.id\">\n              <span>{{ driver.first_name | titlecase }} {{ driver.last_name | titlecase }}</span>\n            </option>\n          </select>\n          <mat-icon class=\"half-arrow-icon\" svgIcon=\"half-arrow-down\"></mat-icon>\n        </div>\n      </div>\n\n      <button class=\"btn btn-primary mt-2 mt-md-0\" (click)=\"getReportPdf()\" [disabled]=\"!items.data.length\">PDF</button>\n    </div>\n  </div>\n\n  <!-- TABLE -->\n  <div class=\"row\">\n    <div class=\"col-12 table-wrapper table-responsive\">\n      <table mat-table [dataSource]=\"items\" class=\"table table-borderless table-striped\" matSort>\n        <ng-container matColumnDef=\"date\">\n          <th mat-header-cell *matHeaderCellDef>Date</th>\n          <td mat-cell *matCellDef=\"let item\">{{ item.date | date: \"MM/dd/yyyy\" }}</td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"invoice\">\n          <th mat-header-cell *matHeaderCellDef>Invoice</th>\n          <td mat-cell *matCellDef=\"let item\">{{ item.number }}</td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"ship_from\">\n          <th mat-header-cell *matHeaderCellDef>Ship from</th>\n          <td mat-cell *matCellDef=\"let item\">\n            {{ item.ship_from?.name || item.quick_ship_from?.name }} <br />\n            {{ item.ship_from?.city?.name || item.quick_ship_from?.city?.name }},\n            {{ item.ship_from?.city?.state_code || item.quick_ship_from?.city?.state_code }}\n          </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"ship_to\">\n          <th mat-header-cell *matHeaderCellDef>Ship to</th>\n          <td mat-cell *matCellDef=\"let item\">\n            {{ item.ship_to?.name || item.quick_ship_to?.name }} <br />\n            {{ item.ship_to?.city?.name || item.quick_ship_to?.city?.name }},\n            {{ item.ship_to?.city?.state_code || item.quick_ship_to?.city?.state_code }}\n          </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"amount\">\n          <th mat-header-cell *matHeaderCellDef>Amount</th>\n          <td mat-cell *matCellDef=\"let item\">{{ item.total | currency }}</td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n      </table>\n      <!-- <mat-paginator [pageSizeOptions]=\"pageSizeOptions\" aria-label=\"Select page\"> </mat-paginator> -->\n      <div *ngIf=\"!items.data.length\" class=\"table-width py-2 bg-grey-light text-center mt-n3\">No results</div>\n    </div>\n  </div>\n\n  <!-- RESULTS -->\n  <div *ngIf=\"items.data.length\" class=\"w-100 bg-grey-light p-4 rounded-lg mb-4\">\n    <div class=\"row\">\n      <span class=\"col-8 text-right\">Sub total:</span>\n      <span class=\"col-4 text-right\">{{ report?.subTotal | currency }}</span>\n    </div>\n    <div class=\"row\">\n      <span class=\"col-8 text-right\">Driver commission:</span>\n      <span class=\"col-4 text-right\">%{{ report?.driver.commission }}</span>\n    </div>\n    <div class=\"row\">\n      <span class=\"col-8 text-right\">Driver commission amount:</span>\n      <span class=\"col-4 text-right\">{{ report?.driverCommissionAmount | currency }}</span>\n    </div>\n    <div class=\"row\">\n      <span class=\"col-8 text-right\">Total units:</span>\n      <span class=\"col-4 text-right\">{{ report?.units }}</span>\n    </div>\n    <div class=\"row\">\n      <span class=\"col-8 text-right\">Weight(kg):</span>\n      <span class=\"col-4 text-right\">{{ report?.weight }}</span>\n    </div>\n    <div class=\"col-12 border border-secondary my-2\" style=\"opacity: 0.25\"></div>\n    <div class=\"row font-bold\">\n      <span class=\"col-8 text-right\">Total:</span>\n      <span class=\"col-4 text-right\">{{ report?.total | currency }}</span>\n    </div>\n  </div>\n</div>\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { ReportsComponent } from \"./reports.component\";\nimport { SharedModule } from \"../shared/shared.module\";\nimport { RouterModule } from \"@angular/router\";\n\nexport const routes = [\n  {\n    path: \"\",\n    component: ReportsComponent,\n  },\n];\n\n@NgModule({\n  declarations: [ReportsComponent],\n  imports: [CommonModule, RouterModule.forChild(routes), SharedModule],\n})\nexport class ReportsModule {}\n"],"sourceRoot":"webpack:///"}
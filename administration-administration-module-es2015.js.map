{"version":3,"sources":["./src/app/administration/administration.module.ts","./src/app/shared/notifications/notification.service.ts","./src/app/shared/dialogs/dialog.service.ts","./src/app/business/services/administration.service.ts","./src/app/administration/vehicle-damage/vehicle-damage.component.ts","./src/app/administration/vehicle-damage/vehicle-damage.component.html","./src/app/administration/vehicle-template/vehicle-template-dialog/vehicle-template-dialog.component.ts","./src/app/administration/vehicle-template/vehicle-template-dialog/vehicle-template-dialog.component.html","./node_modules/ngx-image-cropper/__ivy_ngcc__/fesm2015/ngx-image-cropper.js","./src/app/administration/vehicle-damage/vehicle-damage-dialog/vehicle-damage-dialog.component.ts","./src/app/administration/vehicle-damage/vehicle-damage-dialog/vehicle-damage-dialog.component.html","./src/app/administration/vehicle-template/vehicle-template.component.ts","./src/app/administration/vehicle-template/vehicle-template.component.html"],"names":[],"mappings":"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,CAAC;AACD,mBAAmB,2DAAoB;AACvC,IAAI,yDAAkB;AACtB,IAAI,yDAAkB;AACtB,IAAI,uDAAgB;AACpB,IAAI,wDAAiB;AACrB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAuDV;;AAED;AACA;AACA;AACA,cAAc,uHAAuH;AACrI;AACA;AACA;AACA;AACA,sBAAsB;AACtB,WAAW,EAmBV;AACD,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,uHAAuH;AACrI;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,uBAAuB,YAAY;AACnC,2BAA2B,WAAW;AACtC,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,uCAAuC,cAAc;AACrD,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,2CAA2C,cAAc;AACzD,mCAAmC,EAAE;AACrC;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,uHAAuH;AACrI;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB,uCAAuC,EAAE;AACzC;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,oDAAoD,iCAAiC;AACrF,uCAAuC,wEAAkB,EAAE,0CAA0C,0BAA0B,EAAE,0CAA0C;AAC3K,4BAA4B,CAAC,+DAAwB;AACrD,cAAc,wDAAU;AACxB,gBAAgB,qBAAqB;AACrC,KAAK,eAAe,EAAE;;AAEtB;AACA;AACA;AACA,cAAc,uHAAuH;AACrI;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,4CAA4C;AACtH,kDAAkD,wEAAkB,EAAE,qDAAqD,qCAAqC,EAAE,qDAAqD;AACvN,4BAA4B,CAAC,+DAAwB;AACrD,cAAc,wDAAU;AACxB,gBAAgB,qBAAqB;AACrC,KAAK,eAAe,EAAE;;AAEtB;AACA;AACA;AACA,cAAc,uHAAuH;AACrI;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,2BAA2B,UAAU;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,mDAAmD,KAAK;AACxD,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,uHAAuH;AACrI;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,WAAW,EAKV;AACD;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,uDAAS;AACxB,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,uDAAS;AACxB,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C,qBAAqB;AACrB;AACA;AACA;AACA,8CAA8C;AAC9C,qBAAqB;AACrB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,sCAAsC;AACpG,4CAA4C,wEAAkB,EAAE,+CAA+C,+BAA+B,EAAE,+CAA+C;AAC/L,4BAA4B,CAAC,+DAAwB;AACrD,cAAc,wDAAU;AACxB,gBAAgB,qBAAqB;AACrC,KAAK,gBAAgB,WAAW,EAAE,QAAQ,EAAE;AAC5C,WAAW,EAMV;;AAED;AACA;AACA;AACA,cAAc,uHAAuH;AACrI;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;;AAEA;AACA;AACA;AACA,cAAc,uHAAuH;AACrI;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,0DAAY;AAC5C,kCAAkC,0DAAY;AAC9C,+BAA+B,0DAAY;AAC3C,gCAAgC,0DAAY;AAC5C,mCAAmC,0DAAY;AAC/C;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,qCAAqC,eAAe;AACpD;AACA;AACA;AACA;AACA,iBAAiB,+DAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,wBAAwB,yBAAyB;AACjD;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,yJAAyJ;AACjM;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,kMAAkM;AAC1O;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;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","file":"administration-administration-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { VehicleTemplateComponent } from './vehicle-template/vehicle-template.component'\nimport { RouterModule } from '@angular/router'\nimport { SharedModule } from '../shared/shared.module'\nimport { VehicleTemplateDialogComponent } from './vehicle-template/vehicle-template-dialog/vehicle-template-dialog.component'\nimport { ImageCropperModule } from 'ngx-image-cropper'\nimport { VehicleDamageComponent } from './vehicle-damage/vehicle-damage.component'\nimport { VehicleDamageDialogComponent } from './vehicle-damage/vehicle-damage-dialog/vehicle-damage-dialog.component'\n\nexport const administrationRoutes = [\n  {\n    path: 'vehicle-templates',\n    component: VehicleTemplateComponent,\n  },\n  {\n    path: 'vehicle-damage',\n    component: VehicleDamageComponent,\n  },\n]\n\n@NgModule({\n  declarations: [\n    VehicleTemplateComponent,\n    VehicleTemplateDialogComponent,\n    VehicleDamageComponent,\n    VehicleDamageDialogComponent,\n  ],\n  imports: [CommonModule, RouterModule.forChild(administrationRoutes), SharedModule, ImageCropperModule],\n})\nexport class AdministrationModule {}\n","import { Injectable } from \"@angular/core\";\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\nimport { NotificationTemplateComponent } from \"../notification-template/notification-template.component\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class NotificationService {\n  mySnackBarRef: any;\n\n  constructor(public snackBar: MatSnackBar) {}\n\n  success(msg: string = \"Action successfully\") {\n    this.showNotification(msg, \"success\", \"check-circle\");\n  }\n\n  error(msg: string = \"Action failed\") {\n    this.showNotification(msg, \"danger\", \"exclamation-triangle\");\n  }\n\n  info(msg: string) {\n    this.showNotification(msg, \"info\", \"info\");\n  }\n\n  warning(msg: string) {\n    this.showNotification(msg, \"warning\", \"info\");\n  }\n\n  private showNotification(msg = \"Missed message\", type: \"danger\" | \"info\" | \"success\" | \"warning\", icon: string): void {\n    // for more info about Angular Material snackBar check: https://material.angular.io/components/snack-bar/overview\n    this.mySnackBarRef = this.snackBar.openFromComponent(NotificationTemplateComponent, {\n      data: {\n        message: msg,\n        icon,\n        type,\n        dismissible: true,\n        // you can add everything you want here\n      },\n      duration: type !== \"success\" ? 6000 : 3000,\n      horizontalPosition: \"right\", // 'start' | 'center' | 'end' | 'left' | 'right'\n      verticalPosition: \"bottom\", // 'top' | 'bottom'\n      panelClass: [\"notification-wrapper\"],\n    });\n    // this is to be able to close it from the NotificationComponent\n    this.mySnackBarRef.instance.snackBarRef = this.mySnackBarRef;\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog'\nimport { ConfirmDialogComponent, ConfirmDialogData } from './confirm/confirm-dialog.component'\nimport { LoaderDialogComponent, LoaderDialogComponentData } from './loader/loader-dialog.component'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DialogService {\n  currentLoaderDialogRef: MatDialogRef<LoaderDialogComponent>\n\n  constructor(public dialog: MatDialog) {}\n\n  showConfirm(args: ConfirmDialogData, onConfirm: (...args: any) => any) {\n    this.dialog\n      .open<ConfirmDialogComponent, ConfirmDialogData>(ConfirmDialogComponent, {\n        width: '400px',\n        data: args,\n      })\n      .afterClosed()\n      .subscribe((confirm: boolean) => {\n        if (confirm) {\n          onConfirm()\n        }\n      })\n  }\n\n  showLoader() {\n    this.dialog\n      .open<LoaderDialogComponent, LoaderDialogComponentData>(LoaderDialogComponent, {\n        width: '300px',\n        data: {\n          setDialogRef: (dialogRef) => {\n            this.currentLoaderDialogRef = dialogRef\n          },\n        },\n        disableClose: true,\n      })\n      .afterClosed()\n      .subscribe()\n  }\n\n  hideLoader() {\n    this.currentLoaderDialogRef?.close()\n    this.currentLoaderDialogRef = null\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { BehaviorSubject, Observable } from 'rxjs'\nimport { map, take } from 'rxjs/operators'\nimport { environment } from 'src/environments/environment'\nimport { Customer, CustomerBody } from '../models/customer.models'\nimport {\n  VehicleDamage,\n  VehicleDamageBody,\n  VehicleTemplate,\n  VehicleTemplateBody,\n} from '../models/vehicleTemplate.models'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AdministrationService {\n  private baseUrl = environment.apiUrl\n  public vehicleTemplates: BehaviorSubject<VehicleTemplate[]> = new BehaviorSubject([])\n  public vehicleDamage: BehaviorSubject<VehicleDamage[]> = new BehaviorSubject([])\n\n  constructor(private http: HttpClient) {}\n\n  fetchVehicleTemplates() {\n    return new Promise((resolve, reject) => {\n      this.http.get<any[]>(`${this.baseUrl}/administration/vehicleTemplate`).subscribe(\n        (data) => {\n          const dataParsed = data.map((temp) => {\n            return { id: temp.id, name: temp.name, imageUrl: temp.imageB64 }\n          })\n\n          this.vehicleTemplates.next(dataParsed)\n          resolve(data)\n        },\n        (err) => {\n          reject(err)\n        }\n      )\n    })\n  }\n\n  fetchVehicleDamage() {\n    return new Promise((resolve, reject) => {\n      this.http.get<any[]>(`${this.baseUrl}/administration/vehicleDamage`).subscribe(\n        (data) => {\n          this.vehicleDamage.next(data)\n          resolve(data)\n        },\n        (err) => {\n          reject(err)\n        }\n      )\n    })\n  }\n\n  saveVehicleTemplate(body: VehicleTemplateBody) {\n    return this.http.post<VehicleTemplate>(`${this.baseUrl}/administration/vehicleTemplate`, body).pipe(\n      map((res) => {\n        this.fetchVehicleTemplates()\n        return res\n      })\n    )\n  }\n\n  saveVehicleDamage(body: VehicleDamageBody) {\n    return this.http.post<VehicleTemplate>(`${this.baseUrl}/administration/vehicleDamage`, body).pipe(\n      map((res) => {\n        this.fetchVehicleDamage()\n        return res\n      })\n    )\n  }\n\n  updateVehicleTemplate(body: VehicleTemplateBody, id: string) {\n    return this.http.put<any>(`${this.baseUrl}/administration/vehicleTemplate/${id}`, body).pipe(\n      map((res) => {\n        this.fetchVehicleTemplates()\n        return res\n      })\n    )\n  }\n\n  deleteVehicleTemplate(id: string) {\n    return this.http.delete<any>(`${this.baseUrl}/administration/vehicleTemplate/${id}`).pipe(\n      map((res) => {\n        this.fetchVehicleTemplates()\n        return res\n      })\n    )\n  }\n\n  deleteVehicleDamage(id: string) {\n    return this.http.delete<any>(`${this.baseUrl}/administration/vehicleDamage/${id}`).pipe(\n      map((res) => {\n        this.fetchVehicleDamage()\n        return res\n      })\n    )\n  }\n\n  getMostRecents() {\n    return this.http.get<Customer[]>(`${this.baseUrl}/customers/mostRecents`)\n  }\n}\n","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core'\nimport { MatDialog } from '@angular/material/dialog'\nimport { MatPaginator } from '@angular/material/paginator'\nimport { MatSort } from '@angular/material/sort'\nimport { MatTableDataSource } from '@angular/material/table'\nimport { Subscription } from 'rxjs'\nimport { VehicleDamage } from 'src/app/business/models/vehicleTemplate.models'\nimport { AdministrationService } from 'src/app/business/services/administration.service'\nimport { DialogService } from 'src/app/shared/dialogs/dialog.service'\nimport { NotificationService } from 'src/app/shared/notifications/notification.service'\nimport {\n  VehicleDamageDialogComponent,\n  VehicleDamageDialogData,\n} from './vehicle-damage-dialog/vehicle-damage-dialog.component'\n\n@Component({\n  selector: 'app-vehicle-damage',\n  templateUrl: './vehicle-damage.component.html',\n  styleUrls: ['./vehicle-damage.component.scss'],\n})\nexport class VehicleDamageComponent implements AfterViewInit, OnInit, OnDestroy {\n  displayedColumns = ['uid', 'name', 'space', 'space2', 'actions']\n  pageSizeOptions: number[] = [12, 24, 50, 100]\n\n  @ViewChild(MatSort) sort: MatSort\n  @ViewChild(MatPaginator) paginator: MatPaginator\n\n  subscriptions: Subscription[] = []\n  items: MatTableDataSource<VehicleDamage>\n  loading: boolean\n\n  constructor(\n    public dialog: MatDialog,\n    private dialogService: DialogService,\n    public notificationService: NotificationService,\n    private adminService: AdministrationService\n  ) {\n    this.items = new MatTableDataSource([])\n    const sub = this.adminService.vehicleDamage.subscribe((data) => {\n      this.items.data = data\n    })\n    this.subscriptions.push(sub)\n  }\n\n  ngOnInit() {\n    this.dialogService.showLoader()\n    this.adminService.fetchVehicleDamage().finally(() => {\n      this.dialogService.hideLoader()\n    })\n  }\n\n  applyFilter(filterValue: string) {\n    this.items.filter = filterValue.trim().toLocaleLowerCase()\n  }\n\n  openNewDialog() {\n    this.dialog.open<VehicleDamageDialogComponent, VehicleDamageDialogData>(VehicleDamageDialogComponent, {\n      width: '800px',\n      data: {\n        action: 'new',\n      },\n    })\n  }\n\n  openEditDialog(damage: VehicleDamage) {\n    this.dialog.open<VehicleDamageDialogComponent, VehicleDamageDialogData>(VehicleDamageDialogComponent, {\n      width: '700px',\n      data: {\n        action: 'edit',\n        damage,\n      },\n    })\n  }\n\n  onDelete(damage: any) {\n    this.dialogService.showConfirm({ title: 'Delete item', msg: 'Are you sure?' }, () => {\n      this.loading = true\n      this.adminService.deleteVehicleDamage(damage.id).subscribe(\n        (res) => {\n          this.loading = false\n          this.notificationService.success('Item deleted')\n        },\n        (err) => {\n          this.loading = false\n          this.notificationService.error()\n        }\n      )\n    })\n  }\n\n  ngAfterViewInit() {\n    this.items.sort = this.sort\n    this.items.paginator = this.paginator\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub) => sub.unsubscribe())\n  }\n}\n","<div class=\"px-2 px-md-5 py-3 position-relative\">\n    <div *ngIf=\"loading\" class=\"loader\">\n      <mat-spinner [diameter]=\"50\"></mat-spinner>\n    </div>\n    <div class=\"d-flex flex-wrap w-100 justify-content-between align-items-center mb-3\">\n      <h1 class=\"text-dark d-inline-block content-title\">Vehicle damage</h1>\n      <div class=\"d-flex content-options-bar\">\n        <div class=\"input-group\">\n          <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\">\n              <i class=\"fas fa-search\"></i>\n            </span>\n          </div>\n          <input type=\"text\" class=\"form-control\" (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter by any field...\" />\n        </div>\n        <button (click)=\"openNewDialog()\" class=\"btn font-weight-bold bg-blue-main text-light ml-3\">+Add</button>\n      </div>\n    </div>\n  \n    <div class=\"row mb-4\">\n      <div class=\"col-12 table-wrapper table-responsive\">\n        <table mat-table [dataSource]=\"items\" class=\"table table-borderless table-striped\" matSort>\n          <ng-container matColumnDef=\"uid\">\n            <th mat-header-cell *matHeaderCellDef>ID</th>\n            <td mat-cell *matCellDef=\"let damage\">{{ damage.uid }}</td>\n          </ng-container>\n  \n  \n          <ng-container matColumnDef=\"name\">\n            <th mat-header-cell *matHeaderCellDef>Name</th>\n            <td mat-cell *matCellDef=\"let damage\">{{ damage.name }}</td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"space\">\n            <th mat-header-cell *matHeaderCellDef></th>\n            <td mat-cell *matCellDef=\"let damage\"></td>\n          </ng-container>\n\n          <ng-container matColumnDef=\"space2\">\n            <th mat-header-cell *matHeaderCellDef></th>\n            <td mat-cell *matCellDef=\"let damage\"></td>\n          </ng-container>\n  \n  \n          <ng-container matColumnDef=\"actions\">\n            <th mat-header-cell *matHeaderCellDef>Actions</th>\n            <td mat-cell *matCellDef=\"let damage\">\n              <div class=\"action-buttons\">\n                <!-- <button (click)=\"openEditDialog(damage)\" class=\"text-dark mr-4\" aria-label=\"edit\">\n                  <i class=\"fas fa-edit text-xl\"></i>\n                </button> -->\n                <button (click)=\"onDelete(damage)\" class=\"text-dark\" aria-label=\"edit\">\n                  <i class=\"fas fa-trash-alt text-xl\"></i>\n                </button>\n              </div>\n            </td>\n          </ng-container>\n  \n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n        </table>\n        <div *ngIf=\"!items.data.length || !items.filteredData.length\" class=\"text-center border py-3 mt-n3 table-width\">No items found</div>\n        <mat-paginator [pageSizeOptions]=\"pageSizeOptions\" aria-label=\"Select page\"> </mat-paginator>\n      </div>\n    </div>\n  </div>\n  ","import { Component, Inject, OnDestroy, OnInit } from \"@angular/core\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\nimport { ImageCroppedEvent, LoadedImage } from \"ngx-image-cropper\";\nimport { Subscription } from \"rxjs\";\nimport { VehicleTemplate } from \"src/app/business/models/vehicleTemplate.models\";\nimport { AdministrationService } from \"src/app/business/services/administration.service\";\nimport { NotificationService } from \"src/app/shared/notifications/notification.service\";\n\nexport interface VehicleTemplateDialogData {\n  action: \"new\" | \"edit\";\n  template?: VehicleTemplate;\n}\n\n@Component({\n  selector: \"app-vehicle-template-dialog\",\n  templateUrl: \"./vehicle-template-dialog.component.html\",\n  styleUrls: [\"./vehicle-template-dialog.component.scss\"],\n})\nexport class VehicleTemplateDialogComponent implements OnInit, OnDestroy {\n  subscriptions: Subscription[] = [];\n  isLoading = false;\n  imageChangedEvent: any = \"\";\n  croppedImage: any = null;\n  templateName = \"\";\n  templateNameError = false;\n  selectedTemplate: VehicleTemplate;\n\n  constructor(\n    public dialogRef: MatDialogRef<VehicleTemplateDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: VehicleTemplateDialogData,\n    private administrationService: AdministrationService,\n    private notificationService: NotificationService\n  ) {\n    if (this.data.action === \"edit\") {\n      this.selectedTemplate = this.data.template;\n      this.templateName = this.selectedTemplate?.name;\n    }\n  }\n\n  ngOnInit() {}\n\n  fileChangeEvent(event: any): void {\n    this.imageChangedEvent = event;\n  }\n  imageCropped(event: ImageCroppedEvent) {\n    this.croppedImage = event.base64;\n  }\n  imageLoaded(image?: LoadedImage) {\n    // show cropper\n  }\n  cropperReady() {\n    // cropper ready\n  }\n  loadImageFailed() {\n    // show message\n  }\n\n  onSubmit() {\n    this.templateNameError = !this.templateName;\n    if (!this.templateName) {\n      this.notificationService.error(\"Template name is required\");\n      return;\n    }\n\n    if (!this.selectedTemplate?.imageUrl && !this.croppedImage) {\n      this.notificationService.error(\"Image is required\");\n      return;\n    }\n\n    this.isLoading = true;\n    (this.data.action === \"new\"\n      ? this.administrationService.saveVehicleTemplate({ name: this.templateName, imageB64: this.croppedImage })\n      : this.administrationService.updateVehicleTemplate(\n          { name: this.templateName, imageB64: this.croppedImage ?? this.selectedTemplate.imageUrl },\n          this.selectedTemplate.id\n        )\n    ).subscribe(\n      (res) => {\n        this.isLoading = false;\n        this.dialogRef.close();\n      },\n      (err) => {\n        this.isLoading = false;\n        if (err.error?.message?.includes(\"expected `name` to be unique\")) {\n          this.notificationService.error(\"Name already exists\");\n          this.templateNameError = true;\n        } else {\n          this.notificationService.error();\n        }\n      }\n    );\n  }\n\n  onCancel() {\n    this.dialogRef.close();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub) => sub.unsubscribe());\n  }\n}\n","<div class=\"dialog-content custom-scroll\">\n  <div *ngIf=\"isLoading\" class=\"dialog-loader\">\n    <mat-spinner [diameter]=\"50\"></mat-spinner>\n  </div>\n\n  <h3 *ngIf=\"data.action === 'new'\">Add vehicle template</h3>\n  <h3 *ngIf=\"data.action === 'edit'\">Edit vehicle template</h3>\n\n  <form class=\"form-group\">\n    <div class=\"w-100 input-group pt-2 mb-3\">\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"Template name...\"\n        name=\"name\"\n        [value]=\"templateName\"\n         (change)=\"templateName = $event.target.value\"\n        [class.is-invalid]=\"templateNameError\"\n      />\n    </div>\n    \n    <div *ngIf=\"selectedTemplate && !croppedImage\" class=\"w-100 input-group\">\n      <img class=\"border mx-auto\" [src]=\"selectedTemplate.imageUrl\" style=\"min-width: 90%;\"/>\n    </div>\n\n    <div class=\"w-100 input-group pt-2 mb-3\">\n      <input type=\"file\" accept=\"image/png,image/jpeg,image/jpg,image/webp\" (change)=\"fileChangeEvent($event)\" class=\"mb-2\"/>\n\n      <image-cropper\n        [imageChangedEvent]=\"imageChangedEvent\"\n        [maintainAspectRatio]=\"true\"\n        [aspectRatio]=\"4 / 2.5\"\n        format=\"png\"\n        (imageCropped)=\"imageCropped($event)\"\n        (imageLoaded)=\"imageLoaded()\"\n        (cropperReady)=\"cropperReady()\"\n        (loadImageFailed)=\"loadImageFailed()\"\n      ></image-cropper>\n\n      <!-- <div *ngIf=\"!!croppedImage\" class=\"w-100 mt-2 text-center\">\n        <h6 class=\"w-100 text-center mb-2\">Preview</h6>\n        <img class=\"border mx-auto\" [src]=\"croppedImage\" />\n      </div> -->\n    </div>\n\n    <div class=\"d-flex w-100 px-4 pt-3 justify-content-between mt-3\">\n      <div class=\"col-5\">\n        <button class=\"btn w-100 btn-outline-secondary\" type=\"button\" (click)=\"onCancel()\">Cancel</button>\n      </div>\n      <div class=\"col-5\">\n        <button class=\"btn w-100 btn-success\" (click)=\"onSubmit()\">Save</button>\n      </div>\n    </div>\n  </form>\n</div>\n","import { Injectable, defineInjectable, EventEmitter, isDevMode, Component, ChangeDetectionStrategy, ChangeDetectorRef, ViewChild, Input, HostBinding, Output, HostListener, NgModule } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { __awaiter } from 'tslib';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/interfaces/cropper.settings.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ngcc0 from '@angular/core';\nimport * as ngcc1 from '@angular/platform-browser';\nimport * as ngcc2 from '@angular/common';\n\nconst _c0 = [\"wrapper\"];\nconst _c1 = [\"sourceImage\"];\nfunction ImageCropperComponent_img_2_Template(rf, ctx) { if (rf & 1) {\n    const _r5 = ngcc0.getCurrentView();\n    ngcc0.elementStart(0, \"img\", 4, 5);\n    ngcc0.listener(\"load\", function ImageCropperComponent_img_2_Template_img_load_0_listener() { ngcc0.restoreView(_r5); const ctx_r4 = ngcc0.nextContext(); return ctx_r4.imageLoadedInView(); });\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ngcc0.nextContext();\n    ngcc0.styleProp(\"visibility\", ctx_r1.imageVisible ? \"visible\" : \"hidden\")(\"transform\", ctx_r1.safeTransformStyle);\n    ngcc0.property(\"src\", ctx_r1.safeImgDataUrl, ngcc0.sanitizeUrl);\n} }\nfunction ImageCropperComponent_div_4_ng_container_2_Template(rf, ctx) { if (rf & 1) {\n    const _r8 = ngcc0.getCurrentView();\n    ngcc0.elementContainerStart(0);\n    ngcc0.elementStart(1, \"span\", 9);\n    ngcc0.listener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_1_listener($event) { ngcc0.restoreView(_r8); const ctx_r7 = ngcc0.nextContext(2); return ctx_r7.startMove($event, ctx_r7.moveTypes.Resize, \"topleft\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_1_listener($event) { ngcc0.restoreView(_r8); const ctx_r9 = ngcc0.nextContext(2); return ctx_r9.startMove($event, ctx_r9.moveTypes.Resize, \"topleft\"); });\n    ngcc0.element(2, \"span\", 10);\n    ngcc0.elementEnd();\n    ngcc0.elementStart(3, \"span\", 11);\n    ngcc0.element(4, \"span\", 10);\n    ngcc0.elementEnd();\n    ngcc0.elementStart(5, \"span\", 12);\n    ngcc0.listener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_5_listener($event) { ngcc0.restoreView(_r8); const ctx_r10 = ngcc0.nextContext(2); return ctx_r10.startMove($event, ctx_r10.moveTypes.Resize, \"topright\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_5_listener($event) { ngcc0.restoreView(_r8); const ctx_r11 = ngcc0.nextContext(2); return ctx_r11.startMove($event, ctx_r11.moveTypes.Resize, \"topright\"); });\n    ngcc0.element(6, \"span\", 10);\n    ngcc0.elementEnd();\n    ngcc0.elementStart(7, \"span\", 13);\n    ngcc0.element(8, \"span\", 10);\n    ngcc0.elementEnd();\n    ngcc0.elementStart(9, \"span\", 14);\n    ngcc0.listener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_9_listener($event) { ngcc0.restoreView(_r8); const ctx_r12 = ngcc0.nextContext(2); return ctx_r12.startMove($event, ctx_r12.moveTypes.Resize, \"bottomright\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_9_listener($event) { ngcc0.restoreView(_r8); const ctx_r13 = ngcc0.nextContext(2); return ctx_r13.startMove($event, ctx_r13.moveTypes.Resize, \"bottomright\"); });\n    ngcc0.element(10, \"span\", 10);\n    ngcc0.elementEnd();\n    ngcc0.elementStart(11, \"span\", 15);\n    ngcc0.element(12, \"span\", 10);\n    ngcc0.elementEnd();\n    ngcc0.elementStart(13, \"span\", 16);\n    ngcc0.listener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_13_listener($event) { ngcc0.restoreView(_r8); const ctx_r14 = ngcc0.nextContext(2); return ctx_r14.startMove($event, ctx_r14.moveTypes.Resize, \"bottomleft\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_13_listener($event) { ngcc0.restoreView(_r8); const ctx_r15 = ngcc0.nextContext(2); return ctx_r15.startMove($event, ctx_r15.moveTypes.Resize, \"bottomleft\"); });\n    ngcc0.element(14, \"span\", 10);\n    ngcc0.elementEnd();\n    ngcc0.elementStart(15, \"span\", 17);\n    ngcc0.element(16, \"span\", 10);\n    ngcc0.elementEnd();\n    ngcc0.elementStart(17, \"span\", 18);\n    ngcc0.listener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_17_listener($event) { ngcc0.restoreView(_r8); const ctx_r16 = ngcc0.nextContext(2); return ctx_r16.startMove($event, ctx_r16.moveTypes.Resize, \"top\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_17_listener($event) { ngcc0.restoreView(_r8); const ctx_r17 = ngcc0.nextContext(2); return ctx_r17.startMove($event, ctx_r17.moveTypes.Resize, \"top\"); });\n    ngcc0.elementEnd();\n    ngcc0.elementStart(18, \"span\", 19);\n    ngcc0.listener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_18_listener($event) { ngcc0.restoreView(_r8); const ctx_r18 = ngcc0.nextContext(2); return ctx_r18.startMove($event, ctx_r18.moveTypes.Resize, \"right\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_18_listener($event) { ngcc0.restoreView(_r8); const ctx_r19 = ngcc0.nextContext(2); return ctx_r19.startMove($event, ctx_r19.moveTypes.Resize, \"right\"); });\n    ngcc0.elementEnd();\n    ngcc0.elementStart(19, \"span\", 20);\n    ngcc0.listener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_19_listener($event) { ngcc0.restoreView(_r8); const ctx_r20 = ngcc0.nextContext(2); return ctx_r20.startMove($event, ctx_r20.moveTypes.Resize, \"bottom\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_19_listener($event) { ngcc0.restoreView(_r8); const ctx_r21 = ngcc0.nextContext(2); return ctx_r21.startMove($event, ctx_r21.moveTypes.Resize, \"bottom\"); });\n    ngcc0.elementEnd();\n    ngcc0.elementStart(20, \"span\", 21);\n    ngcc0.listener(\"mousedown\", function ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_20_listener($event) { ngcc0.restoreView(_r8); const ctx_r22 = ngcc0.nextContext(2); return ctx_r22.startMove($event, ctx_r22.moveTypes.Resize, \"left\"); })(\"touchstart\", function ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_20_listener($event) { ngcc0.restoreView(_r8); const ctx_r23 = ngcc0.nextContext(2); return ctx_r23.startMove($event, ctx_r23.moveTypes.Resize, \"left\"); });\n    ngcc0.elementEnd();\n    ngcc0.elementContainerEnd();\n} }\nfunction ImageCropperComponent_div_4_Template(rf, ctx) { if (rf & 1) {\n    const _r25 = ngcc0.getCurrentView();\n    ngcc0.elementStart(0, \"div\", 6);\n    ngcc0.listener(\"keydown\", function ImageCropperComponent_div_4_Template_div_keydown_0_listener($event) { ngcc0.restoreView(_r25); const ctx_r24 = ngcc0.nextContext(); return ctx_r24.keyboardAccess($event); });\n    ngcc0.elementStart(1, \"div\", 7);\n    ngcc0.listener(\"mousedown\", function ImageCropperComponent_div_4_Template_div_mousedown_1_listener($event) { ngcc0.restoreView(_r25); const ctx_r26 = ngcc0.nextContext(); return ctx_r26.startMove($event, ctx_r26.moveTypes.Move); })(\"touchstart\", function ImageCropperComponent_div_4_Template_div_touchstart_1_listener($event) { ngcc0.restoreView(_r25); const ctx_r27 = ngcc0.nextContext(); return ctx_r27.startMove($event, ctx_r27.moveTypes.Move); });\n    ngcc0.elementEnd();\n    ngcc0.template(2, ImageCropperComponent_div_4_ng_container_2_Template, 21, 0, \"ng-container\", 8);\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    const ctx_r2 = ngcc0.nextContext();\n    ngcc0.styleProp(\"top\", ctx_r2.cropper.y1, \"px\")(\"left\", ctx_r2.cropper.x1, \"px\")(\"width\", ctx_r2.cropper.x2 - ctx_r2.cropper.x1, \"px\")(\"height\", ctx_r2.cropper.y2 - ctx_r2.cropper.y1, \"px\")(\"margin-left\", ctx_r2.alignImage === \"center\" ? ctx_r2.marginLeft : null)(\"visibility\", ctx_r2.imageVisible ? \"visible\" : \"hidden\");\n    ngcc0.classProp(\"ngx-ic-round\", ctx_r2.roundCropper);\n    ngcc0.advance(2);\n    ngcc0.property(\"ngIf\", !ctx_r2.hideResizeSquares);\n} }\nclass CropperSettings {\n    constructor() {\n        // From options\n        this.format = 'png';\n        this.maintainAspectRatio = true;\n        this.transform = {};\n        this.aspectRatio = 1;\n        this.resizeToWidth = 0;\n        this.resizeToHeight = 0;\n        this.cropperMinWidth = 0;\n        this.cropperMinHeight = 0;\n        this.cropperMaxHeight = 0;\n        this.cropperMaxWidth = 0;\n        this.cropperStaticWidth = 0;\n        this.cropperStaticHeight = 0;\n        this.canvasRotation = 0;\n        this.initialStepSize = 3;\n        this.roundCropper = false;\n        this.onlyScaleDown = false;\n        this.imageQuality = 92;\n        this.autoCrop = true;\n        this.backgroundColor = undefined;\n        this.containWithinAspectRatio = false;\n        this.hideResizeSquares = false;\n        this.alignImage = 'center';\n        // Internal\n        this.cropperScaledMinWidth = 20;\n        this.cropperScaledMinHeight = 20;\n        this.cropperScaledMaxWidth = 20;\n        this.cropperScaledMaxHeight = 20;\n        this.stepSize = this.initialStepSize;\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    setOptions(options) {\n        Object.keys(options)\n            .filter((/**\n         * @param {?} k\n         * @return {?}\n         */\n        (k) => k in this))\n            .forEach((/**\n         * @param {?} k\n         * @return {?}\n         */\n        (k) => this[k] = options[k]));\n        this.validateOptions();\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    setOptionsFromChanges(changes) {\n        Object.keys(changes)\n            .filter((/**\n         * @param {?} k\n         * @return {?}\n         */\n        (k) => k in this))\n            .forEach((/**\n         * @param {?} k\n         * @return {?}\n         */\n        (k) => this[k] = changes[k].currentValue));\n        this.validateOptions();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    validateOptions() {\n        if (this.maintainAspectRatio && !this.aspectRatio) {\n            throw new Error('`aspectRatio` should > 0 when `maintainAspectRatio` is enabled');\n        }\n    }\n}\nif (false) {\n    /** @type {?} */\n    CropperSettings.prototype.format;\n    /** @type {?} */\n    CropperSettings.prototype.maintainAspectRatio;\n    /** @type {?} */\n    CropperSettings.prototype.transform;\n    /** @type {?} */\n    CropperSettings.prototype.aspectRatio;\n    /** @type {?} */\n    CropperSettings.prototype.resizeToWidth;\n    /** @type {?} */\n    CropperSettings.prototype.resizeToHeight;\n    /** @type {?} */\n    CropperSettings.prototype.cropperMinWidth;\n    /** @type {?} */\n    CropperSettings.prototype.cropperMinHeight;\n    /** @type {?} */\n    CropperSettings.prototype.cropperMaxHeight;\n    /** @type {?} */\n    CropperSettings.prototype.cropperMaxWidth;\n    /** @type {?} */\n    CropperSettings.prototype.cropperStaticWidth;\n    /** @type {?} */\n    CropperSettings.prototype.cropperStaticHeight;\n    /** @type {?} */\n    CropperSettings.prototype.canvasRotation;\n    /** @type {?} */\n    CropperSettings.prototype.initialStepSize;\n    /** @type {?} */\n    CropperSettings.prototype.roundCropper;\n    /** @type {?} */\n    CropperSettings.prototype.onlyScaleDown;\n    /** @type {?} */\n    CropperSettings.prototype.imageQuality;\n    /** @type {?} */\n    CropperSettings.prototype.autoCrop;\n    /** @type {?} */\n    CropperSettings.prototype.backgroundColor;\n    /** @type {?} */\n    CropperSettings.prototype.containWithinAspectRatio;\n    /** @type {?} */\n    CropperSettings.prototype.hideResizeSquares;\n    /** @type {?} */\n    CropperSettings.prototype.alignImage;\n    /** @type {?} */\n    CropperSettings.prototype.cropperScaledMinWidth;\n    /** @type {?} */\n    CropperSettings.prototype.cropperScaledMinHeight;\n    /** @type {?} */\n    CropperSettings.prototype.cropperScaledMaxWidth;\n    /** @type {?} */\n    CropperSettings.prototype.cropperScaledMaxHeight;\n    /** @type {?} */\n    CropperSettings.prototype.stepSize;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/interfaces/move-start.interface.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction MoveStart() { }\nif (false) {\n    /** @type {?} */\n    MoveStart.prototype.active;\n    /** @type {?} */\n    MoveStart.prototype.type;\n    /** @type {?} */\n    MoveStart.prototype.position;\n    /** @type {?} */\n    MoveStart.prototype.x1;\n    /** @type {?} */\n    MoveStart.prototype.y1;\n    /** @type {?} */\n    MoveStart.prototype.x2;\n    /** @type {?} */\n    MoveStart.prototype.y2;\n    /** @type {?} */\n    MoveStart.prototype.clientX;\n    /** @type {?} */\n    MoveStart.prototype.clientY;\n}\n/** @enum {string} */\nconst MoveTypes = {\n    Move: \"move\",\n    Resize: \"resize\",\n    Pinch: \"pinch\",\n};\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/utils/resize.utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/*\n * Hermite resize - fast image resize/resample using Hermite filter.\n * https://github.com/viliusle/Hermite-resize\n */\n/**\n * @param {?} canvas\n * @param {?} width\n * @param {?} height\n * @return {?}\n */\nfunction resizeCanvas(canvas, width, height) {\n    /** @type {?} */\n    const width_source = canvas.width;\n    /** @type {?} */\n    const height_source = canvas.height;\n    width = Math.round(width);\n    height = Math.round(height);\n    /** @type {?} */\n    const ratio_w = width_source / width;\n    /** @type {?} */\n    const ratio_h = height_source / height;\n    /** @type {?} */\n    const ratio_w_half = Math.ceil(ratio_w / 2);\n    /** @type {?} */\n    const ratio_h_half = Math.ceil(ratio_h / 2);\n    /** @type {?} */\n    const ctx = canvas.getContext('2d');\n    if (ctx) {\n        /** @type {?} */\n        const img = ctx.getImageData(0, 0, width_source, height_source);\n        /** @type {?} */\n        const img2 = ctx.createImageData(width, height);\n        /** @type {?} */\n        const data = img.data;\n        /** @type {?} */\n        const data2 = img2.data;\n        for (let j = 0; j < height; j++) {\n            for (let i = 0; i < width; i++) {\n                /** @type {?} */\n                const x2 = (i + j * width) * 4;\n                /** @type {?} */\n                const center_y = j * ratio_h;\n                /** @type {?} */\n                let weight = 0;\n                /** @type {?} */\n                let weights = 0;\n                /** @type {?} */\n                let weights_alpha = 0;\n                /** @type {?} */\n                let gx_r = 0;\n                /** @type {?} */\n                let gx_g = 0;\n                /** @type {?} */\n                let gx_b = 0;\n                /** @type {?} */\n                let gx_a = 0;\n                /** @type {?} */\n                const xx_start = Math.floor(i * ratio_w);\n                /** @type {?} */\n                const yy_start = Math.floor(j * ratio_h);\n                /** @type {?} */\n                let xx_stop = Math.ceil((i + 1) * ratio_w);\n                /** @type {?} */\n                let yy_stop = Math.ceil((j + 1) * ratio_h);\n                xx_stop = Math.min(xx_stop, width_source);\n                yy_stop = Math.min(yy_stop, height_source);\n                for (let yy = yy_start; yy < yy_stop; yy++) {\n                    /** @type {?} */\n                    const dy = Math.abs(center_y - yy) / ratio_h_half;\n                    /** @type {?} */\n                    const center_x = i * ratio_w;\n                    /** @type {?} */\n                    const w0 = dy * dy;\n                    for (let xx = xx_start; xx < xx_stop; xx++) {\n                        /** @type {?} */\n                        const dx = Math.abs(center_x - xx) / ratio_w_half;\n                        /** @type {?} */\n                        const w = Math.sqrt(w0 + dx * dx);\n                        if (w >= 1) {\n                            //pixel too far\n                            continue;\n                        }\n                        //hermite filter\n                        weight = 2 * w * w * w - 3 * w * w + 1;\n                        /** @type {?} */\n                        const pos_x = 4 * (xx + yy * width_source);\n                        //alpha\n                        gx_a += weight * data[pos_x + 3];\n                        weights_alpha += weight;\n                        //colors\n                        if (data[pos_x + 3] < 255)\n                            weight = weight * data[pos_x + 3] / 250;\n                        gx_r += weight * data[pos_x];\n                        gx_g += weight * data[pos_x + 1];\n                        gx_b += weight * data[pos_x + 2];\n                        weights += weight;\n                    }\n                }\n                data2[x2] = gx_r / weights;\n                data2[x2 + 1] = gx_g / weights;\n                data2[x2 + 2] = gx_b / weights;\n                data2[x2 + 3] = gx_a / weights_alpha;\n            }\n        }\n        canvas.width = width;\n        canvas.height = height;\n        //draw\n        ctx.putImageData(img2, 0, 0);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/services/crop.service.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass CropService {\n    /**\n     * @param {?} sourceImage\n     * @param {?} loadedImage\n     * @param {?} cropper\n     * @param {?} settings\n     * @return {?}\n     */\n    crop(sourceImage, loadedImage, cropper, settings) {\n        /** @type {?} */\n        const imagePosition = this.getImagePosition(sourceImage, loadedImage, cropper, settings);\n        /** @type {?} */\n        const width = imagePosition.x2 - imagePosition.x1;\n        /** @type {?} */\n        const height = imagePosition.y2 - imagePosition.y1;\n        /** @type {?} */\n        const cropCanvas = (/** @type {?} */ (document.createElement('canvas')));\n        cropCanvas.width = width;\n        cropCanvas.height = height;\n        /** @type {?} */\n        const ctx = cropCanvas.getContext('2d');\n        if (!ctx) {\n            return;\n        }\n        if (settings.backgroundColor != null) {\n            ctx.fillStyle = settings.backgroundColor;\n            ctx.fillRect(0, 0, width, height);\n        }\n        /** @type {?} */\n        const scaleX = (settings.transform.scale || 1) * (settings.transform.flipH ? -1 : 1);\n        /** @type {?} */\n        const scaleY = (settings.transform.scale || 1) * (settings.transform.flipV ? -1 : 1);\n        /** @type {?} */\n        const transformedImage = loadedImage.transformed;\n        ctx.setTransform(scaleX, 0, 0, scaleY, transformedImage.size.width / 2, transformedImage.size.height / 2);\n        ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\n        ctx.rotate((settings.transform.rotate || 0) * Math.PI / 180);\n        ctx.drawImage(transformedImage.image, -transformedImage.size.width / 2, -transformedImage.size.height / 2);\n        /** @type {?} */\n        const output = {\n            width, height,\n            imagePosition,\n            cropperPosition: Object.assign({}, cropper)\n        };\n        if (settings.containWithinAspectRatio) {\n            output.offsetImagePosition = this.getOffsetImagePosition(sourceImage, loadedImage, cropper, settings);\n        }\n        /** @type {?} */\n        const resizeRatio = this.getResizeRatio(width, height, settings);\n        if (resizeRatio !== 1) {\n            output.width = Math.round(width * resizeRatio);\n            output.height = settings.maintainAspectRatio\n                ? Math.round(output.width / settings.aspectRatio)\n                : Math.round(height * resizeRatio);\n            resizeCanvas(cropCanvas, output.width, output.height);\n        }\n        output.base64 = cropCanvas.toDataURL('image/' + settings.format, this.getQuality(settings));\n        return output;\n    }\n    /**\n     * @private\n     * @param {?} sourceImage\n     * @param {?} loadedImage\n     * @param {?} cropper\n     * @param {?} settings\n     * @return {?}\n     */\n    getImagePosition(sourceImage, loadedImage, cropper, settings) {\n        /** @type {?} */\n        const sourceImageElement = sourceImage.nativeElement;\n        /** @type {?} */\n        const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\n        /** @type {?} */\n        const out = {\n            x1: Math.round(cropper.x1 * ratio),\n            y1: Math.round(cropper.y1 * ratio),\n            x2: Math.round(cropper.x2 * ratio),\n            y2: Math.round(cropper.y2 * ratio)\n        };\n        if (!settings.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\n        }\n        return out;\n    }\n    /**\n     * @private\n     * @param {?} sourceImage\n     * @param {?} loadedImage\n     * @param {?} cropper\n     * @param {?} settings\n     * @return {?}\n     */\n    getOffsetImagePosition(sourceImage, loadedImage, cropper, settings) {\n        /** @type {?} */\n        const canvasRotation = settings.canvasRotation + loadedImage.exifTransform.rotate;\n        /** @type {?} */\n        const sourceImageElement = sourceImage.nativeElement;\n        /** @type {?} */\n        const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\n        /** @type {?} */\n        let offsetX;\n        /** @type {?} */\n        let offsetY;\n        if (canvasRotation % 2) {\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.height) / 2;\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.width) / 2;\n        }\n        else {\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.width) / 2;\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.height) / 2;\n        }\n        /** @type {?} */\n        const out = {\n            x1: Math.round(cropper.x1 * ratio) - offsetX,\n            y1: Math.round(cropper.y1 * ratio) - offsetY,\n            x2: Math.round(cropper.x2 * ratio) - offsetX,\n            y2: Math.round(cropper.y2 * ratio) - offsetY\n        };\n        if (!settings.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\n        }\n        return out;\n    }\n    /**\n     * @param {?} width\n     * @param {?} height\n     * @param {?} settings\n     * @return {?}\n     */\n    getResizeRatio(width, height, settings) {\n        /** @type {?} */\n        const ratioWidth = settings.resizeToWidth / width;\n        /** @type {?} */\n        const ratioHeight = settings.resizeToHeight / height;\n        /** @type {?} */\n        const ratios = new Array();\n        if (settings.resizeToWidth > 0) {\n            ratios.push(ratioWidth);\n        }\n        if (settings.resizeToHeight > 0) {\n            ratios.push(ratioHeight);\n        }\n        /** @type {?} */\n        const result = ratios.length === 0 ? 1 : Math.min(...ratios);\n        if (result > 1 && !settings.onlyScaleDown) {\n            return result;\n        }\n        return Math.min(result, 1);\n    }\n    /**\n     * @param {?} settings\n     * @return {?}\n     */\n    getQuality(settings) {\n        return Math.min(1, Math.max(0, settings.imageQuality / 100));\n    }\n}\nCropService.fac = function CropService_Factory(t) { return new (t || CropService)(); };\n/** @nocollapse */ CropService.prov = defineInjectable({ factory: function CropService_Factory() { return new CropService(); }, token: CropService, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(CropService, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/services/cropper-position.service.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass CropperPositionService {\n    /**\n     * @param {?} sourceImage\n     * @param {?} cropperPosition\n     * @param {?} settings\n     * @return {?}\n     */\n    resetCropperPosition(sourceImage, cropperPosition, settings) {\n        if (!(sourceImage === null || sourceImage === void 0 ? void 0 : sourceImage.nativeElement)) {\n            return;\n        }\n        /** @type {?} */\n        const sourceImageElement = sourceImage.nativeElement;\n        if (settings.cropperStaticHeight && settings.cropperStaticWidth) {\n            cropperPosition.x1 = 0;\n            cropperPosition.x2 = sourceImageElement.offsetWidth > settings.cropperStaticWidth ?\n                settings.cropperStaticWidth : sourceImageElement.offsetWidth;\n            cropperPosition.y1 = 0;\n            cropperPosition.y2 = sourceImageElement.offsetHeight > settings.cropperStaticHeight ?\n                settings.cropperStaticHeight : sourceImageElement.offsetHeight;\n        }\n        else {\n            /** @type {?} */\n            const cropperWidth = Math.min(settings.cropperScaledMaxWidth, sourceImageElement.offsetWidth);\n            /** @type {?} */\n            const cropperHeight = Math.min(settings.cropperScaledMaxHeight, sourceImageElement.offsetHeight);\n            if (!settings.maintainAspectRatio) {\n                cropperPosition.x1 = 0;\n                cropperPosition.x2 = cropperWidth;\n                cropperPosition.y1 = 0;\n                cropperPosition.y2 = cropperHeight;\n            }\n            else if (sourceImageElement.offsetWidth / settings.aspectRatio < sourceImageElement.offsetHeight) {\n                cropperPosition.x1 = 0;\n                cropperPosition.x2 = cropperWidth;\n                /** @type {?} */\n                const cropperHeightWithAspectRatio = cropperWidth / settings.aspectRatio;\n                cropperPosition.y1 = (sourceImageElement.offsetHeight - cropperHeightWithAspectRatio) / 2;\n                cropperPosition.y2 = cropperPosition.y1 + cropperHeightWithAspectRatio;\n            }\n            else {\n                cropperPosition.y1 = 0;\n                cropperPosition.y2 = cropperHeight;\n                /** @type {?} */\n                const cropperWidthWithAspectRatio = cropperHeight * settings.aspectRatio;\n                cropperPosition.x1 = (sourceImageElement.offsetWidth - cropperWidthWithAspectRatio) / 2;\n                cropperPosition.x2 = cropperPosition.x1 + cropperWidthWithAspectRatio;\n            }\n        }\n    }\n    /**\n     * @param {?} event\n     * @param {?} moveStart\n     * @param {?} cropperPosition\n     * @return {?}\n     */\n    move(event, moveStart, cropperPosition) {\n        /** @type {?} */\n        const diffX = this.getClientX(event) - moveStart.clientX;\n        /** @type {?} */\n        const diffY = this.getClientY(event) - moveStart.clientY;\n        cropperPosition.x1 = moveStart.x1 + diffX;\n        cropperPosition.y1 = moveStart.y1 + diffY;\n        cropperPosition.x2 = moveStart.x2 + diffX;\n        cropperPosition.y2 = moveStart.y2 + diffY;\n    }\n    /**\n     * @param {?} event\n     * @param {?} moveStart\n     * @param {?} cropperPosition\n     * @param {?} maxSize\n     * @param {?} settings\n     * @return {?}\n     */\n    resize(event, moveStart, cropperPosition, maxSize, settings) {\n        /** @type {?} */\n        const moveX = this.getClientX(event) - moveStart.clientX;\n        /** @type {?} */\n        const moveY = this.getClientY(event) - moveStart.clientY;\n        switch (moveStart.position) {\n            case 'left':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                break;\n            case 'topleft':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'top':\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'topright':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'right':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                break;\n            case 'bottomright':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'bottom':\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'bottomleft':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'center':\n                /** @type {?} */\n                const scale = event.scale;\n                /** @type {?} */\n                const newWidth = Math.min(Math.max(settings.cropperScaledMinWidth, (Math.abs(moveStart.x2 - moveStart.x1)) * scale), settings.cropperScaledMaxWidth);\n                /** @type {?} */\n                const newHeight = Math.min(Math.max(settings.cropperScaledMinHeight, (Math.abs(moveStart.y2 - moveStart.y1)) * scale), settings.cropperScaledMaxHeight);\n                cropperPosition.x1 = moveStart.clientX - newWidth / 2;\n                cropperPosition.x2 = moveStart.clientX + newWidth / 2;\n                cropperPosition.y1 = moveStart.clientY - newHeight / 2;\n                cropperPosition.y2 = moveStart.clientY + newHeight / 2;\n                if (cropperPosition.x1 < 0) {\n                    cropperPosition.x2 -= cropperPosition.x1;\n                    cropperPosition.x1 = 0;\n                }\n                else if (cropperPosition.x2 > maxSize.width) {\n                    cropperPosition.x1 -= (cropperPosition.x2 - maxSize.width);\n                    cropperPosition.x2 = maxSize.width;\n                }\n                if (cropperPosition.y1 < 0) {\n                    cropperPosition.y2 -= cropperPosition.y1;\n                    cropperPosition.y1 = 0;\n                }\n                else if (cropperPosition.y2 > maxSize.height) {\n                    cropperPosition.y1 -= (cropperPosition.y2 - maxSize.height);\n                    cropperPosition.y2 = maxSize.height;\n                }\n                break;\n        }\n        if (settings.maintainAspectRatio) {\n            this.checkAspectRatio(moveStart.position, cropperPosition, maxSize, settings);\n        }\n    }\n    /**\n     * @param {?} position\n     * @param {?} cropperPosition\n     * @param {?} maxSize\n     * @param {?} settings\n     * @return {?}\n     */\n    checkAspectRatio(position, cropperPosition, maxSize, settings) {\n        /** @type {?} */\n        let overflowX = 0;\n        /** @type {?} */\n        let overflowY = 0;\n        switch (position) {\n            case 'top':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'bottom':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : (overflowX / settings.aspectRatio);\n                }\n                break;\n            case 'topleft':\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'topright':\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'right':\n            case 'bottomright':\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'left':\n            case 'bottomleft':\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'center':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                /** @type {?} */\n                const overflowX1 = Math.max(0 - cropperPosition.x1, 0);\n                /** @type {?} */\n                const overflowX2 = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                /** @type {?} */\n                const overflowY1 = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                /** @type {?} */\n                const overflowY2 = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX1 > 0 || overflowX2 > 0 || overflowY1 > 0 || overflowY2 > 0) {\n                    cropperPosition.x1 += (overflowY1 * settings.aspectRatio) > overflowX1 ? (overflowY1 * settings.aspectRatio) : overflowX1;\n                    cropperPosition.x2 -= (overflowY2 * settings.aspectRatio) > overflowX2 ? (overflowY2 * settings.aspectRatio) : overflowX2;\n                    cropperPosition.y1 += (overflowY2 * settings.aspectRatio) > overflowX2 ? overflowY2 : overflowX2 / settings.aspectRatio;\n                    cropperPosition.y2 -= (overflowY1 * settings.aspectRatio) > overflowX1 ? overflowY1 : overflowX1 / settings.aspectRatio;\n                }\n                break;\n        }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    getClientX(event) {\n        var _a;\n        return ((_a = event.touches) === null || _a === void 0 ? void 0 : _a[0].clientX) || event.clientX || 0;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    getClientY(event) {\n        var _a;\n        return ((_a = event.touches) === null || _a === void 0 ? void 0 : _a[0].clientY) || event.clientY || 0;\n    }\n}\nCropperPositionService.fac = function CropperPositionService_Factory(t) { return new (t || CropperPositionService)(); };\n/** @nocollapse */ CropperPositionService.prov = defineInjectable({ factory: function CropperPositionService_Factory() { return new CropperPositionService(); }, token: CropperPositionService, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(CropperPositionService, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/utils/exif.utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n// Black 2x1 JPEG, with the following meta information set:\n// - EXIF Orientation: 6 (Rotated 90 CCW)\n// Source: https://github.com/blueimp/JavaScript-Load-Image\n/** @type {?} */\nconst testAutoOrientationImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n    'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n    'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n    'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\n    'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\n    'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\n/**\n * @return {?}\n */\nfunction supportsAutomaticRotation() {\n    return new Promise((/**\n     * @param {?} resolve\n     * @return {?}\n     */\n    (resolve) => {\n        /** @type {?} */\n        const img = new Image();\n        img.onload = (/**\n         * @return {?}\n         */\n        () => {\n            // Check if browser supports automatic image orientation:\n            /** @type {?} */\n            const supported = img.width === 1 && img.height === 2;\n            resolve(supported);\n        });\n        img.src = testAutoOrientationImageURL;\n    }));\n}\n/**\n * @param {?} exifRotationOrBase64Image\n * @return {?}\n */\nfunction getTransformationsFromExifData(exifRotationOrBase64Image) {\n    if (typeof exifRotationOrBase64Image === 'string') {\n        exifRotationOrBase64Image = getExifRotation(exifRotationOrBase64Image);\n    }\n    switch (exifRotationOrBase64Image) {\n        case 2:\n            return { rotate: 0, flip: true };\n        case 3:\n            return { rotate: 2, flip: false };\n        case 4:\n            return { rotate: 2, flip: true };\n        case 5:\n            return { rotate: 1, flip: true };\n        case 6:\n            return { rotate: 1, flip: false };\n        case 7:\n            return { rotate: 3, flip: true };\n        case 8:\n            return { rotate: 3, flip: false };\n        default:\n            return { rotate: 0, flip: false };\n    }\n}\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nfunction getExifRotation(imageBase64) {\n    /** @type {?} */\n    const view = new DataView(base64ToArrayBuffer(imageBase64));\n    if (view.getUint16(0, false) !== 0xFFD8) {\n        return -2;\n    }\n    /** @type {?} */\n    const length = view.byteLength;\n    /** @type {?} */\n    let offset = 2;\n    while (offset < length) {\n        if (view.getUint16(offset + 2, false) <= 8)\n            return -1;\n        /** @type {?} */\n        const marker = view.getUint16(offset, false);\n        offset += 2;\n        if (marker == 0xFFE1) {\n            if (view.getUint32(offset += 2, false) !== 0x45786966) {\n                return -1;\n            }\n            /** @type {?} */\n            const little = view.getUint16(offset += 6, false) == 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            /** @type {?} */\n            const tags = view.getUint16(offset, little);\n            offset += 2;\n            for (let i = 0; i < tags; i++) {\n                if (view.getUint16(offset + (i * 12), little) == 0x0112) {\n                    return view.getUint16(offset + (i * 12) + 8, little);\n                }\n            }\n        }\n        else if ((marker & 0xFF00) !== 0xFF00) {\n            break;\n        }\n        else {\n            offset += view.getUint16(offset, false);\n        }\n    }\n    return -1;\n}\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nfunction base64ToArrayBuffer(imageBase64) {\n    imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n    /** @type {?} */\n    const binaryString = atob(imageBase64);\n    /** @type {?} */\n    const len = binaryString.length;\n    /** @type {?} */\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes.buffer;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/services/load-image.service.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction LoadImageBase64() { }\nif (false) {\n    /** @type {?} */\n    LoadImageBase64.prototype.originalImage;\n    /** @type {?} */\n    LoadImageBase64.prototype.originalBase64;\n}\nclass LoadImageService {\n    constructor() {\n        this.autoRotateSupported = supportsAutomaticRotation();\n    }\n    /**\n     * @param {?} file\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    loadImageFile(file, cropperSettings) {\n        return new Promise((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        (resolve, reject) => {\n            /** @type {?} */\n            const fileReader = new FileReader();\n            fileReader.onload = (/**\n             * @param {?} event\n             * @return {?}\n             */\n            (event) => {\n                this.loadImage(event.target.result, file.type, cropperSettings)\n                    .then(resolve)\n                    .catch(reject);\n            });\n            fileReader.readAsDataURL(file);\n        }));\n    }\n    /**\n     * @private\n     * @param {?} imageBase64\n     * @param {?} imageType\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    loadImage(imageBase64, imageType, cropperSettings) {\n        if (!this.isValidImageType(imageType)) {\n            return Promise.reject(new Error('Invalid image type'));\n        }\n        return this.loadBase64Image(imageBase64, cropperSettings);\n    }\n    /**\n     * @private\n     * @param {?} type\n     * @return {?}\n     */\n    isValidImageType(type) {\n        return /image\\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(type);\n    }\n    /**\n     * @param {?} url\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    loadImageFromURL(url, cropperSettings) {\n        return new Promise((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        (resolve, reject) => {\n            /** @type {?} */\n            const img = new Image();\n            img.onerror = (/**\n             * @return {?}\n             */\n            () => reject);\n            img.onload = (/**\n             * @return {?}\n             */\n            () => {\n                /** @type {?} */\n                const canvas = document.createElement('canvas');\n                /** @type {?} */\n                const context = canvas.getContext('2d');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                context.drawImage(img, 0, 0);\n                this.loadBase64Image(canvas.toDataURL(), cropperSettings).then(resolve);\n            });\n            img.crossOrigin = 'anonymous';\n            img.src = url;\n        }));\n    }\n    /**\n     * @param {?} imageBase64\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    loadBase64Image(imageBase64, cropperSettings) {\n        return new Promise((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        (resolve, reject) => {\n            /** @type {?} */\n            const originalImage = new Image();\n            originalImage.onload = (/**\n             * @return {?}\n             */\n            () => resolve({\n                originalImage,\n                originalBase64: imageBase64\n            }));\n            originalImage.onerror = reject;\n            originalImage.src = imageBase64;\n        })).then((/**\n         * @param {?} res\n         * @return {?}\n         */\n        (res) => this.transformImageBase64(res, cropperSettings)));\n    }\n    /**\n     * @private\n     * @param {?} res\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    transformImageBase64(res, cropperSettings) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {?} */\n            const autoRotate = yield this.autoRotateSupported;\n            /** @type {?} */\n            const exifTransform = yield getTransformationsFromExifData(autoRotate ? -1 : res.originalBase64);\n            if (!res.originalImage || !res.originalImage.complete) {\n                return Promise.reject(new Error('No image loaded'));\n            }\n            /** @type {?} */\n            const loadedImage = {\n                original: {\n                    base64: res.originalBase64,\n                    image: res.originalImage,\n                    size: {\n                        width: res.originalImage.naturalWidth,\n                        height: res.originalImage.naturalHeight\n                    }\n                },\n                exifTransform\n            };\n            return this.transformLoadedImage(loadedImage, cropperSettings);\n        });\n    }\n    /**\n     * @param {?} loadedImage\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    transformLoadedImage(loadedImage, cropperSettings) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {?} */\n            const canvasRotation = cropperSettings.canvasRotation + loadedImage.exifTransform.rotate;\n            /** @type {?} */\n            const originalSize = {\n                width: loadedImage.original.image.naturalWidth,\n                height: loadedImage.original.image.naturalHeight\n            };\n            if (canvasRotation === 0 && !loadedImage.exifTransform.flip && !cropperSettings.containWithinAspectRatio) {\n                return {\n                    original: {\n                        base64: loadedImage.original.base64,\n                        image: loadedImage.original.image,\n                        size: Object.assign({}, originalSize)\n                    },\n                    transformed: {\n                        base64: loadedImage.original.base64,\n                        image: loadedImage.original.image,\n                        size: Object.assign({}, originalSize)\n                    },\n                    exifTransform: loadedImage.exifTransform\n                };\n            }\n            /** @type {?} */\n            const transformedSize = this.getTransformedSize(originalSize, loadedImage.exifTransform, cropperSettings);\n            /** @type {?} */\n            const canvas = document.createElement('canvas');\n            canvas.width = transformedSize.width;\n            canvas.height = transformedSize.height;\n            /** @type {?} */\n            const ctx = canvas.getContext('2d');\n            ctx.setTransform(loadedImage.exifTransform.flip ? -1 : 1, 0, 0, 1, canvas.width / 2, canvas.height / 2);\n            ctx.rotate(Math.PI * (canvasRotation / 2));\n            ctx.drawImage(loadedImage.original.image, -originalSize.width / 2, -originalSize.height / 2);\n            /** @type {?} */\n            const transformedBase64 = canvas.toDataURL();\n            /** @type {?} */\n            const transformedImage = yield this.loadImageFromBase64(transformedBase64);\n            return {\n                original: {\n                    base64: loadedImage.original.base64,\n                    image: loadedImage.original.image,\n                    size: Object.assign({}, originalSize)\n                },\n                transformed: {\n                    base64: transformedBase64,\n                    image: transformedImage,\n                    size: {\n                        width: transformedImage.width,\n                        height: transformedImage.height\n                    }\n                },\n                exifTransform: loadedImage.exifTransform\n            };\n        });\n    }\n    /**\n     * @private\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    loadImageFromBase64(imageBase64) {\n        return new Promise(((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        (resolve, reject) => {\n            /** @type {?} */\n            const image = new Image();\n            image.onload = (/**\n             * @return {?}\n             */\n            () => resolve(image));\n            image.onerror = reject;\n            image.src = imageBase64;\n        })));\n    }\n    /**\n     * @private\n     * @param {?} originalSize\n     * @param {?} exifTransform\n     * @param {?} cropperSettings\n     * @return {?}\n     */\n    getTransformedSize(originalSize, exifTransform, cropperSettings) {\n        /** @type {?} */\n        const canvasRotation = cropperSettings.canvasRotation + exifTransform.rotate;\n        if (cropperSettings.containWithinAspectRatio) {\n            if (canvasRotation % 2) {\n                /** @type {?} */\n                const minWidthToContain = originalSize.width * cropperSettings.aspectRatio;\n                /** @type {?} */\n                const minHeightToContain = originalSize.height / cropperSettings.aspectRatio;\n                return {\n                    width: Math.max(originalSize.height, minWidthToContain),\n                    height: Math.max(originalSize.width, minHeightToContain)\n                };\n            }\n            else {\n                /** @type {?} */\n                const minWidthToContain = originalSize.height * cropperSettings.aspectRatio;\n                /** @type {?} */\n                const minHeightToContain = originalSize.width / cropperSettings.aspectRatio;\n                return {\n                    width: Math.max(originalSize.width, minWidthToContain),\n                    height: Math.max(originalSize.height, minHeightToContain)\n                };\n            }\n        }\n        if (canvasRotation % 2) {\n            return {\n                height: originalSize.width,\n                width: originalSize.height\n            };\n        }\n        return {\n            width: originalSize.width,\n            height: originalSize.height\n        };\n    }\n}\nLoadImageService.fac = function LoadImageService_Factory(t) { return new (t || LoadImageService)(); };\n/** @nocollapse */ LoadImageService.prov = defineInjectable({ factory: function LoadImageService_Factory() { return new LoadImageService(); }, token: LoadImageService, providedIn: \"root\" });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(LoadImageService, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return []; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    LoadImageService.prototype.autoRotateSupported;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/utils/keyboard.utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} key\n * @return {?}\n */\nfunction getPositionForKey(key) {\n    switch (key) {\n        case 'ArrowUp':\n            return 'top';\n        case 'ArrowRight':\n            return 'right';\n        case 'ArrowDown':\n            return 'bottom';\n        case 'ArrowLeft':\n        default:\n            return 'left';\n    }\n}\n/**\n * @param {?} key\n * @return {?}\n */\nfunction getInvertedPositionForKey(key) {\n    switch (key) {\n        case 'ArrowUp':\n            return 'bottom';\n        case 'ArrowRight':\n            return 'left';\n        case 'ArrowDown':\n            return 'top';\n        case 'ArrowLeft':\n        default:\n            return 'right';\n    }\n}\n/**\n * @param {?} key\n * @param {?} stepSize\n * @return {?}\n */\nfunction getEventForKey(key, stepSize) {\n    switch (key) {\n        case 'ArrowUp':\n            return { clientX: 0, clientY: stepSize * -1 };\n        case 'ArrowRight':\n            return { clientX: stepSize, clientY: 0 };\n        case 'ArrowDown':\n            return { clientX: 0, clientY: stepSize };\n        case 'ArrowLeft':\n        default:\n            return { clientX: stepSize * -1, clientY: 0 };\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/component/image-cropper.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ImageCropperComponent {\n    /**\n     * @param {?} cropService\n     * @param {?} cropperPositionService\n     * @param {?} loadImageService\n     * @param {?} sanitizer\n     * @param {?} cd\n     */\n    constructor(cropService, cropperPositionService, loadImageService, sanitizer, cd) {\n        this.cropService = cropService;\n        this.cropperPositionService = cropperPositionService;\n        this.loadImageService = loadImageService;\n        this.sanitizer = sanitizer;\n        this.cd = cd;\n        this.Hammer = (window === null || window === void 0 ? void 0 : window['Hammer']) || null;\n        this.settings = new CropperSettings();\n        this.setImageMaxSizeRetries = 0;\n        this.marginLeft = '0px';\n        this.moveTypes = MoveTypes;\n        this.imageVisible = false;\n        this.format = this.settings.format;\n        this.transform = {};\n        this.maintainAspectRatio = this.settings.maintainAspectRatio;\n        this.aspectRatio = this.settings.aspectRatio;\n        this.resizeToWidth = this.settings.resizeToWidth;\n        this.resizeToHeight = this.settings.resizeToHeight;\n        this.cropperMinWidth = this.settings.cropperMinWidth;\n        this.cropperMinHeight = this.settings.cropperMinHeight;\n        this.cropperMaxHeight = this.settings.cropperMaxHeight;\n        this.cropperMaxWidth = this.settings.cropperMaxWidth;\n        this.cropperStaticWidth = this.settings.cropperStaticWidth;\n        this.cropperStaticHeight = this.settings.cropperStaticHeight;\n        this.canvasRotation = this.settings.canvasRotation;\n        this.initialStepSize = this.settings.initialStepSize;\n        this.roundCropper = this.settings.roundCropper;\n        this.onlyScaleDown = this.settings.onlyScaleDown;\n        this.imageQuality = this.settings.imageQuality;\n        this.autoCrop = this.settings.autoCrop;\n        this.backgroundColor = this.settings.backgroundColor;\n        this.containWithinAspectRatio = this.settings.containWithinAspectRatio;\n        this.hideResizeSquares = this.settings.hideResizeSquares;\n        this.cropper = {\n            x1: -100,\n            y1: -100,\n            x2: 10000,\n            y2: 10000\n        };\n        this.alignImage = this.settings.alignImage;\n        this.disabled = false;\n        this.imageCropped = new EventEmitter();\n        this.startCropImage = new EventEmitter();\n        this.imageLoaded = new EventEmitter();\n        this.cropperReady = new EventEmitter();\n        this.loadImageFailed = new EventEmitter();\n        this.reset();\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        var _a;\n        this.onChangesUpdateSettings(changes);\n        this.onChangesInputImage(changes);\n        if (((_a = this.loadedImage) === null || _a === void 0 ? void 0 : _a.original.image.complete) && (changes.containWithinAspectRatio || changes.canvasRotation)) {\n            this.loadImageService\n                .transformLoadedImage(this.loadedImage, this.settings)\n                .then((/**\n             * @param {?} res\n             * @return {?}\n             */\n            (res) => this.setLoadedImage(res)))\n                .catch((/**\n             * @param {?} err\n             * @return {?}\n             */\n            (err) => this.loadImageError(err)));\n        }\n        if (changes.cropper || changes.maintainAspectRatio || changes.aspectRatio) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.setCropperScaledMaxSize();\n            if (this.maintainAspectRatio && (changes.maintainAspectRatio || changes.aspectRatio)) {\n                this.resetCropperPosition();\n            }\n            else if (changes.cropper) {\n                this.checkCropperPosition(false);\n                this.doAutoCrop();\n            }\n            this.cd.markForCheck();\n        }\n        if (changes.transform) {\n            this.transform = this.transform || {};\n            this.setCssTransform();\n            this.doAutoCrop();\n        }\n    }\n    /**\n     * @private\n     * @param {?} changes\n     * @return {?}\n     */\n    onChangesUpdateSettings(changes) {\n        this.settings.setOptionsFromChanges(changes);\n        if (this.settings.cropperStaticHeight && this.settings.cropperStaticWidth) {\n            this.settings.setOptions({\n                hideResizeSquares: true,\n                cropperMinWidth: this.settings.cropperStaticWidth,\n                cropperMinHeight: this.settings.cropperStaticHeight,\n                cropperMaxHeight: this.settings.cropperStaticHeight,\n                cropperMaxWidth: this.settings.cropperStaticWidth,\n                maintainAspectRatio: false\n            });\n        }\n    }\n    /**\n     * @private\n     * @param {?} changes\n     * @return {?}\n     */\n    onChangesInputImage(changes) {\n        if (changes.imageChangedEvent || changes.imageURL || changes.imageBase64 || changes.imageFile) {\n            this.reset();\n        }\n        if (changes.imageChangedEvent && this.isValidImageChangedEvent()) {\n            this.loadImageFile(this.imageChangedEvent.target.files[0]);\n        }\n        if (changes.imageURL && this.imageURL) {\n            this.loadImageFromURL(this.imageURL);\n        }\n        if (changes.imageBase64 && this.imageBase64) {\n            this.loadBase64Image(this.imageBase64);\n        }\n        if (changes.imageFile && this.imageFile) {\n            this.loadImageFile(this.imageFile);\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    isValidImageChangedEvent() {\n        var _a, _b, _c;\n        return ((_c = (_b = (_a = this.imageChangedEvent) === null || _a === void 0 ? void 0 : _a.target) === null || _b === void 0 ? void 0 : _b.files) === null || _c === void 0 ? void 0 : _c.length) > 0;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCssTransform() {\n        this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle('scaleX(' + (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1) + ')' +\n            'scaleY(' + (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1) + ')' +\n            'rotate(' + (this.transform.rotate || 0) + 'deg)');\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.settings.stepSize = this.initialStepSize;\n        this.activatePinchGesture();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    reset() {\n        this.imageVisible = false;\n        this.loadedImage = null;\n        this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\n            + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\n            + 'AAarVyFEAAAAASUVORK5CYII=';\n        this.moveStart = {\n            active: false,\n            type: null,\n            position: null,\n            x1: 0,\n            y1: 0,\n            x2: 0,\n            y2: 0,\n            clientX: 0,\n            clientY: 0\n        };\n        this.maxSize = {\n            width: 0,\n            height: 0\n        };\n        this.cropper.x1 = -100;\n        this.cropper.y1 = -100;\n        this.cropper.x2 = 10000;\n        this.cropper.y2 = 10000;\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n    loadImageFile(file) {\n        this.loadImageService\n            .loadImageFile(file, this.settings)\n            .then((/**\n         * @param {?} res\n         * @return {?}\n         */\n        (res) => this.setLoadedImage(res)))\n            .catch((/**\n         * @param {?} err\n         * @return {?}\n         */\n        (err) => this.loadImageError(err)));\n    }\n    /**\n     * @private\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    loadBase64Image(imageBase64) {\n        this.loadImageService\n            .loadBase64Image(imageBase64, this.settings)\n            .then((/**\n         * @param {?} res\n         * @return {?}\n         */\n        (res) => this.setLoadedImage(res)))\n            .catch((/**\n         * @param {?} err\n         * @return {?}\n         */\n        (err) => this.loadImageError(err)));\n    }\n    /**\n     * @private\n     * @param {?} url\n     * @return {?}\n     */\n    loadImageFromURL(url) {\n        this.loadImageService\n            .loadImageFromURL(url, this.settings)\n            .then((/**\n         * @param {?} res\n         * @return {?}\n         */\n        (res) => this.setLoadedImage(res)))\n            .catch((/**\n         * @param {?} err\n         * @return {?}\n         */\n        (err) => this.loadImageError(err)));\n    }\n    /**\n     * @private\n     * @param {?} loadedImage\n     * @return {?}\n     */\n    setLoadedImage(loadedImage) {\n        this.loadedImage = loadedImage;\n        this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(loadedImage.transformed.base64);\n        this.cd.markForCheck();\n    }\n    /**\n     * @private\n     * @param {?} error\n     * @return {?}\n     */\n    loadImageError(error) {\n        console.error(error);\n        this.loadImageFailed.emit();\n    }\n    /**\n     * @return {?}\n     */\n    imageLoadedInView() {\n        if (this.loadedImage != null) {\n            this.imageLoaded.emit(this.loadedImage);\n            this.setImageMaxSizeRetries = 0;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => this.checkImageMaxSizeRecursively()));\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    checkImageMaxSizeRecursively() {\n        if (this.setImageMaxSizeRetries > 40) {\n            this.loadImageFailed.emit();\n        }\n        else if (this.sourceImageLoaded()) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.setCropperScaledMaxSize();\n            this.resetCropperPosition();\n            this.cropperReady.emit(Object.assign({}, this.maxSize));\n            this.cd.markForCheck();\n        }\n        else {\n            this.setImageMaxSizeRetries++;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => this.checkImageMaxSizeRecursively()), 50);\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    sourceImageLoaded() {\n        var _a, _b;\n        return ((_b = (_a = this.sourceImage) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.offsetWidth) > 0;\n    }\n    /**\n     * @return {?}\n     */\n    onResize() {\n        if (!this.loadedImage) {\n            return;\n        }\n        this.resizeCropperPosition();\n        this.setMaxSize();\n        this.setCropperScaledMinSize();\n        this.setCropperScaledMaxSize();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    activatePinchGesture() {\n        if (this.Hammer) {\n            /** @type {?} */\n            const hammer = new this.Hammer(this.wrapper.nativeElement);\n            hammer.get('pinch').set({ enable: true });\n            hammer.on('pinchmove', this.onPinch.bind(this));\n            hammer.on('pinchend', this.pinchStop.bind(this));\n            hammer.on('pinchstart', this.startPinch.bind(this));\n        }\n        else if (isDevMode()) {\n            console.warn('[NgxImageCropper] Could not find HammerJS - Pinch Gesture won\\'t work');\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    resizeCropperPosition() {\n        /** @type {?} */\n        const sourceImageElement = this.sourceImage.nativeElement;\n        if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\n            this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\n            this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    resetCropperPosition() {\n        this.cropperPositionService.resetCropperPosition(this.sourceImage, this.cropper, this.settings);\n        this.doAutoCrop();\n        this.imageVisible = true;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    keyboardAccess(event) {\n        this.changeKeyboardStepSize(event);\n        this.keyboardMoveCropper(event);\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    changeKeyboardStepSize(event) {\n        /** @type {?} */\n        const key = +event.key;\n        if (key >= 1 && key <= 9) {\n            this.settings.stepSize = key;\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    keyboardMoveCropper(event) {\n        /** @type {?} */\n        const keyboardWhiteList = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\n        if (!(keyboardWhiteList.includes(event.key))) {\n            return;\n        }\n        /** @type {?} */\n        const moveType = event.shiftKey ? MoveTypes.Resize : MoveTypes.Move;\n        /** @type {?} */\n        const position = event.altKey ? getInvertedPositionForKey(event.key) : getPositionForKey(event.key);\n        /** @type {?} */\n        const moveEvent = getEventForKey(event.key, this.settings.stepSize);\n        event.preventDefault();\n        event.stopPropagation();\n        this.startMove({ clientX: 0, clientY: 0 }, moveType, position);\n        this.moveImg(moveEvent);\n        this.moveStop();\n    }\n    /**\n     * @param {?} event\n     * @param {?} moveType\n     * @param {?=} position\n     * @return {?}\n     */\n    startMove(event, moveType, position = null) {\n        var _a, _b;\n        if (((_a = this.moveStart) === null || _a === void 0 ? void 0 : _a.active) && ((_b = this.moveStart) === null || _b === void 0 ? void 0 : _b.type) === MoveTypes.Pinch) {\n            return;\n        }\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = Object.assign({ active: true, type: moveType, position, clientX: this.cropperPositionService.getClientX(event), clientY: this.cropperPositionService.getClientY(event) }, this.cropper);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    startPinch(event) {\n        if (!this.safeImgDataUrl) {\n            return;\n        }\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = Object.assign({ active: true, type: MoveTypes.Pinch, position: 'center', clientX: this.cropper.x1 + (this.cropper.x2 - this.cropper.x1) / 2, clientY: this.cropper.y1 + (this.cropper.y2 - this.cropper.y1) / 2 }, this.cropper);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    moveImg(event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === MoveTypes.Move) {\n                this.cropperPositionService.move(event, this.moveStart, this.cropper);\n                this.checkCropperPosition(true);\n            }\n            else if (this.moveStart.type === MoveTypes.Resize) {\n                if (!this.cropperStaticWidth && !this.cropperStaticHeight) {\n                    this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\n                }\n                this.checkCropperPosition(false);\n            }\n            this.cd.detectChanges();\n        }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onPinch(event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === MoveTypes.Pinch) {\n                this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\n                this.checkCropperPosition(false);\n            }\n            this.cd.detectChanges();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setMaxSize() {\n        if (this.sourceImage) {\n            /** @type {?} */\n            const sourceImageElement = this.sourceImage.nativeElement;\n            this.maxSize.width = sourceImageElement.offsetWidth;\n            this.maxSize.height = sourceImageElement.offsetHeight;\n            this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMinSize() {\n        var _a, _b;\n        if ((_b = (_a = this.loadedImage) === null || _a === void 0 ? void 0 : _a.transformed) === null || _b === void 0 ? void 0 : _b.image) {\n            this.setCropperScaledMinWidth();\n            this.setCropperScaledMinHeight();\n        }\n        else {\n            this.settings.cropperScaledMinWidth = 20;\n            this.settings.cropperScaledMinHeight = 20;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMinWidth() {\n        this.settings.cropperScaledMinWidth = this.cropperMinWidth > 0\n            ? Math.max(20, this.cropperMinWidth / this.loadedImage.transformed.image.width * this.maxSize.width)\n            : 20;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMinHeight() {\n        if (this.maintainAspectRatio) {\n            this.settings.cropperScaledMinHeight = Math.max(20, this.settings.cropperScaledMinWidth / this.aspectRatio);\n        }\n        else if (this.cropperMinHeight > 0) {\n            this.settings.cropperScaledMinHeight = Math.max(20, this.cropperMinHeight / this.loadedImage.transformed.image.height * this.maxSize.height);\n        }\n        else {\n            this.settings.cropperScaledMinHeight = 20;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMaxSize() {\n        var _a, _b;\n        if ((_b = (_a = this.loadedImage) === null || _a === void 0 ? void 0 : _a.transformed) === null || _b === void 0 ? void 0 : _b.image) {\n            /** @type {?} */\n            const ratio = this.loadedImage.transformed.size.width / this.maxSize.width;\n            this.settings.cropperScaledMaxWidth = this.cropperMaxWidth > 20 ? this.cropperMaxWidth / ratio : this.maxSize.width;\n            this.settings.cropperScaledMaxHeight = this.cropperMaxHeight > 20 ? this.cropperMaxHeight / ratio : this.maxSize.height;\n            if (this.maintainAspectRatio) {\n                if (this.settings.cropperScaledMaxWidth > this.settings.cropperScaledMaxHeight * this.aspectRatio) {\n                    this.settings.cropperScaledMaxWidth = this.settings.cropperScaledMaxHeight * this.aspectRatio;\n                }\n                else if (this.settings.cropperScaledMaxWidth < this.settings.cropperScaledMaxHeight * this.aspectRatio) {\n                    this.settings.cropperScaledMaxHeight = this.settings.cropperScaledMaxWidth / this.aspectRatio;\n                }\n            }\n        }\n        else {\n            this.settings.cropperScaledMaxWidth = this.maxSize.width;\n            this.settings.cropperScaledMaxHeight = this.maxSize.height;\n        }\n    }\n    /**\n     * @private\n     * @param {?=} maintainSize\n     * @return {?}\n     */\n    checkCropperPosition(maintainSize = false) {\n        if (this.cropper.x1 < 0) {\n            this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\n            this.cropper.x1 = 0;\n        }\n        if (this.cropper.y1 < 0) {\n            this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\n            this.cropper.y1 = 0;\n        }\n        if (this.cropper.x2 > this.maxSize.width) {\n            this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\n            this.cropper.x2 = this.maxSize.width;\n        }\n        if (this.cropper.y2 > this.maxSize.height) {\n            this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\n            this.cropper.y2 = this.maxSize.height;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    moveStop() {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.doAutoCrop();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    pinchStop() {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.doAutoCrop();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    doAutoCrop() {\n        if (this.autoCrop) {\n            this.crop();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    crop() {\n        var _a, _b;\n        if (((_b = (_a = this.loadedImage) === null || _a === void 0 ? void 0 : _a.transformed) === null || _b === void 0 ? void 0 : _b.image) != null) {\n            this.startCropImage.emit();\n            /** @type {?} */\n            const output = this.cropService.crop(this.sourceImage, this.loadedImage, this.cropper, this.settings);\n            if (output != null) {\n                this.imageCropped.emit(output);\n            }\n            return output;\n        }\n        return null;\n    }\n}\nImageCropperComponent.fac = function ImageCropperComponent_Factory(t) { return new (t || ImageCropperComponent)(ngcc0.directiveInject(CropService), ngcc0.directiveInject(CropperPositionService), ngcc0.directiveInject(LoadImageService), ngcc0.directiveInject(ngcc1.DomSanitizer), ngcc0.directiveInject(ngcc0.ChangeDetectorRef)); };\nImageCropperComponent.cmp = ngcc0.defineComponent({ type: ImageCropperComponent, selectors: [[\"image-cropper\"]], viewQuery: function ImageCropperComponent_Query(rf, ctx) { if (rf & 1) {\n        ngcc0.staticViewQuery(_c0, true);\n        ngcc0.viewQuery(_c1, true);\n    } if (rf & 2) {\n        var _t;\n        ngcc0.queryRefresh(_t = ngcc0.loadQuery()) && (ctx.wrapper = _t.first);\n        ngcc0.queryRefresh(_t = ngcc0.loadQuery()) && (ctx.sourceImage = _t.first);\n    } }, hostVars: 4, hostBindings: function ImageCropperComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ngcc0.listener(\"resize\", function ImageCropperComponent_resize_HostBindingHandler() { return ctx.onResize(); }, false, ngcc0.resolveWindow)(\"mousemove\", function ImageCropperComponent_mousemove_HostBindingHandler($event) { return ctx.moveImg($event); }, false, ngcc0.resolveDocument)(\"touchmove\", function ImageCropperComponent_touchmove_HostBindingHandler($event) { return ctx.moveImg($event); }, false, ngcc0.resolveDocument)(\"mouseup\", function ImageCropperComponent_mouseup_HostBindingHandler() { return ctx.moveStop(); }, false, ngcc0.resolveDocument)(\"touchend\", function ImageCropperComponent_touchend_HostBindingHandler() { return ctx.moveStop(); }, false, ngcc0.resolveDocument);\n    } if (rf & 2) {\n        ngcc0.styleProp(\"text-align\", ctx.alignImage);\n        ngcc0.classProp(\"disabled\", ctx.disabled);\n    } }, inputs: { format: \"format\", transform: \"transform\", maintainAspectRatio: \"maintainAspectRatio\", aspectRatio: \"aspectRatio\", resizeToWidth: \"resizeToWidth\", resizeToHeight: \"resizeToHeight\", cropperMinWidth: \"cropperMinWidth\", cropperMinHeight: \"cropperMinHeight\", cropperMaxHeight: \"cropperMaxHeight\", cropperMaxWidth: \"cropperMaxWidth\", cropperStaticWidth: \"cropperStaticWidth\", cropperStaticHeight: \"cropperStaticHeight\", canvasRotation: \"canvasRotation\", initialStepSize: \"initialStepSize\", roundCropper: \"roundCropper\", onlyScaleDown: \"onlyScaleDown\", imageQuality: \"imageQuality\", autoCrop: \"autoCrop\", backgroundColor: \"backgroundColor\", containWithinAspectRatio: \"containWithinAspectRatio\", hideResizeSquares: \"hideResizeSquares\", cropper: \"cropper\", alignImage: \"alignImage\", disabled: \"disabled\", imageChangedEvent: \"imageChangedEvent\", imageURL: \"imageURL\", imageBase64: \"imageBase64\", imageFile: \"imageFile\" }, outputs: { imageCropped: \"imageCropped\", startCropImage: \"startCropImage\", imageLoaded: \"imageLoaded\", cropperReady: \"cropperReady\", loadImageFailed: \"loadImageFailed\" }, features: [ngcc0.NgOnChangesFeature], decls: 5, vars: 10, consts: [[\"wrapper\", \"\"], [\"class\", \"ngx-ic-source-image\", 3, \"src\", \"visibility\", \"transform\", \"load\", 4, \"ngIf\"], [1, \"ngx-ic-overlay\"], [\"class\", \"ngx-ic-cropper\", \"tabindex\", \"0\", 3, \"ngx-ic-round\", \"top\", \"left\", \"width\", \"height\", \"margin-left\", \"visibility\", \"keydown\", 4, \"ngIf\"], [1, \"ngx-ic-source-image\", 3, \"src\", \"load\"], [\"sourceImage\", \"\"], [\"tabindex\", \"0\", 1, \"ngx-ic-cropper\", 3, \"keydown\"], [1, \"ngx-ic-move\", 3, \"mousedown\", \"touchstart\"], [4, \"ngIf\"], [1, \"ngx-ic-resize\", \"ngx-ic-topleft\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-square\"], [1, \"ngx-ic-resize\", \"ngx-ic-top\"], [1, \"ngx-ic-resize\", \"ngx-ic-topright\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize\", \"ngx-ic-right\"], [1, \"ngx-ic-resize\", \"ngx-ic-bottomright\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize\", \"ngx-ic-bottom\"], [1, \"ngx-ic-resize\", \"ngx-ic-bottomleft\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize\", \"ngx-ic-left\"], [1, \"ngx-ic-resize-bar\", \"ngx-ic-top\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize-bar\", \"ngx-ic-right\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize-bar\", \"ngx-ic-bottom\", 3, \"mousedown\", \"touchstart\"], [1, \"ngx-ic-resize-bar\", \"ngx-ic-left\", 3, \"mousedown\", \"touchstart\"]], template: function ImageCropperComponent_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.elementStart(0, \"div\", null, 0);\n        ngcc0.template(2, ImageCropperComponent_img_2_Template, 2, 5, \"img\", 1);\n        ngcc0.element(3, \"div\", 2);\n        ngcc0.template(4, ImageCropperComponent_div_4_Template, 3, 15, \"div\", 3);\n        ngcc0.elementEnd();\n    } if (rf & 2) {\n        ngcc0.styleProp(\"background\", ctx.imageVisible && ctx.backgroundColor);\n        ngcc0.advance(2);\n        ngcc0.property(\"ngIf\", ctx.safeImgDataUrl);\n        ngcc0.advance(1);\n        ngcc0.styleProp(\"width\", ctx.maxSize.width, \"px\")(\"height\", ctx.maxSize.height, \"px\")(\"margin-left\", ctx.alignImage === \"center\" ? ctx.marginLeft : null);\n        ngcc0.advance(1);\n        ngcc0.property(\"ngIf\", ctx.imageVisible);\n    } }, directives: [ngcc2.NgIf], styles: [\"[_nghost-%COMP%]{display:flex;max-height:100%;max-width:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:relative;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-height:100%;max-width:100%;transform-origin:center}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{left:0;outline:var(--cropper-overlay-color,#fff) solid 100vw;pointer-events:none;position:absolute;top:0;touch-action:none}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{background:transparent;color:#53535c;display:flex;outline:100vw solid hsla(0,0%,100%,.3);outline:var(--cropper-outline-color,hsla(0,0%,100%,.3)) solid 100vw;position:absolute;touch-action:none}@media (orientation:portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{border:1px dashed;bottom:0;color:inherit;content:\\\"\\\";left:0;opacity:.75;pointer-events:none;position:absolute;right:0;top:0;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.5);cursor:move;width:100%}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{display:inline-block;line-height:6px;opacity:.85;padding:8px;position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{background:#53535c;border:1px solid hsla(0,0%,100%,.5);box-sizing:content-box;display:inline-block;height:6px;width:6px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{cursor:nwse-resize;left:-12px;top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{cursor:ns-resize;left:calc(50% - 12px);top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{cursor:nesw-resize;right:-12px;top:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{cursor:ew-resize;right:-12px;top:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;cursor:nwse-resize;right:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;cursor:ns-resize;left:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;cursor:nesw-resize;left:-12px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{cursor:ew-resize;left:-12px;top:calc(50% - 12px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{cursor:ns-resize;height:22px;left:11px;top:-11px;width:calc(100% - 22px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{cursor:ew-resize;height:calc(100% - 22px);right:-11px;top:11px;width:22px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;cursor:ns-resize;height:22px;left:11px;width:calc(100% - 22px)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{cursor:ew-resize;height:calc(100% - 22px);left:-11px;top:11px;width:22px}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw hsla(0,0%,100%,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,hsla(0,0%,100%,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh hsla(0,0%,100%,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,hsla(0,0%,100%,.3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{display:none}\"], changeDetection: 0 });\n/** @nocollapse */\nImageCropperComponent.ctorParameters = () => [\n    { type: CropService },\n    { type: CropperPositionService },\n    { type: LoadImageService },\n    { type: DomSanitizer },\n    { type: ChangeDetectorRef }\n];\nImageCropperComponent.propDecorators = {\n    wrapper: [{ type: ViewChild, args: ['wrapper', { static: true },] }],\n    sourceImage: [{ type: ViewChild, args: ['sourceImage', { static: false },] }],\n    imageChangedEvent: [{ type: Input }],\n    imageURL: [{ type: Input }],\n    imageBase64: [{ type: Input }],\n    imageFile: [{ type: Input }],\n    format: [{ type: Input }],\n    transform: [{ type: Input }],\n    maintainAspectRatio: [{ type: Input }],\n    aspectRatio: [{ type: Input }],\n    resizeToWidth: [{ type: Input }],\n    resizeToHeight: [{ type: Input }],\n    cropperMinWidth: [{ type: Input }],\n    cropperMinHeight: [{ type: Input }],\n    cropperMaxHeight: [{ type: Input }],\n    cropperMaxWidth: [{ type: Input }],\n    cropperStaticWidth: [{ type: Input }],\n    cropperStaticHeight: [{ type: Input }],\n    canvasRotation: [{ type: Input }],\n    initialStepSize: [{ type: Input }],\n    roundCropper: [{ type: Input }],\n    onlyScaleDown: [{ type: Input }],\n    imageQuality: [{ type: Input }],\n    autoCrop: [{ type: Input }],\n    backgroundColor: [{ type: Input }],\n    containWithinAspectRatio: [{ type: Input }],\n    hideResizeSquares: [{ type: Input }],\n    cropper: [{ type: Input }],\n    alignImage: [{ type: HostBinding, args: ['style.text-align',] }, { type: Input }],\n    disabled: [{ type: HostBinding, args: ['class.disabled',] }, { type: Input }],\n    imageCropped: [{ type: Output }],\n    startCropImage: [{ type: Output }],\n    imageLoaded: [{ type: Output }],\n    cropperReady: [{ type: Output }],\n    loadImageFailed: [{ type: Output }],\n    onResize: [{ type: HostListener, args: ['window:resize',] }],\n    moveImg: [{ type: HostListener, args: ['document:mousemove', ['$event'],] }, { type: HostListener, args: ['document:touchmove', ['$event'],] }],\n    moveStop: [{ type: HostListener, args: ['document:mouseup',] }, { type: HostListener, args: ['document:touchend',] }]\n};\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(ImageCropperComponent, [{\n        type: Component,\n        args: [{\n                selector: 'image-cropper',\n                template: \"<div [style.background]=\\\"imageVisible && backgroundColor\\\"\\n     #wrapper\\n>\\n    <img\\n      #sourceImage\\n      class=\\\"ngx-ic-source-image\\\"\\n      *ngIf=\\\"safeImgDataUrl\\\"\\n      [src]=\\\"safeImgDataUrl\\\"\\n      [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n      [style.transform]=\\\"safeTransformStyle\\\"\\n      (load)=\\\"imageLoadedInView()\\\"\\n    />\\n    <div\\n        class=\\\"ngx-ic-overlay\\\"\\n        [style.width.px]=\\\"maxSize.width\\\"\\n        [style.height.px]=\\\"maxSize.height\\\"\\n        [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n    ></div>\\n    <div class=\\\"ngx-ic-cropper\\\"\\n         *ngIf=\\\"imageVisible\\\"\\n         [class.ngx-ic-round]=\\\"roundCropper\\\"\\n         [style.top.px]=\\\"cropper.y1\\\"\\n         [style.left.px]=\\\"cropper.x1\\\"\\n         [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\n         [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\n         [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n         [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n         (keydown)=\\\"keyboardAccess($event)\\\"\\n         tabindex=\\\"0\\\"\\n    >\\n        <div\\n            (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\n            class=\\\"ngx-ic-move\\\">\\n        </div>\\n        <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\n            <span class=\\\"ngx-ic-resize ngx-ic-topleft\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-top\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-topright\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-right\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-bottomright\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-bottom\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-bottomleft\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize ngx-ic-left\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n            <span class=\\\"ngx-ic-resize-bar ngx-ic-top\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\n            </span>\\n            <span class=\\\"ngx-ic-resize-bar ngx-ic-right\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\n            </span>\\n            <span class=\\\"ngx-ic-resize-bar ngx-ic-bottom\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\n            </span>\\n            <span class=\\\"ngx-ic-resize-bar ngx-ic-left\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\n            </span>\\n        </ng-container>\\n    </div>\\n</div>\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\":host{display:flex;max-height:100%;max-width:100%;overflow:hidden;padding:5px;text-align:center}:host,:host>div{position:relative;width:100%}:host>div img.ngx-ic-source-image{max-height:100%;max-width:100%;transform-origin:center}:host .ngx-ic-overlay{left:0;outline:var(--cropper-overlay-color,#fff) solid 100vw;pointer-events:none;position:absolute;top:0;touch-action:none}:host .ngx-ic-cropper{background:transparent;color:#53535c;display:flex;outline:100vw solid hsla(0,0%,100%,.3);outline:var(--cropper-outline-color,hsla(0,0%,100%,.3)) solid 100vw;position:absolute;touch-action:none}@media (orientation:portrait){:host .ngx-ic-cropper{outline-width:100vh}}:host .ngx-ic-cropper:after{border:1px dashed;bottom:0;color:inherit;content:\\\"\\\";left:0;opacity:.75;pointer-events:none;position:absolute;right:0;top:0;z-index:1}:host .ngx-ic-cropper .ngx-ic-move{border:1px solid hsla(0,0%,100%,.5);cursor:move;width:100%}:host .ngx-ic-cropper:focus .ngx-ic-move{border-color:#1e90ff;border-width:2px}:host .ngx-ic-cropper .ngx-ic-resize{display:inline-block;line-height:6px;opacity:.85;padding:8px;position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize .ngx-ic-square{background:#53535c;border:1px solid hsla(0,0%,100%,.5);box-sizing:content-box;display:inline-block;height:6px;width:6px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topleft{cursor:nwse-resize;left:-12px;top:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-top{cursor:ns-resize;left:calc(50% - 12px);top:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topright{cursor:nesw-resize;right:-12px;top:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-right{cursor:ew-resize;right:-12px;top:calc(50% - 12px)}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomright{bottom:-12px;cursor:nwse-resize;right:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottom{bottom:-12px;cursor:ns-resize;left:calc(50% - 12px)}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomleft{bottom:-12px;cursor:nesw-resize;left:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-left{cursor:ew-resize;left:-12px;top:calc(50% - 12px)}:host .ngx-ic-cropper .ngx-ic-resize-bar{position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-top{cursor:ns-resize;height:22px;left:11px;top:-11px;width:calc(100% - 22px)}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-right{cursor:ew-resize;height:calc(100% - 22px);right:-11px;top:11px;width:22px}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-bottom{bottom:-11px;cursor:ns-resize;height:22px;left:11px;width:calc(100% - 22px)}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-left{cursor:ew-resize;height:calc(100% - 22px);left:-11px;top:11px;width:22px}:host .ngx-ic-cropper.ngx-ic-round{outline-color:transparent}:host .ngx-ic-cropper.ngx-ic-round:after{border-radius:100%;box-shadow:0 0 0 100vw hsla(0,0%,100%,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,hsla(0,0%,100%,.3))}@media (orientation:portrait){:host .ngx-ic-cropper.ngx-ic-round:after{box-shadow:0 0 0 100vh hsla(0,0%,100%,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,hsla(0,0%,100%,.3))}}:host .ngx-ic-cropper.ngx-ic-round .ngx-ic-move{border-radius:100%}:host.disabled .ngx-ic-cropper .ngx-ic-move,:host.disabled .ngx-ic-cropper .ngx-ic-resize,:host.disabled .ngx-ic-cropper .ngx-ic-resize-bar{display:none}\"]\n            }]\n    }], function () { return [{ type: CropService }, { type: CropperPositionService }, { type: LoadImageService }, { type: ngcc1.DomSanitizer }, { type: ngcc0.ChangeDetectorRef }]; }, { format: [{\n            type: Input\n        }], transform: [{\n            type: Input\n        }], maintainAspectRatio: [{\n            type: Input\n        }], aspectRatio: [{\n            type: Input\n        }], resizeToWidth: [{\n            type: Input\n        }], resizeToHeight: [{\n            type: Input\n        }], cropperMinWidth: [{\n            type: Input\n        }], cropperMinHeight: [{\n            type: Input\n        }], cropperMaxHeight: [{\n            type: Input\n        }], cropperMaxWidth: [{\n            type: Input\n        }], cropperStaticWidth: [{\n            type: Input\n        }], cropperStaticHeight: [{\n            type: Input\n        }], canvasRotation: [{\n            type: Input\n        }], initialStepSize: [{\n            type: Input\n        }], roundCropper: [{\n            type: Input\n        }], onlyScaleDown: [{\n            type: Input\n        }], imageQuality: [{\n            type: Input\n        }], autoCrop: [{\n            type: Input\n        }], backgroundColor: [{\n            type: Input\n        }], containWithinAspectRatio: [{\n            type: Input\n        }], hideResizeSquares: [{\n            type: Input\n        }], cropper: [{\n            type: Input\n        }], alignImage: [{\n            type: HostBinding,\n            args: ['style.text-align']\n        }, {\n            type: Input\n        }], disabled: [{\n            type: HostBinding,\n            args: ['class.disabled']\n        }, {\n            type: Input\n        }], imageCropped: [{\n            type: Output\n        }], startCropImage: [{\n            type: Output\n        }], imageLoaded: [{\n            type: Output\n        }], cropperReady: [{\n            type: Output\n        }], loadImageFailed: [{\n            type: Output\n        }], \n    /**\n     * @return {?}\n     */\n    onResize: [{\n            type: HostListener,\n            args: ['window:resize']\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    moveImg: [{\n            type: HostListener,\n            args: ['document:mousemove', ['$event']]\n        }, {\n            type: HostListener,\n            args: ['document:touchmove', ['$event']]\n        }], \n    /**\n     * @return {?}\n     */\n    moveStop: [{\n            type: HostListener,\n            args: ['document:mouseup']\n        }, {\n            type: HostListener,\n            args: ['document:touchend']\n        }], wrapper: [{\n            type: ViewChild,\n            args: ['wrapper', { static: true }]\n        }], sourceImage: [{\n            type: ViewChild,\n            args: ['sourceImage', { static: false }]\n        }], imageChangedEvent: [{\n            type: Input\n        }], imageURL: [{\n            type: Input\n        }], imageBase64: [{\n            type: Input\n        }], imageFile: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.Hammer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.settings;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.setImageMaxSizeRetries;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.moveStart;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.loadedImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.safeImgDataUrl;\n    /** @type {?} */\n    ImageCropperComponent.prototype.safeTransformStyle;\n    /** @type {?} */\n    ImageCropperComponent.prototype.marginLeft;\n    /** @type {?} */\n    ImageCropperComponent.prototype.maxSize;\n    /** @type {?} */\n    ImageCropperComponent.prototype.moveTypes;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageVisible;\n    /** @type {?} */\n    ImageCropperComponent.prototype.wrapper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.sourceImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageChangedEvent;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageURL;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageBase64;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageFile;\n    /** @type {?} */\n    ImageCropperComponent.prototype.format;\n    /** @type {?} */\n    ImageCropperComponent.prototype.transform;\n    /** @type {?} */\n    ImageCropperComponent.prototype.maintainAspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.aspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.resizeToWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.resizeToHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMinWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMinHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMaxHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMaxWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperStaticWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperStaticHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.canvasRotation;\n    /** @type {?} */\n    ImageCropperComponent.prototype.initialStepSize;\n    /** @type {?} */\n    ImageCropperComponent.prototype.roundCropper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.onlyScaleDown;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageQuality;\n    /** @type {?} */\n    ImageCropperComponent.prototype.autoCrop;\n    /** @type {?} */\n    ImageCropperComponent.prototype.backgroundColor;\n    /** @type {?} */\n    ImageCropperComponent.prototype.containWithinAspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.hideResizeSquares;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.alignImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.disabled;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageCropped;\n    /** @type {?} */\n    ImageCropperComponent.prototype.startCropImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageLoaded;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperReady;\n    /** @type {?} */\n    ImageCropperComponent.prototype.loadImageFailed;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cropService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cropperPositionService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.loadImageService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.sanitizer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cd;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/image-cropper.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ImageCropperModule {\n}\nImageCropperModule.mod = ngcc0.defineNgModule({ type: ImageCropperModule });\nImageCropperModule.inj = ngcc0.defineInjector({ factory: function ImageCropperModule_Factory(t) { return new (t || ImageCropperModule)(); }, imports: [[\n            CommonModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ngcc0.setNgModuleScope(ImageCropperModule, { declarations: function () { return [ImageCropperComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [ImageCropperComponent]; } }); })();\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(ImageCropperModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule\n                ],\n                declarations: [\n                    ImageCropperComponent\n                ],\n                exports: [\n                    ImageCropperComponent\n                ]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/interfaces/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: lib/utils/blob.utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} base64Image\n * @return {?}\n */\nfunction base64ToFile(base64Image) {\n    /** @type {?} */\n    const split = base64Image.split(',');\n    /** @type {?} */\n    const type = split[0].replace('data:', '').replace(';base64', '');\n    /** @type {?} */\n    const byteString = atob(split[1]);\n    /** @type {?} */\n    const ab = new ArrayBuffer(byteString.length);\n    /** @type {?} */\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i += 1) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type });\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ngx-image-cropper.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { ImageCropperComponent, ImageCropperModule, base64ToFile, resizeCanvas, CropService as a, CropperPositionService as b, LoadImageService as c };\n\n//# sourceMappingURL=ngx-image-cropper.js.map","import { Component, Inject, OnDestroy, OnInit } from '@angular/core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog'\nimport { ImageCroppedEvent, LoadedImage } from 'ngx-image-cropper'\nimport { Subscription } from 'rxjs'\nimport { VehicleDamage, VehicleTemplate } from 'src/app/business/models/vehicleTemplate.models'\nimport { AdministrationService } from 'src/app/business/services/administration.service'\nimport { NotificationService } from 'src/app/shared/notifications/notification.service'\n\nexport interface VehicleDamageDialogData {\n  action: 'new' | 'edit'\n  damage?: any\n}\n\n@Component({\n  selector: 'app-vehicle-damage-dialog',\n  templateUrl: './vehicle-damage-dialog.component.html',\n  styleUrls: ['./vehicle-damage-dialog.component.scss'],\n})\nexport class VehicleDamageDialogComponent implements OnInit, OnDestroy {\n  subscriptions: Subscription[] = []\n  isLoading = false\n  damageForm: FormGroup\n  selectedDamage: VehicleDamage\n\n  constructor(\n    public dialogRef: MatDialogRef<VehicleDamageDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: VehicleDamageDialogData,\n    private fb: FormBuilder,\n    private administrationService: AdministrationService,\n    private notificationService: NotificationService\n  ) {\n    if (this.data.action === 'edit') {\n      this.selectedDamage = this.data.damage\n    }\n\n    this.damageForm = this.fb.group({\n      name: [this.selectedDamage?.name ?? '', [Validators.required]],\n      uid: [this.selectedDamage?.uid ?? '', [Validators.required]],\n    })\n  }\n\n  ngOnInit() {}\n\n  onSubmit() {\n    if (this.damageForm.invalid) {\n      return Object.values(this.damageForm.controls).forEach((control) => {\n        if (control instanceof FormGroup) {\n          Object.values(control.controls).forEach((control) => control.markAsTouched())\n        } else {\n          control.markAsTouched()\n        }\n      })\n    } else {\n      //save customer\n      this.isLoading = true\n\n      this.administrationService.saveVehicleDamage(this.damageForm.value).subscribe(\n        (res) => {\n          this.isLoading = false\n          this.notificationService.success('Item added')\n          this.dialogRef.close()\n        },\n        (err) => {\n          this.isLoading = false\n          if (err.error?.message?.includes('Damage key already exists')) {\n            return this.notificationService.error('Damage ID already exists')\n          }\n          this.notificationService.error()\n        }\n      )\n    }\n  }\n\n  onCancel() {\n    this.dialogRef.close()\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub) => sub.unsubscribe())\n  }\n}\n","<div class=\"dialog-content custom-scroll\">\n  <div *ngIf=\"isLoading\" class=\"dialog-loader\">\n    <mat-spinner [diameter]=\"50\"></mat-spinner>\n  </div>\n\n  <h3 *ngIf=\"data.action === 'new'\">Add vehicle damage</h3>\n  <h3 *ngIf=\"data.action === 'edit'\">Edit vehicle damage</h3>\n\n  <form class=\"form-group new-damage-form\" [formGroup]=\"damageForm\" (ngSubmit)=\"onSubmit()\">\n    <div class=\"col-12 mb-3\">\n      <label for=\"first_name\" class=\"text-dark text-base\">Name</label>\n      <input\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        class=\"form-control\"\n        formControlName=\"name\"\n        [class.is-invalid]=\"damageForm.controls.name.touched && damageForm.controls.name.invalid\"\n      />\n      <div class=\"form-text invalid-feedback\" *ngIf=\"true\">Invalid field</div>\n    </div>\n    \n    <div class=\"col-12 mb-3\">\n      <label for=\"uid\" class=\"text-dark text-base\">ID</label>\n      <input\n        id=\"uid\"\n        name=\"uid\"\n        type=\"text\"\n        class=\"form-control\"\n        formControlName=\"uid\"\n        [class.is-invalid]=\"damageForm.controls.uid.touched && damageForm.controls.uid.invalid\"\n      />\n      <div class=\"form-text invalid-feedback\" *ngIf=\"true\">Invalid field</div>\n    </div>\n\n    <div class=\"d-flex w-100 px-4 pt-3 justify-content-between mt-3\">\n      <div class=\"col-5\">\n        <button class=\"btn w-100 btn-outline-secondary\" type=\"button\" (click)=\"onCancel()\">Cancel</button>\n      </div>\n      <div class=\"col-5\">\n        <button class=\"btn w-100 btn-success\" type=\"submit\">Save</button>\n      </div>\n    </div>\n  </form>\n</div>\n","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core'\nimport { MatDialog } from '@angular/material/dialog'\nimport { MatPaginator } from '@angular/material/paginator'\nimport { MatSort } from '@angular/material/sort'\nimport { MatTableDataSource } from '@angular/material/table'\nimport { Subscription } from 'rxjs'\nimport { VehicleTemplate } from 'src/app/business/models/vehicleTemplate.models'\nimport { AdministrationService } from 'src/app/business/services/administration.service'\nimport { DialogService } from 'src/app/shared/dialogs/dialog.service'\nimport { NotificationService } from 'src/app/shared/notifications/notification.service'\nimport {\n  VehicleTemplateDialogComponent,\n  VehicleTemplateDialogData,\n} from './vehicle-template-dialog/vehicle-template-dialog.component'\n\n@Component({\n  selector: 'app-vehicle-template',\n  templateUrl: './vehicle-template.component.html',\n  styleUrls: ['./vehicle-template.component.scss'],\n})\nexport class VehicleTemplateComponent implements AfterViewInit, OnInit, OnDestroy {\n  displayedColumns = ['preview', 'name', 'actions']\n  pageSizeOptions: number[] = [12, 24, 50, 100]\n\n  @ViewChild(MatSort) sort: MatSort\n  @ViewChild(MatPaginator) paginator: MatPaginator\n\n  subscriptions: Subscription[] = []\n  items: MatTableDataSource<any>\n  templates: VehicleTemplate[]\n  loading: boolean\n\n  constructor(\n    public dialog: MatDialog,\n    private dialogService: DialogService,\n    public notificationService: NotificationService,\n    private adminService: AdministrationService\n  ) {\n    this.items = new MatTableDataSource([])\n    const sub = this.adminService.vehicleTemplates.subscribe((data) => {\n      this.templates = data\n      this.items.data = data\n    })\n    this.subscriptions.push(sub)\n  }\n\n  ngOnInit() {\n    this.dialogService.showLoader()\n    this.adminService.fetchVehicleTemplates().finally(() => {\n      this.dialogService.hideLoader()\n    })\n  }\n\n  applyFilter(filterValue: string) {\n    this.items.filter = filterValue.trim().toLocaleLowerCase()\n  }\n\n  openNewDialog() {\n    this.dialog.open<VehicleTemplateDialogComponent, VehicleTemplateDialogData>(VehicleTemplateDialogComponent, {\n      width: '800px',\n      data: {\n        action: 'new',\n      },\n    })\n  }\n\n  openEditDialog(template: VehicleTemplate) {\n    this.dialog.open<VehicleTemplateDialogComponent, VehicleTemplateDialogData>(VehicleTemplateDialogComponent, {\n      width: '700px',\n      data: {\n        action: 'edit',\n        template,\n      },\n    })\n  }\n\n  onDelete(template: any) {\n    // console.log(' - VehicleTemplateComponent - template', template.id)\n    this.dialogService.showConfirm({ title: 'Delete template', msg: 'Are you sure?' }, () => {\n      this.loading = true\n      this.adminService.deleteVehicleTemplate(template.id).subscribe(\n        (res) => {\n          this.loading = false\n          this.notificationService.success('Template deleted')\n        },\n        (err) => {\n          this.loading = false\n          this.notificationService.error()\n        }\n      )\n    })\n  }\n\n  ngAfterViewInit() {\n    this.items.sort = this.sort\n    this.items.paginator = this.paginator\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub) => sub.unsubscribe())\n  }\n}\n","<div class=\"px-2 px-md-5 py-3 position-relative\">\n    <div *ngIf=\"loading\" class=\"loader\">\n      <mat-spinner [diameter]=\"50\"></mat-spinner>\n    </div>\n    <div class=\"d-flex flex-wrap w-100 justify-content-between align-items-center mb-3\">\n      <h1 class=\"text-dark d-inline-block content-title\">Vehicle templates</h1>\n      <div class=\"d-flex content-options-bar\">\n        <div class=\"input-group\">\n          <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\">\n              <i class=\"fas fa-search\"></i>\n            </span>\n          </div>\n          <input type=\"text\" class=\"form-control\" (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter by any field...\" />\n        </div>\n        <button (click)=\"openNewDialog()\" class=\"btn font-weight-bold bg-blue-main text-light ml-3\">+Add</button>\n      </div>\n    </div>\n  \n    <div class=\"row mb-4\">\n      <div class=\"col-12 table-wrapper table-responsive\">\n        <table mat-table [dataSource]=\"items\" class=\"table table-borderless table-striped\" matSort>\n          <ng-container matColumnDef=\"preview\">\n            <th mat-header-cell *matHeaderCellDef>Preview</th>\n            <td mat-cell *matCellDef=\"let template\">\n                <img [src]=\"template.imageUrl\" [alt]=\"template.name\" width=\"100px\">\n            </td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"name\">\n            <th mat-header-cell *matHeaderCellDef>Name</th>\n            <td mat-cell *matCellDef=\"let template\">{{ template.name }}</td>\n          </ng-container>\n  \n          <ng-container matColumnDef=\"actions\">\n            <th mat-header-cell *matHeaderCellDef>Actions</th>\n            <td mat-cell *matCellDef=\"let template\">\n              <div class=\"action-buttons\">\n                <button (click)=\"openEditDialog(template)\" class=\"text-dark mr-4\" aria-label=\"edit\">\n                  <i class=\"fas fa-edit text-xl\"></i>\n                </button>\n                <button (click)=\"onDelete(template)\" class=\"text-dark\" aria-label=\"edit\">\n                  <i class=\"fas fa-trash-alt text-xl\"></i>\n                </button>\n              </div>\n            </td>\n          </ng-container>\n  \n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n        </table>\n        <div *ngIf=\"!items.data.length || !items.filteredData.length\" class=\"text-center border py-3 mt-n3 table-width\">No templates found</div>\n        <mat-paginator [pageSizeOptions]=\"pageSizeOptions\" aria-label=\"Select page\"> </mat-paginator>\n      </div>\n    </div>\n  </div>\n  "],"sourceRoot":"webpack:///"}